["# cook your dish here\ndef guessingGame (l):\n a = []\n m = 1000000001\n for i in range (len(l)):\n  k=int(l[i][1])\n  if (l[i][0]=='<' and l[i][2]=='Yes'):\n   a.append((1,1))\n   a.append((k,-1))\n   \n  if (l[i][0]=='<' and l[i][2]=='No'):\n   a.append((k,1))\n   a.append((m,-1))\n   \n  if (l[i][0]=='=' and l[i][2]=='Yes'):\n   a.append((k,1))\n   a.append((k+1,-1))\n\n  if (l[i][0]=='=' and l[i][2]=='No'):\n   a.append((1,1))\n   a.append((k,-1))\n   a.append((k+1,1))\n   a.append((m,-1))\n\n  if (l[i][0]=='>' and l[i][2]=='Yes'):\n   a.append((k+1,1))\n   a.append((m,-1))\n\n  if (l[i][0]=='>' and l[i][2]=='No'):\n   a.append((1,1))\n   a.append((k+1,-1))\n\n a.sort()\n w=0\n r=0\n\n for i in range (len(a)):\n  w+=a[i][1]\n  r=max(w,r)\n\n return len(l)-r\n  \n \ndef __starting_point():\n\n T = int(input())\n answer = []\n\n for _ in range (T):\n  e = int(input())\n  temp = []\n  for q_t in range (e):\n   q = list(map(str,input().rstrip().split()))\n   temp.append(q)\n  result = guessingGame(temp)\n  print(result)\n__starting_point()"]