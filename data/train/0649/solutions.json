["def main():\n for _ in range(int(input())):\n  rows,column = map(int,input().split())\n  arr = []\n  for i in range(rows):\n   arr.append(list(input()))\n  string = input()\n  last = string[-1]\n  operation = Find(string,last)\n  for i in string[0]+operation:\n   if i == \"L\":\n    arr = Left(arr)\n   if i == \"R\":\n    arr = Right(arr)\n   if i == \"U\":\n    arr = Transpose(arr)\n    arr = Left(arr)\n    arr = Transpose(arr)\n   if i == \"D\":\n    arr = Transpose(arr)\n    arr = Right(arr)\n    arr = Transpose(arr)\n  for i in arr:\n   print(i)\ndef Left(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = \"1\"*ans + (len(arr[i]) - ans)*\"0\"\n return arr\ndef Right(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = (len(arr[i]) - ans)*\"0\"+\"1\"*ans\n return arr\ndef Transpose(arr):\n ansss = []\n ans = list(map(list, zip(*arr)))\n for i in ans:\n  ass = i\n  hello = \"\"\n  for j in ass:\n   hello += j\n  ansss.append(hello)\n return ansss \ndef Find(string,last):\n for i in string[-2::-1]: \n  if last == \"L\":\n   if i in [\"D\",\"U\"]:\n    last = i + last\n    break\n  if last == \"R\":\n   if i in [\"D\",\"U\"]:\n    last = i + last\n    break\n  if last == \"D\":\n   if i in [\"L\",\"R\"]:\n    last = i + last\n    break\n  if last == \"U\":\n   if i in [\"L\",\"R\"]:\n    last = i + last\n    break\n return last\n \ndef __starting_point():\n main()\n__starting_point()", "def main():\n for _ in range(int(input())):\n  rows,column = map(int,input().split())\n  arr = []\n  for i in range(rows):\n   arr.append(list(input()))\n  string = input()\n  last = string[-1]\n  operation = Find(string,last)\n  # print(operation)\n  for i in operation:\n   if i == \"L\":\n    arr = Left(arr)\n   if i == \"R\":\n    arr = Right(arr)\n   if i == \"U\":\n    arr = Transpose(arr)\n    arr = Left(arr)\n    arr = Transpose(arr)\n   if i == \"D\":\n    arr = Transpose(arr)\n    arr = Right(arr)\n    arr = Transpose(arr)\n  for i in arr:\n   print(i)\ndef Left(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = \"1\"*ans + (len(arr[i]) - ans)*\"0\"\n return arr\ndef Right(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = (len(arr[i]) - ans)*\"0\"+\"1\"*ans\n return arr\ndef Transpose(arr):\n ansss = []\n ans = list(map(list, zip(*arr)))\n for i in ans:\n  ass = i\n  hello = \"\"\n  for j in ass:\n   hello += j\n  ansss.append(hello)\n return ansss \ndef Find(string,last):\n oper = \"\"+last\n for i in string[-2::-1]: \n  if last == \"L\":\n   if i in [\"D\",\"U\"]:\n    oper = i + oper\n    last = i\n  if last == \"R\":\n   if i in [\"D\",\"U\"]:\n    oper = i + oper\n    last = i\n  if last == \"D\":\n   if i in [\"L\",\"R\"]:\n    oper = i + oper\n    last = i\n  if last == \"U\":\n   if i in [\"L\",\"R\"]:\n    oper = i + oper\n    last = i \n return oper\n \ndef __starting_point():\n main()\n__starting_point()", "def main():\n for _ in range(int(input())):\n  rows,column = map(int,input().split())\n  arr = []\n  for i in range(rows):\n   arr.append(list(input()))\n  string = input()\n  last = string[-1]\n  operation = Find(string,last)\n  # print(operation)\n  for i in string:\n   if i == \"L\":\n    arr = Left(arr)\n   if i == \"R\":\n    arr = Right(arr)\n   if i == \"U\":\n    arr = Transpose(arr)\n    arr = Left(arr)\n    arr = Transpose(arr)\n   if i == \"D\":\n    arr = Transpose(arr)\n    arr = Right(arr)\n    arr = Transpose(arr)\n  for i in arr:\n   print(i)\ndef Left(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = \"1\"*ans + (len(arr[i]) - ans)*\"0\"\n return arr\ndef Right(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = (len(arr[i]) - ans)*\"0\"+\"1\"*ans\n return arr\ndef Transpose(arr):\n ansss = []\n ans = list(map(list, zip(*arr)))\n for i in ans:\n  ass = i\n  hello = \"\"\n  for j in ass:\n   hello += j\n  ansss.append(hello)\n return ansss \ndef Find(string,last):\n oper = \"\"+last\n for i in string[-2::-1]: \n  if last == \"L\":\n   if i in [\"D\",\"U\"]:\n    oper = i + oper\n    last = i\n  if last == \"R\":\n   if i in [\"D\",\"U\"]:\n    oper = i + oper\n    last = i\n  if last == \"D\":\n   if i in [\"L\",\"R\"]:\n    oper = i + oper\n    last = i\n  if last == \"U\":\n   if i in [\"L\",\"R\"]:\n    oper = i + oper\n    last = i \n return oper\n \ndef __starting_point():\n main()\n__starting_point()", "def main():\n for _ in range(int(input())):\n  rows,column = map(int,input().split())\n  arr = []\n  for i in range(rows):\n   arr.append(list(input()))\n  string = input()\n  last = string[-1]\n  operation = Find(string,last)\n  for i in string:\n   if i == \"L\":\n    arr = Left(arr)\n   if i == \"R\":\n    arr = Right(arr)\n   if i == \"U\":\n    arr = Transpose(arr)\n    arr = Left(arr)\n    arr = Transpose(arr)\n   if i == \"D\":\n    arr = Transpose(arr)\n    arr = Right(arr)\n    arr = Transpose(arr)\n  for i in arr:\n   print(i)\ndef Left(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = \"1\"*ans + (len(arr[i]) - ans)*\"0\"\n return arr\ndef Right(arr):\n for i in range(len(arr)):\n  ans = arr[i].count(\"1\")\n  arr[i] = (len(arr[i]) - ans)*\"0\"+\"1\"*ans\n return arr\ndef Transpose(arr):\n ansss = []\n ans = list(map(list, zip(*arr)))\n for i in ans:\n  ass = i\n  hello = \"\"\n  for j in ass:\n   hello += j\n  ansss.append(hello)\n return ansss \ndef Find(string,last):\n for i in string[-2::-1]: \n  if last == \"L\":\n   if i in [\"D\",\"U\"]:\n    last = i + last\n    break\n  if last == \"R\":\n   if i in [\"D\",\"U\"]:\n    last = i + last\n    break\n  if last == \"D\":\n   if i in [\"L\",\"R\"]:\n    last = i + last\n    break\n  if last == \"U\":\n   if i in [\"L\",\"R\"]:\n    last = i + last\n    break\n return last\n \ndef __starting_point():\n main()\n__starting_point()", "def left(list1):\n for i in range(len(list1)):\n  list2=sorted(list1[i])\n  list2.reverse()\n  list1[i]=list2\ndef right(list1):\n for i in range(len(list1)):\n  list2=sorted(list1[i])\n  list1[i]=list2\ndef up(list1):\n for i in range(len(list1[0])):\n  list2=[]\n  for j in range(len(list1)):\n   list2.append(list1[j][i])\n  list2.sort()\n  list2.reverse()\n  for j in range(len(list1)):\n   list1[j][i]=list2[j] \ndef down(list1):\n for i in range(len(list1[0])):\n  list2=[]\n  for j in range(len(list1)):\n   list2.append(list1[j][i])\n  list2.sort()\n  for j in range(len(list1)):\n   list1[j][i]=list2[j]\n\ntest_case=int(input())\nresult=[]\nfor i in range(test_case):\n [n,m]=list(map(int,input().split()))\n list1=[]\n for i in range(n):\n  y=list(input())\n  str2=' '.join(y)\n  list1.append(list(map(int,str2.split())))\n op=list(input())\n for i in range(len(op)):\n  if op[i]=='L':\n   left(list1)\n  if op[i]=='R':\n   right(list1)\n  if op[i]=='D':\n   down(list1)\n  if op[i]=='U':\n   up(list1)\n result.append(list1)\nfor char in result:\n for el in char:\n  print(''.join(list(map(str,el))))"]