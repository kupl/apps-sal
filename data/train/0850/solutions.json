["from math import gcd\r\n\r\n__author__ = 'Prateek'\r\n\r\n\r\ndef test():\r\n    n = int(input())\r\n    a = list(map(int, input().split()))\r\n    a = list(set(a))\r\n    n = len(a)\r\n    if len(a) == 1:\r\n        print(2 * a[0])\r\n        return\r\n    g1 = [0 for i in range(n)]\r\n    g2 = [0 for i in range(n)]\r\n    g1[0] = a[0]\r\n    g2[n - 1] = a[n - 1]\r\n    for i in range(1, n):\r\n        g1[i] = gcd(g1[i - 1], a[i])\r\n    for i in range(n - 2, -1, -1):\r\n        g2[i] = gcd(g2[i + 1], a[i])\r\n    ans = 0\r\n    for i in range(n):\r\n        if i == 0:\r\n            ans = max(ans, g2[i + 1] + a[i])\r\n        elif i == n - 1:\r\n            ans = max(ans, g1[i - 1] + a[i])\r\n        else:\r\n            ans = max(ans, gcd(g1[i - 1], g2[i + 1]) + a[i])\r\n    print(ans)\r\n\r\n\r\nif __author__ == 'Prateek':\r\n    t = int(input())\r\n    for _ in range(t):\r\n        test()\r\n", "from math import gcd\r\nfrom functools import reduce\r\nfor _ in range(int(input())):\r\n    ans = 0\r\n    n = int(input())\r\n    a = list(map(int,input().split()))\r\n    a = list(set(a))\r\n    if len(a) == 1:\r\n        print(a[0]*2)\r\n        continue\r\n    for i in range(len(a)):\r\n        k = a[i]\r\n        del(a[i])\r\n        ans = max(ans, k + reduce(gcd,a))\r\n        a.insert(i,k)\r\n    print(ans)", "# cook your dish here\nimport math \nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    newa=list(set(a))\n    if len(newa)==1:\n        print(newa[0]*2)\n    elif len(newa)==2:\n        print(sum(newa))\n    else:\n        newa.sort()\n        m1=newa.pop()\n        m2=newa.pop()\n        gcd=newa[0]\n        for i in range(1,len(newa)):\n            gcd=math.gcd(gcd,newa[i])\n            if gcd==1:\n                break\n        s1=math.gcd(gcd,m1)\n        s2=math.gcd(gcd,m2)\n        print(max(s1+m2,s2+m1))", "# cook your dish here\nimport math \nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    newa=list(set(a))\n    if len(newa)==1:\n        print(newa[0]*2)\n    elif len(newa)==2:\n        print(sum(newa))\n    else:\n        newa.sort()\n        m1=newa.pop()\n        m2=newa.pop()\n        gcd=newa[0]\n        for i in range(1,len(newa)):\n            gcd=math.gcd(gcd,newa[i])\n            if gcd==1:\n                break\n        s1=math.gcd(gcd,m1)\n        s2=math.gcd(gcd,m2)\n        print(max(s1+m2,s2+m1))", "# cook your dish here\nimport math \nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    newa=list(set(a))\n    if len(newa)==1:\n        print(newa[0]*2)\n    elif len(newa)==2:\n        print(sum(newa))\n    else:\n        newa.sort()\n        m1=newa.pop()\n        m2=newa.pop()\n        gcd=newa[0]\n        for i in range(1,len(newa)):\n            gcd=math.gcd(gcd,newa[i])\n            if gcd==1:\n                break\n        s1=math.gcd(gcd,m1)\n        s2=math.gcd(gcd,m2)\n        print(max(s1+m2,s2+m1))\n", "# cook your dish here\nimport math \nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    newa=list(set(a))\n    if len(newa)==1:\n        print(newa[0]*2)\n    elif len(newa)==2:\n        print(sum(newa))\n    else:\n        newa.sort()\n        m1=newa.pop()\n        m2=newa.pop()\n        gcd=newa[0]\n        for i in range(1,len(newa)):\n            gcd=math.gcd(gcd,newa[i])\n            if gcd==1:\n                break\n        s1=math.gcd(gcd,m1)\n        s2=math.gcd(gcd,m2)\n        print(max(s1+m2,s2+m1))\n", "# cook your dish here\nimport math \nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    newa=list(set(a))\n    if len(newa)==1:\n        print(newa[0]*2)\n    elif len(newa)==2:\n        print(sum(newa))\n    else:\n        newa.sort()\n        m1=newa.pop()\n        m2=newa.pop()\n        gcd=newa[0]\n        for i in range(1,len(newa)):\n            gcd=math.gcd(gcd,newa[i])\n            if gcd==1:\n                break\n        s1=math.gcd(gcd,m1)\n        s2=math.gcd(gcd,m2)\n        print(max(s1+m2,s2+m1))\n#import math as m\n# for _ in range(int(input())):\n#     length = int(input())\n#     arr = list(map(int,input().split()))\n#     if (length==2):\n#         print(arr[0]+arr[1])\n#     else:\n#         tmparr=list(set(arr))\n#         tmparr.sort()\n#         fmax =tmparr.pop()\n#         smax=tmparr.pop()\n#         p = len(tmparr)\n#         if (p==0):\n#             print(fmax+smax)\n#         else: \n#             result = tmparr[0]\n#             for i in range(1,p):\n#                 result = m.gcd(tmparr[i],result)\n#             gcd0 = result\n#             gcdH = m.gcd(gcd0,fmax)\n#             gcdSH = m.gcd(gcd0,smax)\n#             case11 = fmax+gcdSH\n#             case22 = smax+gcdH\n#             print(max(case11,case22))\n", "# cook your dish here\nimport math as m\n# for _ in range(int(input())):\n#     n=int(input())\n#     a=list(map(int,input().split()))\n#     newa=list(set(a))\n#     if len(newa)==1:\n#         print(newa[0]*2)\n#     elif len(newa)==2:\n#         print(sum(newa))\n#     else:\n#         newa.sort()\n#         m=newa.pop()\n#         gcd=newa[0]\n#         for i in range(1,len(a)):\n#             gcd=math.gcd(gcd,a[i])\n#             if gcd==1:\n#                 break\n#         print(m+gcd)\n\nfor _ in range(int(input())):\n    length = int(input())\n    arr = list(map(int,input().split()))\n    if (length==2):\n        print(arr[0]+arr[1])\n    else:\n        tmparr=list(set(arr))\n        tmparr.sort()\n        fmax =tmparr.pop()\n        smax=tmparr.pop()\n        p = len(tmparr)\n        if (p==0):\n            print(fmax+smax)\n        else: \n            result = tmparr[0]\n            for i in range(1,p):\n                result = m.gcd(tmparr[i],result)\n            gcd0 = result\n            gcdH = m.gcd(gcd0,fmax)\n            gcdSH = m.gcd(gcd0,smax)\n            case11 = fmax+gcdSH\n            case22 = smax+gcdH\n            print(max(case11,case22))\n", "import math\r\nfor i in range(int(input())):\r\n    n=int(input())\r\n    a=list(map(int,input().split()))\r\n    if  len(set(a))==1:\r\n        print(2*a[0])\r\n    else:\r\n        a=list(set(a))\r\n        x,p=0,0\r\n        z=max(a)\r\n        a.remove(z)\r\n        for i in range(len(a)):\r\n            x=math.gcd(x,a[i])\r\n\r\n        y=max(a)\r\n        a.append(z)\r\n        a.remove(y)\r\n        for i in range(len(a)):\r\n            p=math.gcd(p,a[i])\r\n        print(max(z+x,p+y))", "from math import gcd\ndef gh(a,b):\n    if len(a) and len(b):\n        x=a[0]\n        y=b[0]\n        for i in a[1:]:\n            x=gcd(x,i)\n        for i in b[1:]:\n            y=gcd(y,i)\n        return x+y\n    return 0\ndef abc(l):\n    s=2**len(l)\n    i=0\n    d=\"{0:0\"+str(len(l))+\"b}\"\n    ans=0\n    while i<s:\n        x=d.format(i)\n        a=[]\n        b=[]\n        for j in range(len(l)):\n            if x[j]=='1':\n                a.append(l[j])\n            else:\n                b.append(l[j])\n        ans=max(ans,gh(a,b))\n        i+=1\n    return ans\n                \nimport random    \nfor _ in range(int(input())):\n    n=int(input())\n    l=list(map(int,input().split()))\n    #\n    d={}\n    for i in l:\n        try:\n            d[i]+=1\n        except:\n            d[i]=1\n    x=list(d.keys())\n    x.sort()\n    if len(x)==1:\n        print(2*l[0])\n    else:\n        ans=x[-1]\n        c=x[0]\n        for i in range(len(x)-1):\n            c=gcd(c,x[i])\n        vy=ans+c\n        ans=x[-2]\n        c=0\n        for i in range(len(x)-2):\n            c=gcd(c,x[i])\n        c=gcd(c,x[-1])\n        vx=ans+c\n        print(max(vx,vy))\n            \n    \n", "import math\r\n\r\ndef __starting_point():\r\n    for _ in range(int(input())):\r\n        n=int(input())\r\n        a=list(set(map(int, input().split())))\r\n        n=len(a)\r\n        flag=0\r\n        if n==1:\r\n            print(a[0]*2)\r\n        else:\r\n            Lgcd=[0]\r\n            Rgcd=[0]\r\n            for i in range(n):\r\n                gcd=math.gcd(Lgcd[i],a[i])\r\n                Lgcd.append(gcd)\r\n            a=a[::-1]\r\n            for i in range(n):\r\n                gcd=math.gcd(Rgcd[i],a[i])\r\n                Rgcd.append(gcd)\r\n            Rgcd=Rgcd[::-1]\r\n          \r\n            a=a[::-1]\r\n            ans=[]\r\n            for i in range(n):\r\n                gcd=a[i] + math.gcd(Lgcd[i],Rgcd[i+1])\r\n                ans.append(gcd)\r\n           # print(ans)\r\n            print(max(ans))\r\n            \r\n            \r\n                \r\n            \r\n                \r\n\r\n\r\n\r\n\r\n\n__starting_point()", "# cook your dish here\r\ndef gcd(x, y): \r\n    while(y): \r\n        x, y = y, x % y \r\n    return x \r\ndef gcdlist(l):\r\n    if(len(l)== 1):\r\n        return l[0]\r\n    else:\r\n        num1 = l[0] \r\n        num2 = l[1] \r\n        gcdfinal = gcd(num1, num2) \r\n        for i in range(2, len(l)): \r\n            gcdfinal = gcd(gcdfinal, l[i]) \r\n        return(gcdfinal)\r\nfor i in range(int(input())):\r\n    n = int(input())\r\n    a = list(map(int,input().split()))\r\n    if(n==1):\r\n        print(a[0])\r\n    elif(n == 2):\r\n        print(a[0]+a[1])\r\n    else :\r\n        max1 = 0 \r\n        max2 = 0 \r\n        for i in range(1,n):\r\n            if (a[i] > max1):\r\n                max2 = max1 \r\n                max1 = a[i] \r\n            elif (a[i] >max2 and a[i] !=max1) :\r\n                max2= a[i]\r\n        a1 = []\r\n        a2 = []\r\n        for i in range(n):\r\n\t        if(a[i] != max1 ):\r\n\t            a1.append(a[i])\r\n\t        if (a[i] != max2):\r\n\t            a2.append(a[i])\r\n        if ( len(a1)== 0 ):\r\n\t        print(a[0])\r\n        else :\r\n            g1=gcdlist(a1)\r\n            g2 = gcdlist(a2)\r\n            print(max(g1 + max1 ,g2+max2))\r\n\t    \r\n            \r\n            \r\n            ", "import math\r\nfor i in range(int(input())):\r\n    n=int(input())\r\n    a=list(map(int,input().split()))\r\n    if  len(set(a))==1:\r\n        print(2*a[0])\r\n    else:\r\n        a=list(set(a))\r\n        x,p=0,0\r\n        z=max(a)\r\n        a.remove(z)\r\n        for i in range(len(a)):\r\n            x=math.gcd(x,a[i])\r\n\r\n        y=max(a)\r\n        a.append(z)\r\n        a.remove(y)\r\n        for i in range(len(a)):\r\n            p=math.gcd(p,a[i])\r\n        print(max(z+x,p+y))", "# cook your dish here\nimport math\nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    if  len(set(a))==1:\n        print(2*a[0])\n    else:\n        a=list(set(a))\n        x,p=0,0\n        z=max(a)\n        a.remove(z)\n        for i in range(len(a)):\n            x=math.gcd(x,a[i])\n\n        y=max(a)\n    ##print(y)\n        a.append(z)\n        a.remove(y)\n        for i in range(len(a)):\n            p=math.gcd(p,a[i])\n        print(max(z+x,p+y))", "# cook your dish here\nimport math\nfor _ in range(int(input())):\n    n=int(input())\n    a=list(map(int,input().split()))\n    a=list(set(a))\n    x,p=0,0\n    z=max(a)\n    a.remove(z)\n    for i in range(len(a)):\n        x=math.gcd(x,a[i])\n\n    y=max(a)\n    ##print(y)\n    a.append(z)\n    a.remove(y)\n    for i in range(len(a)):\n        p=math.gcd(p,a[i])\n    print(max(z+x,p+y))\n", "def gcd(a,b):\n    if b==0:\n        return a\n    else:\n        return gcd(b,a%b)\n\n\nt=int(input())\nfor _ in range(t):\n    n=int(input())\n    l=list(map(int,input().split()))\n    l=list(set(l))\n    n=len(l)\n    if(len(l)==1):\n        print(l[0]*2)\n        continue\n    p=[0 for x in range(n)]\n    s=[0 for x in range(n)]\n    ans1=0\n    p[0]=l[0]\n    for i in range(1,n):\n        p[i]=gcd(l[i],p[i-1])\n    s[n-1]=l[n-1]\n    for i in range(n-2,-1,-1):\n        s[i]=gcd(l[i],s[i+1])\n    #print(p)\n    #print(s)\n    for i in range(n):\n        if(i==0):\n            ans=s[i+1]+l[0]\n        elif(i==n-1):\n            ans=p[n-2]+l[n-1]\n        else:\n            ans=gcd(p[i-1],s[i+1])+l[i]\n        #print(ans)\n        ans1=max(ans1,ans)\n    print(ans1)\n    ", "def gcd(a,b):\n    if b==0:\n        return a\n    else:\n        return gcd(b,a%b)\n\n\nt=int(input())\nfor _ in range(t):\n    n=int(input())\n    l=list(map(int,input().split()))\n    l=list(set(l))\n    n=len(l)\n    if(len(l)==1):\n        print(l[0]*2)\n    p=[0 for x in range(n)]\n    s=[0 for x in range(n)]\n    ans1=0\n    p[0]=l[0]\n    for i in range(1,n):\n        p[i]=gcd(l[i],p[i-1])\n    s[n-1]=l[n-1]\n    for i in range(n-2,-1,-1):\n        s[i]=gcd(l[i],s[i+1])\n    #print(p)\n    #print(s)\n    for i in range(n):\n        if(i==0):\n            ans=s[i+1]+l[0]\n        elif(i==n-1):\n            ans=p[n-2]+l[n-1]\n        else:\n            ans=gcd(p[i-1],s[i+1])+l[i]\n        #print(ans)\n        ans1=max(ans1,ans)\n    print(ans1)\n    ", "from math import gcd\nfor _ in range(int(input())):\n    input()\n    li=sorted(list(set(list(int(i) for i in input().split()))))\n    if len(li)==1:print(2*li[0])\n    elif len(li)==2:print(sum(li))\n    else:\n        g=li[0]\n        for i in range(1,len(li)-2):g=gcd(li[i],g)\n        m=gcd(g,li[-2])+li[-1]\n        n=gcd(g,li[-1])+li[-2]\n        print(max(m,n))", "import math\r\nt=int(input())\r\nfor _ in range (t) :\r\n    n=int(input())\r\n    arr=[int(x)for x in input().split()]\r\n    arr=list(dict.fromkeys(arr))\r\n    arr.sort(reverse=True)\r\n    if(len(arr)==1) :\r\n        ans=2*arr[0]\r\n        print(ans)\r\n        continue\r\n    n=len(arr)\r\n    b=arr[0]\r\n    c=arr[1]\r\n    if(n>=3) :\r\n        temp=arr[2]\r\n        for i in range (2, n) :\r\n            temp=math.gcd(temp,arr[i])\r\n        bval=math.gcd(b,temp)\r\n        cval=math.gcd(c,temp)\r\n        ans=max(bval+c , b+cval)\r\n    else :\r\n        ans=b+c\r\n    print(ans)\r\n    \r\n", "# cook your dish here\n# cook your dish here\nhm={}\ndef gcd(a,b):\n    if b>a:\n        a,b=b,a\n    if b==0:\n        return a\n    else:\n        return gcd(b,a%b)\ndef gcd_list(l,n):\n    gcd1=l[0]\n    for i in range (1,n):\n        gcd1=gcd(gcd1,l[i])\n    return gcd1\n        \nfor _ in range (int(input())):\n    n=int(input())\n    x=[int(n) for n in input().split()]\n    l2=[]\n    l=list(set(x))\n    n=len(l)\n    if n>2:\n        hm={}\n        temp=[]\n        max1=max(l[0],l[1]) \n        max2=min(l[0],l[1]) \n        for i in range(2,len(l)): \n            if l[i]>max1: \n                max2=max1\n                max1=l[i] \n            else: \n                if l[i]>max2: \n                    max2=l[i] \n        m1=max1\n        m2=max2\n        l.remove(m1)\n        l.remove(m2)\n        gcd_1=l[0]\n        for i in range (1,n-2):\n            gcd_1=gcd(gcd_1,l[i])\n        s1=gcd(gcd_1,m2)+m1\n        s2=gcd(gcd_1,m1)+m2\n        print(max(s1,s2))\n    else:\n        if n==1:\n            print(l[0]*2)\n        else:\n            print(sum(l))\n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n        ", "import math\r\ndef cal_gcd(a):\r\n\tfirst=a[0]\r\n\tfor i in range(1,len(a)):\r\n\t\tfirst=math.gcd(first,a[i])\r\n\r\n\treturn first\r\n\r\nfor _ in range(int(input())):\r\n\tn=int(input())\r\n\ta=list(set(map(int,input().split())))\r\n\tn=len(a)\r\n\tif(n==1):\r\n\t\tprint(2*a[0])\r\n\telse:\r\n\t\ta.sort(reverse=True)\r\n\t\tb1=a[0]\r\n\t\tb2=a[1]\r\n\t\tif(n>=3):\r\n\t\t\tfirst=a[2]\r\n\t\t\tfor i in range(3,len(a)):\r\n\t\t\t\tfirst=math.gcd(first,a[i])\r\n\t\t\tprint(max(b1+math.gcd(first,b2), b2+math.gcd(first,b1)))\r\n\t\telse:\r\n\t\t\tprint(b1+b2)"]