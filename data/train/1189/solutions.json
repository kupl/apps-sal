["from sys import stdin\ndef gt(num):\n if num:\n  return num\n return 0\nfor __ in range(int(stdin.readline().split()[0])):\n n = int(stdin.readline().split()[0])\n a = list(map(int, stdin.readline().split()))\n cnta = dict()\n cnta.setdefault(0)\n cntb = dict()\n cntb.setdefault(0)\n for i in a:\n  cnta[i] = gt(cnta.get(i)) + 1\n asum = 0\n bsum = sum(a)\n ans = 0\n for i in range(n-1):\n  asum += a[i]\n  bsum -= a[i]\n  cnta[a[i]] = gt(cnta.get(a[i])) - 1\n  cntb[a[i]] = gt(cntb.get(a[i])) + 1\n  ans += gt(cnta.get(bsum-asum))\n  ans += gt(cntb.get(asum-bsum))\n print(ans)", "from collections import Counter\ndef result(a,n):\n \n ans=0\n total=sum(a)\n prefix=0\n d=Counter()\n for i in range(n):\n  remains=total-a[i]\n  if not remains%2:\n   ans+=d[remains//2]\n  prefix+=a[i]\n  d[prefix]+=1\n d.clear()\n suffix=0\n for i in range(n-1,-1,-1):\n  remains=total-a[i]\n  if not remains%2:\n   ans+=d[remains//2]\n  suffix+=a[i]\n  d[suffix]+=1\n return ans\nqueries=[]\nfor _ in range(int(input())):\n n=input()\n queries.append(list(map(int,input().split( ))))\nfor q in queries:\n print(result(q,len(q)))\n \n \n \n \n \n", "def abc(l,val):\n i=0\n j=len(l)-1\n s=-1\n while i<=j:\n  mid = i+(j-i)//2\n  if l[mid]<val:\n   s=mid\n   i=mid+1\n  else:\n   j=mid-1\n return s+1\ndef bca(l,val):\n i=0\n j=len(l)-1\n s=len(l)\n while i<=j:\n  mid = i+(j-i)//2\n  if l[mid]>=val:\n   s=mid\n   j=mid-1\n  else:\n   i=mid+1\n m=0\n return len(l)-s\n \nimport random\nt=int(input())\nfor _ in range(t):\n n=int(input())\n l=list(map(int,input().split()))\n x=sum(l)\n ans=0\n k=[l[0]]\n for i in range(1,n):\n  k.append(k[-1]+l[i])\n d={}\n for i in range(n):\n  try:\n   d[k[i]]+=[i]\n  except:\n   d[k[i]]=[i]\n for i in range(n):\n  s =x-l[i]\n  if not s%2:\n   try:\n    c = d[s//2]\n    ans+=abc(c,i)\n   except:\n    pass\n   try:\n    c=d[s//2+l[i]]\n    ans+=bca(c,i)\n    if k[-1]==s//2+l[i]:\n     ans-=1\n   except:\n    pass\n   \n print(ans)\n   \n     \n", "from collections import defaultdict\nt = int(input())\nqueries = []\nwhile t:\n t-=1\n n = int(input())\n queries.append(list(map(int,input().split())))\ndef solve(a,n):\n su = sum(a)\n mp = defaultdict(int)\n s = 0\n ans = 0\n for i in range(n):\n  if((su-a[i])%2==0):\n   ans+=mp[(su-a[i])//2]\n  s+=a[i]\n  mp[s]+=1\n mp.clear()\n s = 0\n for i in range(n-1,-1,-1):\n  if((su-a[i])%2==0):\n   ans+=mp[(su-a[i])//2]\n  s+=a[i]\n  mp[s]+=1\n return ans\nfor i in queries:\n print(solve(i,len(i)))", "# @Author: Atul Sahay <atul>\n# @Date:   2020-01-20T11:31:52+05:30\n# @Email:  atulsahay01@gmail.com, atulsahay@cse.iitb.ac.in\n# @Last modified by:   atul\n# @Last modified time: 2020-01-20T23:18:12+05:30\n# from operator import sub\n#\n# def Diff(li1, li2):\n#     # print(li1)\n#     # print(li2)\n#     return  list(map(int.__sub__, li1,li2))\n#\n# def binary_search(l,val,start,end):\n#     # print(\"start\",start,\"end\",end)\n#     # print(\"l\",l)\n#     if(start>end):\n#         return 0\n#     mid = (start + end) //2\n#     # print(\"mid\",mid)\n#     if(l[mid] == val):\n#         return (1+binary_search(l,val,start,mid-1)+binary_search(l,val,mid+1\u00a0\u00a0\u00a0\u00a0,end))\n#     elif(l[mid]>val):\n#         return (binary_search(l,val,start,mid-1))\n#     else:\n#         return(binary_search(l,val,mid+1,end))\n#\n# for t in range(int(input())):\n#     n = int(input())\n#     a = list(map(int,input().strip().split()))\n#     total = sum(a)\n#     inter_sum = 0\n#     S = 0\n#     b = []\n#     for i in a:\n#         inter_sum+=i\n#         b.append(inter_sum)\n#     # print(b)\n#     for i in range(n):\n#         inter_sum = total - a[i]\n#         if(inter_sum%2!=0):\n#             continue\n#         c_l = [0]*i\n#         c_r = [a[i]]*(n-i)\n#         c_l.extend(c_r)\n#         # print(c_l)\n#         l = Diff(b,c_l)\n#         # print(l)\n#         S+=binary_search(l,inter_sum//2,0,n-1)\n#     print(S)\n\nimport bisect\n\nfor t in range(int(input())):\n n = int(input())\n a = list(map(int,input().strip().split()))\n total = sum(a)\n diff = {}\n inter_sum = 0\n for i in range(n-1):\n  if(a[i]==0):\n   continue\n  inter_sum+=a[i]\n  c = inter_sum-(total-inter_sum)\n  if(c in list(diff.keys())):\n   diff[c].append(i)\n  else:\n   diff[c] = [i]\n count = 0\n # print(diff)\n for i in range(n):\n  # print(\"i\",i)\n  if(-a[i] in list(diff.keys())):\n   ans = bisect.bisect_left(diff[-a[i]],i)\n\n   count+=ans\n   # print(1,ans)\n  if(a[i] in list(diff.keys())):\n   ans = bisect.bisect_left(diff[a[i]],i)\n   count+=(len(diff[a[i]])-ans)\n   # print(2,ans)\n print(count)\n"]