["from collections import defaultdict as dd,deque as dq\ndef opbfs(u,vis,ll,parr):\n q=dq([(u,0)])\n uu=u\n su=0\n while q:\n  \n  u,lol=q.pop()\n  par=parr[u]\n  if(lol%2==0):\n   vis[u]=1\n   su+=ll[u-1]\n   ll[u-1]=0\n  for j in d[u]:\n   if(j!=par):\n    q.appendleft((j,lol+1))\n ll[uu-1]=su\ndef bfs(height,d,parr):\n q=dq([1])\n while q:\n  u=q.pop()\n  height[u]=height[parr[u]]+1\n  for i in d[u]:\n   if(i!=parr[u]):\n    q.appendleft(i)\n    parr[i]=u\nt=int(input())\nwhile t:\n n,q=map(int,input().split())\n ll=list(map(int,input().split()))\n d=dd(list)\n for i in range(n-1):\n  u,v=map(int,input().split())\n  d[u].append(v)\n  d[v].append(u)\n vis=[0]*(n+1)\n l=[]\n height=[0]*(n+1)\n parr=[0]*(n+1)\n bfs(height,d,parr)\n for i in range(q):\n  u=int(input())\n  l.append((height[u],u,i))\n l.sort()\n vis=[0]*(n+1)\n #print(l)\n for i in l:\n  he,u,ind=i\n  if(vis[u]==0):\n   #print(u)\n   opbfs(u,vis,ll,parr)\n print(*ll)\n t-=1"]