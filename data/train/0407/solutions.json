["class Solution:\n    def scoreOfParentheses(self, S: str) -> int:\n        ans, val = 0, 1\n        for i in range(len(S) - 1):\n            if S[i: i+2] == '((': val *= 2\n            if S[i: i+2] == '()': ans += val\n            if S[i: i+2] == '))': val //= 2\n        return ans", "class Solution:\n    def scoreOfParentheses(self, S: str) -> int:\n        def h(i,j):\n            if i > j:\n                return 0\n            c = 0\n            ki = i\n            x = 0\n            for k in range(i,j+1):\n                c += 1 if S[k] == '(' else -1\n                if c == 0:\n                    x+=max(1,2*h(ki+1,k-1))\n                    ki = k+1\n            return x\n        return h(0,len(S)-1)"]