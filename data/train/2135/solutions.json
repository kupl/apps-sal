["from time import time\n\n\nopposite = {\n    'N': 'S',\n    'S': 'N',\n    'E': 'W',\n    'W': 'E'\n}\notr = str.maketrans(opposite)\n\nbits = {\n    'N': 0,\n    'S': 1,\n    'E': 2,\n    'W': 3,\n}\n\nQ = 4294967291\n\n\ndef combine(h, v, q):\n    return (h<<2 | v) % q\n\n\ndef combinel(h, v, q, s):\n    return (v*s + h) % q\n\n\ndef flip(s):\n    return ''.join(reversed(s.translate(otr)))\n\n\ndef solvable(p1, p2):\n    h1 = 0\n    h2 = 0\n    s = 1\n    for i in reversed(list(range(len(p1)))):\n        n1 = bits[p1[i]]\n        n2 = bits[opposite[p2[i]]]\n        h1 = combine(h1, n1, Q)\n        h2 = combinel(h2, n2, Q, s)\n        if h1 == h2 and p1[i:] == flip(p2[i:]):\n            return False\n        s = (s<<2) % Q\n    return True\n\n\ndef __starting_point():\n    n = int(input())\n    p1 = input()\n    p2 = input()\n    print('YES' if solvable(p1, p2) else 'NO')\n\n__starting_point()", "from time import time\n\n\nopposite = {\n    'N': 'S',\n    'S': 'N',\n    'E': 'W',\n    'W': 'E'\n}\notr = str.maketrans(opposite)\n\nbits = {\n    'N': 0,\n    'S': 1,\n    'E': 2,\n    'W': 3,\n}\n\nQ = 4294967291\n\n\ndef combine(h, v, q):\n    return (h<<2 | v) % q\n\n\ndef combinel(h, v, q, s):\n    return (v*s + h) % q\n\n\ndef flip(s):\n    return ''.join(reversed(s.translate(otr)))\n\n\ndef solvable(p1, p2):\n    h1 = 0\n    h2 = 0\n    s = 1\n    for i in reversed(list(range(len(p1)))):\n        n1 = bits[p1[i]]\n        n2 = bits[opposite[p2[i]]]\n        h1 = combine(h1, n1, Q)\n        h2 = combinel(h2, n2, Q, s)\n        if h1 == h2 and p1[i:] == flip(p2[i:]):\n            return False\n        s = (s<<2) % Q\n    return True\n\n\ndef __starting_point():\n    n = int(input())\n    p1 = input()\n    p2 = input()\n    print('YES' if solvable(p1, p2) else 'NO')\n\n\n\n\n# Made By Mostafa_Khaled\n\n__starting_point()"]