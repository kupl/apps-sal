["def f(n):\n\n s = list(map(int, input().split()))\n low = []\n high = []\n\n for i in range(n - 1):\n  low.append(min(s[i], s[i+1]))\n  high.append(max(s[i], s[i+1]))\n low.sort()\n high.sort()\n curr = mx = 0\n i = j = 0\n n -= 1\n while i < n and j < n:\n  if low[i] < high[j]:\n   i += 1\n   curr += 1\n  else:\n   j += 1\n   curr -= 1\n  mx = max(mx, curr)\n\n return mx \n \nn = int(input())\nprint(f(n))"]