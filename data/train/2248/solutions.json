["mod = 1000000007\neps = 10**-9\n\n\ndef main():\n    import sys\n    input = sys.stdin.readline\n\n    def PrimeDecomposition(N):\n        ret = {}\n        n = int(N ** 0.5)\n        for d in range(2, n + 1):\n            while N % d == 0:\n                if d not in ret:\n                    ret[d] = 1\n                else:\n                    ret[d] += 1\n                N //= d\n            if N == 1:\n                break\n        if N != 1:\n            ret[N] = 1\n        return ret\n\n    for _ in range(int(input())):\n        p, q = list(map(int, input().split()))\n        if p % q != 0:\n            print(p)\n            continue\n        prime = PrimeDecomposition(q)\n        C = {}\n        mi = p\n        for pr in prime:\n            C = 0\n            tmp = p\n            while tmp % pr == 0:\n                C += 1\n                tmp //= pr\n            mi = min(mi, pr ** (C - prime[pr] + 1))\n        print(p // mi)\n\n\ndef __starting_point():\n    main()\n\n__starting_point()", "for _ in range(int(input())):\n    p, q = list(map(int, input().split()))\n    if p % q != 0:\n        print(p)\n        continue\n    pr = {}\n    i = 2\n    while i*i <= q:\n        if q % i == 0:\n            x = 0\n            while q % i == 0:\n                q //= i\n                x += 1\n            pr[i] = x\n        i += 1\n    if q != 1:\n        pr[q] = 1\n\n    res = 1\n    for k in pr:\n        v = pr[k]\n        pp = p\n        x = 0\n        while pp % k == 0:\n            pp //= k\n            x += 1\n        res = max(res, p//k**(x-(v-1)))\n    print(res)\n", "import sys\ninput = sys.stdin.readline\nfor f in range(int(input())):\n    p,q=list(map(int,input().split()))\n    d=2\n    facs=[]\n    facsm=[]\n    while q>=d*d:\n        if q%d==0:\n            facs.append(d)\n            x=0\n            while q%d==0:\n                x+=1\n                q//=d\n            facsm.append(x-1)\n        d+=1\n    if q>1:\n        facs.append(q)\n        facsm.append(0)\n    mc=p\n    pc=p\n    for i in range(len(facs)):\n        x=0\n        while pc%facs[i]==0:\n            x+=1\n            pc//=facs[i]\n        mc=min(mc,facs[i]**(x-min(x,facsm[i])))\n    p//=mc\n    print(p)\n", "import sys\nfrom sys import stdin\n\ntt = int(stdin.readline())\n\nfor loop in range(tt):\n\n    p,q = map(int,stdin.readline().split())\n\n    if p % q != 0:\n        print (p)\n        continue\n\n    bk = {}\n    for i in range(2,10**5):\n        if q % i == 0:\n            bk[i] = 0\n            while q % i == 0:\n                bk[i] += 1\n                q //= i\n        if bk == 1:\n            break\n\n    if q != 1:\n        bk[q] = 1\n\n    #print (bk)\n\n    ans = float(\"-inf\")\n    for i in bk:\n        cnt = 0\n        tp = p\n        while tp % i == 0:\n            tp //= i\n            cnt += 1\n        ans = max(ans , p // (i**(cnt-bk[i]+1)))\n\n    print (ans)"]