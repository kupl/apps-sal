["try:\n t,m=input().split()\n t=int(t)\n m=list(m)\n letters=list(\"abcdefghijklmnopqrstuvwxyz\")\n trans={}\n for i in range(len(letters)):\n  trans[letters[i]]=m[i]\n for i in range(t):\n  x=list(input())\n  y=\"\"\n  for j in x:\n   if(j.isalpha()==True):\n    if(j.isupper()==True):\n     y+=trans[j.lower()].upper()\n    else:\n     y+=trans[j]\n   else:\n    if(j=='_'):\n     y+=\" \"\n    else:\n     y+=j\n  print(y)\n  \nexcept:pass", "# cook your dish here\ntry:\n t,s=input().split()\n for i in range(int(t)):\n  s1=eval(input())\n  s1=s1.replace(\"_\",\" \")\n \n  aa=\"\"\n  for i in s1:\n   if(i.isalpha()==True):\n    if(i.isupper()==True):\n     i=i.lower()\n     g=ord(i)%97\n     ss1=s[g].upper()\n     aa+=ss1\n    else:\n    \n     g=ord(i)%97\n     aa+=s[g]\n   else:\n    aa+=i \n  print(aa)\nexcept:pass\n  \n  \n \n \n"]