["from sys import setrecursionlimit\nsetrecursionlimit(10 ** 9)\n\ndef solve(i, j, c=0):\n if i > j:\n  return 0\n\n if (i, j) in dp:\n  return dp[i, j]\n\n x0 = solve(i+1, j, c^1)\n x1 = solve(i, j-1, c^1)\n\n if c == 0:\n  y = 1 << (j - i)\n  x0 += a[i] * y\n  x1 += a[j] * y\n\n dp[i, j] = x0 + x1\n return dp[i, j]\n\nfor _ in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n dp = {}\n\n total = solve(0, n-1)\n print(total / (1 << n))\n", "from sys import setrecursionlimit\nsetrecursionlimit(10 ** 9)\n\ndef solve(i, j, c=0):\n if i > j:\n  return 0, 1\n\n if (i, j) in dp:\n  return dp[i, j]\n\n if c == 0:\n  x0, y0 = solve(i + 1, j, c ^ 1)\n  x1, y1 = solve(i, j - 1, c ^ 1)\n\n  dp[i, j] = x0 + x1 + a[i] * y0 + a[j] * y1, y0 + y1\n  return x0 + x1 + a[i] * y0 + a[j] * y1, y0 + y1\n else:\n  x0, y0 = solve(i + 1, j, c ^ 1)\n  x1, y1 = solve(i, j - 1, c ^ 1)\n\n  dp[i, j] = x0 + x1, y0 + y1\n  return x0 + x1, y0 + y1\n\nfor _ in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n dp = {}\n\n total, total_count = solve(0, n-1)\n print(total / total_count)\n", "for _ in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n a1 = [list(0 for _ in range(n+1)) for __ in range(n+1)]\n a2 = [list(0 for _ in range(n+1)) for __ in range(n+1)]\n for i in range(n):\n  a1[i][i] = a[i]\n  a2[i][i] = 0\n for i in range(n-1, -1, -1):\n  for j in range(i, n):\n   a1[i][j] = 0.5*(a[i] + a2[i+1][j]) + 0.5*(a[j] + a2[i][j-1])\n   a2[i][j] = 0.5*(a1[i+1][j]) + 0.5*(a1[i][j-1])\n print(a1[0][n-1])", "coeff=[[1],[0.5,0.5]]\nfor i in range(2,1001):\n l1=[]\n l1.append(1-(coeff[-1][0])/2)\n for j in range(1,i):\n  p=(coeff[-1][j]+coeff[-1][j-1])/2 \n  l1.append(1-p)\n l1.append(l1[0])\n coeff.append(l1)\nfor i in range(int(input())):\n n=int(input())\n\n arr=[int(i) for i in input().split()]\n ans=0\n for i in range(n):\n  ans+=arr[i]*coeff[n-1][i]\n print(ans)", "def recSolve(a, dp, l, r):\n if(l>r):\n  return 0\n if dp[l][r] != 0.0:\n  return dp[l][r]\n x = a[l]+ (recSolve(a, dp, l+2, r) + recSolve(a, dp, l+1, r-1))*0.5\n y = a[r]+ (recSolve(a, dp, l+1, r-1) + recSolve(a, dp, l, r-2))*0.5\n dp[l][r] = (x+y)*0.5\n return dp[l][r]\nfor _ in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n dp = [[0.0]*(n+1) for i in range(n+1)]\n res = recSolve(a, dp, 0, n-1)\n print(res)"]