["from math import gcd\r\nn, k = list(map(int, input().split()))\r\na = []\r\nfor i in range(k):\r\n    try:\r\n        a += list(map(int, input().split()))\r\n    except:\r\n        pass\r\nans = n\r\nfor i in range(1, 2**k):\r\n    b = bin(i)[2:].rjust(k, \"0\")\r\n    c = []\r\n    for j in range(k):\r\n        if(b[j] == '1'):\r\n            c.append(a[j])\r\n    lcm = c[0]\r\n    for j in c[1:]:\r\n        lcm *= j // gcd(lcm, j)\r\n    temp = ((n - 1) // lcm) + 1\r\n    if(b.count('1')&1):\r\n        ans -= temp\r\n    else:\r\n        ans += temp\r\nprint(ans)\r\n\r\n"]