["def split(a,n,s,l):\n    pieces = []\n\n    i = 1\n    tmpmin = a[0]\n    tmpmax = a[0]\n    tmppc  = [a[0]]\n    while i<n:\n        if abs(a[i]-tmpmin)<=s and abs(a[i]-tmpmax)<=s:\n            tmppc.append(a[i])\n            if a[i]<tmpmin: tmpmin=a[i]\n            elif a[i]>tmpmax: tmpmax = a[i]\n        else:\n            pieces.append(tmppc)\n            tmppc = [a[i]]\n            tmpmin = a[i]\n            tmpmax = a[i]\n        i += 1\n    pieces.append(tmppc)\n\n    fail = False        \n    for j in range(len(pieces)):\n        if len(pieces[j])<l:\n            if j>0:\n                prevpc = pieces[j-1]\n                minj = min(pieces[j])\n                maxj = max(pieces[j])\n                \n                while len(pieces[j])<l:\n                    tmp = prevpc.pop()\n                    if abs(tmp-minj)<=s and abs(tmp-maxj)<=s:\n                        pieces[j].insert(0,tmp)\n                        if tmp<minj: minj=tmp\n                        elif tmp>maxj: maxj=tmp\n                    else:\n                        return -1\n                    if len(prevpc)<l:\n                        return -1\n            else:\n                return -1\n    return len(pieces)\n\nn,s,l = [int(s) for s in input().split()]\na = [int(s) for s in input().split()]\n\n\nres = split(a,n,s,l)\nif res<0:\n    a.reverse()\n    res = split(a,n,s,l)\nprint(res)\n    \n\n\n\n"]