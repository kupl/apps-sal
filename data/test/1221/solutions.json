["from sys import stdin, stdout\n\nn, m = map(int, stdin.readline().split())\nfirst = list(map(int, stdin.readline().split()))\nsecond = list(map(int, stdin.readline().split()))\nans = float('inf')\n\nfor i in range(n):\n    cnt = float('-inf')\n    \n    for j in range(m):    \n        for z in range(n):\n            if z == i:\n                continue\n            \n            cnt = max(cnt, first[z] * second[j])\n    \n    ans = min(ans, cnt)\n\nstdout.write(str(ans))", "def main():\n    n, m = [int(x) for x in input().split()]\n    a = sorted([int(x) for x in input().split()])\n    b = sorted([int(x) for x in input().split()])\n    \n    vv = max(a[0] * b[0], a[-1]* b[0], a[0]*b[-1],a[-1]*b[-1])\n    if vv == a[0] * b[0] or vv == a[0]*b[-1]:\n        a.pop(0)\n    else:\n        a.pop(-1)\n        \n    vv = max(a[0] * b[0], a[-1]* b[0], a[0]*b[-1],a[-1]*b[-1])\n    \n    print(vv)\n    \ndef __starting_point():\n    main()\n\n__starting_point()", "class Solution:\n    def resolve(self, n, m, a, b):\n        prod = [0] * n\n        for i, ai in enumerate(a):\n            mm = ai * b[0]\n            for bi in b:\n                mm = max(mm, ai * bi)\n            prod[i] = mm\n        prod.sort()\n        return prod[-2]\n\n\ndef __starting_point():\n    s = Solution()\n\n    n, m = list(map(int, input().split()))\n    a = list(map(int, input().split()))\n    b = list(map(int, input().split()))\n\n    re = s.resolve(n, m, a, b)\n    print(re)\n\n\n\n__starting_point()", "n, m = list(map(int, input().split()))\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\nm = 10**19\nfor k in range(n):\n    t = -10**19\n    for i in range(n):\n        if (i!=k):\n            if a[i]>=0:\n                t = max(max(b) * a[i], t)\n            else:\n                t = max(min(b) * a[i], t)\n    m = min(t, m)\nprint(m)\n", "n,m = list(map(int,input().split()))\nl = list(map(int,input().split()))\nx = list(map(int,input().split()))\nd = {}\nfor i in l:\n\tfor j in x:\n\t\td[(i,j)] = i*j\n\nc = -9999999999999999999\nfor i in d:\n\tif(d[i] > c):\n\t\tc = d[i]\n\t\ty = i[0]\n\nl.remove(y)\nc = -9999999999999999999\nfor i in l:\n\tfor j in x:\n\t\tc = max(c,i*j)\nprint(c)\n", "def solve():\n    N, M = list(map(int, input().split()))\n\n    T = list(map(int, input().split()))\n    B = list(map(int, input().split()))\n\n    res = []\n    for n in range(N):\n        for m in range(M):\n            res.append([T[n]*B[m], n, m])\n\n    res.sort(reverse=True)\n\n    a = T[res[0][1]]\n\n    T.remove(a)\n\n    MAX = (-1) * float('inf')\n    for t in T:\n        for b in B:\n            MAX = max(t*b,MAX)\n\n    print(int(MAX))\n\n\ndef __starting_point():\n    solve()\n\n\n\n__starting_point()", "R=lambda:map(int,input().split())\n\nn, m = R()\n\na = list(R())\nb = list(R())\n\na.sort(reverse=True)\nb.sort(reverse=True)\n\na1 = a[0] * b[0]\na2 = a[0] * b[m-1]\na3 = a[n-1] * b[0]\na4 = a[n-1] * b[m-1]\n\nif max(a1, a2, a3, a4) == max(a1, a2):\n    a = a[1:]\n    \nelse:\n    a = a[:n-1]\n    \na1 = a[0] * b[0]\na2 = a[0] * b[m-1]\na3 = a[n-2] * b[0]\na4 = a[n-2] * b[m-1]\n\nprint (max(a1, a2, a3, a4))", "n, m = list(map(int, input().split()))\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\n\ndef MAX(a):\n    ans = -float('inf')\n    for i in b:\n        for j in a:\n            ans = max(ans, i * j)\n    return ans\n\n\nmax_ = {i:-float('inf') for i in range(len(a))}\n\nfor i in range(len(a)):\n    new_a = a[:i] + a[i+1:]\n    max_[i] = MAX(new_a)\n\nprint(min(i for i in list(max_.values())))\n", "def first(num):\n    return num[0]\n\n\nn, m = map(int, input().split())\nnum = list(map(int, input().split()))\nlst = list(map(int, input().split()))\npr = []\nfor i in range(n):\n    for j in range(m):\n        pr.append([num[i] * lst[j], num[i], lst[j]])\npr.sort(key=first)\npr.reverse()\nnum.pop(num.index(pr[0][1]))\nans = -100000000000000000000000000000\nfor i in range(n - 1):\n    for j in range(m):\n        if num[i] * lst[j] > ans:\n            ans = num[i] * lst[j]\nprint(ans)", "n, m = map(int, input().split())\na = [int(i) for i in input().split()]\nb = [int(i) for i in input().split()]\nd = {}\nfor i in a:\n    if (i not in d):\n        d[i] = 0\n    d[i] += 1\npair = []\nfor i in range(n):\n    for j in range(m):\n        pair.append([a[i], b[j]])\npair.sort(key = lambda x: x[0] * x[1])\ni = -2\nif d[pair[-1][0]] > 1:\n    print(pair[-1][0] * pair[-1][1])\nelse:\n    while pair[i][0] == pair[i + 1][0] and d[pair[i][0]] == 1:\n        i -= 1\n    print(pair[i][0] * pair[i][1])", "#!/usr/bin/env python3\nfrom sys import stdin, stdout\n\ndef rint():\n    return list(map(int, stdin.readline().split()))\n#lines = stdin.readlines()\n\n\nn, m = rint()\n\na = []\nb = []\na = list(rint())\nb = list(rint())\n\nMax = -10**1000\nmaxi = -1\nfor i in range(n):\n    for j in range(m):\n        if Max < a[i]*b[j]:\n            Max = a[i]*b[j]\n            maxi = i\nMax = -10**1000\nfor i in range(n):\n    if i == maxi:\n        continue\n    for j in range(m):\n        if Max < a[i]*b[j]:\n            Max = a[i]*b[j]\n\nprint(Max)\n\n", "pt = lambda *a, **k: print(*a, **k, flush=True)\nrd = lambda: map(int, input().split())\nn, m = rd()\nan = list(rd())\nbn = list(rd())\na1 = max(an)\na2 = min(an)\nb1 = max(bn)\nb2 = min(bn)\nc1 = max(a1 * b1, a1 * b2)\nc2 = max(a2 * b1, a2 * b2)\nif c1 > c2:\n    an.remove(a1)\nelse:\n    an.remove(a2)\nr = -0x3f3f3f3f3f3f3f3f\nfor i in an:\n    for j in bn:\n        if i * j > r:\n            r = i * j\npt(r)\n", "n, m = map(int, input().split())\nl1 = list(map(int, input().split()))\nl2 = list(map(int, input().split()))\nans1 = []\nfor i in range(n):\n    ans = -10 ** 18 - 1\n    for j in range(n):\n        if j != i:\n            for q in range(m):\n                if ans < l1[j] * l2[q]:\n                    ans = l1[j] * l2[q]\n    ans1.append(ans)\nprint(min(ans1))", "n, m = list(map(int, input().split()))\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\n\nprint(min([max([a[j] * b[k] for j in range(n) for k in range(m) if i != j]) for i in range(n)]))\n", "n, m = list(map(int, input().split()))\na = [int(x) for x in input().split()]\nb = sorted([int(x) for x in input().split()])\nlo = b[0]\nhi = b[-1]\nc = []\n\nfor k in range(len(a)):\n    best = -1000000000000000001\n    for i in range(len(a)):\n        if i != k:\n            best = max([best, a[i]*lo, a[i]*hi])\n    c.append(best)\nprint(min(c))\n", "n, m=list(map(int, input().split()))\na=list(map(int, input().split()))\nb=list(map(int, input().split())); d=[]; x=0\na.sort()\nb.sort()\nfor t in range(n):\n    if a[t]>0:\n        d.append(a[t]*b[-1])\n    else:\n        d.append(a[t]*b[0])\nd.sort()\nprint(d[-2])\n\n        \n        \n        \n", "n, m = map(int, input().split())\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\nkek = 1000000000000000000\nfor i in range(n):\n    l = 0\n    ti = -1000000000000000000\n    for j in range(n):\n        if j == i:\n            continue\n        for k in range(m):\n            ti = max(a[j] * b[k], ti)\n    kek = min(kek, ti)\nprint(kek)", "n,m = list(map(int, input().split()))\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\na = sorted(a, reverse=True)\nb = sorted(b, reverse=True)\nres=max(a[0]*b[0],a[-1]*b[-1],a[0]*b[-1],a[-1]*b[0])\nif ((res==a[0]*b[0]) or (res==a[0]*b[-1])):\n    a.remove(a[0])\nelse:\n    a.remove(a[-1])\nres=max(a[0]*b[0],a[-1]*b[-1],a[0]*b[-1],a[-1]*b[0])\nprint(res)\n", "n, m = map(int, input().split())\ntom = list(map(int, input().split()))\nban = list(map(int, input().split()))\na1 = max(tom)\na2 = min(tom)\nb1 = max(ban)\nb2 = min(ban)\nif max(a1 * b1, a1 * b2) <= max(a2 * b1, a2 * b2):\n    tom.remove(a2)\nelse:\n    tom.remove(a1)\nr = -0x3f3f3f3f3f3f3f3f\nfor i in tom:\n    for j in ban:\n        if i * j > r:\n            r = i * j\nprint(r, flush=True)\n", "# import sys\n# sys.stdin = open('in.txt', 'r')\n\ninput()\na = list(map(int, input().split()))\nb = list(map(int, input().split()))\n\ncandi = []\nfor x in a:\n    mx = x * b[0]\n    for y in b:\n        mx = max(mx, x * y)\n\n    candi.append(mx)\n\ncandi.sort()\nprint(candi[-2])\n", "n, m = list(map(int, input().split()))\nb = sorted(map(int, input().split()))\nc = sorted(map(int, input().split()))\na = b[0] * c[0]\ni_k = 0\nfor i in range(len(b)):\n    for j in range(len(c)):\n        if b[i] * c[j] > a:\n            a = b[i] * c[j]\n            i_k = i\ndel b[i_k]\na = b[0] * c[0]\nfor i in range(len(b)):\n    for j in range(len(c)):\n        if b[i] * c[j] > a:\n            a = b[i] * c[j]\nprint(a)\n        \n", "# -*- coding: utf-8 -*-\n\"\"\"\nCreated on Wed Feb 14 17:39:42 2018\n\n@author: Paras Sharma\n\"\"\"\n\nn,m=list(map(int,input().split()))\nnl=[]\nml=[]\nnl=list(map(int,input().split()))\nml=list(map(int,input().split()))    \nnl.sort()\nml.sort()\na=nl[0]*ml[-1]\nb=nl[-1]*ml[0]\nc=nl[-1]*ml[-1]\nd=nl[0]*ml[0]\ncurr=[a,b,c,d]\nif max(curr)==a or max(curr)==d:\n    nl.pop(0)\nelse:\n    nl.pop(-1)\n\na=nl[0]*ml[-1]\nb=nl[-1]*ml[0]\nc=nl[-1]*ml[-1]\nd=nl[0]*ml[0]\ncurr=[a,b,c,d]\nprint(max(curr))", "tommy, banban = list(map(int, input().split(\" \")))\nallTommy = sorted(list(map(int, input().split(\" \"))))\nallBanban = sorted(list(map(int, input().split(\" \"))))\nallValues = []\nfor i in allTommy:\n    for j in allBanban:\n        allValues.append([i*j, i, j])\nallValues.sort()\ni = 0\nwhile i < len(allTommy):\n    if allTommy[i] == allValues[-1][1]:\n        allTommy.pop(i)\n        break\n    i += 1\nnewValues = []\nfor i in allTommy:\n    for j in allBanban:\n        newValues.append(i*j)\nnewValues.sort()\nprint(newValues[-1])", "def main():\n\tn,m = list(map(int,input().split()))\n\tl = list(map(int,input().split()));x = list(map(int,input().split()))\n\tm = {}\n\tfor i in l:\n\t\tfor j in x:\n\t\t\tm[(i,j)] = i*j\n\tc = -99798789896868767678678687687\n\tfor i in m:\n\t\tif(m[i] > c):\n\t\t\tc = m[i]\n\t\t\ty = i[0]\n\tl.remove(y)\n\tc = -99798789896868767678678687687\n\tfor i in l:\n\t\tfor j in x:\n\t\t\tc = max(c,i*j)\n\tprint(c)\n \nmain()", "n = 0\nm = 0\nMaxP = 0\nA = [0] * 100\nB = [0] * 100\nMaxV = -99999999999999999999999999999999999999;\n\nn, m = map(int, input().split())\nA = list(map(int, input().split()))\nB = list(map(int, input().split()))\nfor i in range(n):\n\tfor j in range(m):\n\t\tif MaxV < A[i] * B[j]:\n\t\t\tMaxP = i; MaxV = A[i] * B[j];\n\nMaxV = -99999999999999999999999999999999999999999;\nfor i in range(n):\n\tif i != MaxP:\n\t\tfor j in range(m):\n\t\t\tif MaxV < A[i] * B[j]:\n\t\t\t\tMaxV = A[i] * B[j]\n\nprint(MaxV)"]