["n = int(input())\nv = list(map(int, input().split()))\nu = sorted(v)\ndv, du = [0] * (n + 1), [0] * (n + 1)\nans = list()\n\nfor i in range(1, n + 1):\n    dv[i] = dv[i-1] + v[i-1]\n    du[i] = du[i-1] + u[i-1]\n\nfor i in range(int(input())):\n    (t, l, r) = list(map(int, input().split()))\n    d = dv if t == 1 else du\n    ans.append(str(d[r] - d[l-1]))\n\nprint('\\n'.join(ans))\n", "n = int(input().strip())\nv = list(map(int, input().split()))\nm = int(input().strip())\nf1 = [0] * n\nf2 = [0] * n\nu = sorted(v)\nfor i in range(n):\n    f1[i] = v[i]\n    if i > 0:\n        f1[i] += f1[i - 1]\n        \nfor i in range(n):\n    f2[i] = u[i]\n    if i > 0:\n        f2[i] += f2[i - 1]        \n\nans = []\n\nfor i in range(m):\n    t, l, r = map(int, input().split())\n    l -= 1\n    r -= 1\n    if t == 1:\n        an = f1[r]\n        if l > 0:\n            an -= f1[l - 1]\n        ans.append(an)\n    else:\n        an = f2[r]\n        if l > 0:\n            an -= f2[l - 1]\n        ans.append(an)\n        \nprint(*ans, sep = '\\n')", "import sys, itertools\nf = sys.stdin\n# f = open('H:\\\\Portable Python 3.2.5.1\\\\tests\\\\test_248B1.txt') \nn = int(f.readline().strip())\nv = [int(u) for u in f.readline().strip().split()]\nm = int(f.readline().strip())\n\nvs = list(itertools.accumulate(v))\nu = sorted(v)\nus = list(itertools.accumulate(u))\n\np = []\nfor i in range(m):\n    type, l, r = list(map(int, f.readline().strip().split()))\n    if type==1:\n        if l>1 :p.append( str(vs[r-1]-vs[l-2]) )\n        else :p.append( str(vs[r-1]) )\n    else:\n        if l>1 :p.append( str(us[r-1]-us[l-2]) )\n        else :p.append( str(us[r-1]) )\n\nprint('\\n'.join(p))\n", "from sys import stdin as cin\n\nn = int(cin.readline())\na=list((list(map(int,cin.readline().split()))))\n\nb = sorted(a)\n\nfor i in range(1,n):\n    a[i]+=a[i-1]\n    b[i]+=b[i-1]\nfor i in range(int(cin.readline())):\n    q,x,y=(list(map(int,cin.readline().split())))\n    #print(q,x,y)\n    if q==1:\n        if x==1:\n            print(a[y-1]-a[x-1]+a[0])\n        else:\n            print(a[y-1]-a[x-2])\n    else:\n        if x==1:\n            print(b[y-1]-b[x-1]+b[0])\n        else:\n            print(b[y-1]-b[x-2])\n", "\nn = int(input())\na = list(map(int, input().split()))\nb = sorted(a)\n\nprefa = [0] * (n + 1)\nprefb = [0] * (n + 1)\n\nfor i in range(1, n + 1):\n\tprefa[i] = prefa[i - 1] + a[i - 1]\n\nfor i in range(1, n + 1):\n\tprefb[i] = prefb[i - 1] + b[i - 1]\n\nm = int(input())\nfor i in range(m):\n\ttype, l, r = map(int, input().split())\n\tif type == 1:\n\t\tprint(prefa[r] - prefa[l - 1])\n\telse:\n\t\tprint(prefb[r] - prefb[l - 1])", "n=int(input())\nrocks=list(map(int, input().split()))\nsortrocks=[0]*n\nfor i in range(n):\n    sortrocks[i]=rocks[i]\nsortrocks.sort()\nv=[0]*(n+1)\nv[1]=rocks[0]\nu=[0]*(n+1)\nu[1]=sortrocks[0]\nfor i in range(2,n+1):\n    v[i]=v[i-1]+rocks[i-1]\n    u[i]=u[i-1]+sortrocks[i-1]\nm=int(input())\nfor i in range(m):\n    (type,l,r)=list(map(int, input().split()))\n    l-=1\n    if type==1:\n        print(v[r]-v[l])\n    else:\n        print(u[r]-u[l])\n", "n=int(input())\n\nL=list(map(int,input().split()))\nS=list(L)\nfor i in range(1,n):\n    S[i]+=S[i-1]\n\nX=list(sorted(L))\nfor i in range(1,n):\n    X[i]+=X[i-1]\nq=int(input())\n\nwhile(q):\n    q-=1\n    t,x,y=list(map(int,input().split()))\n    if(t==1):\n        ans=S[y-1]\n        if(x>1):\n            ans-=S[x-2]\n    else:\n        ans=X[y-1]\n        if(x>1):\n            ans-=X[x-2]\n    print(ans)\n", "n = int(input())\nprice = list(map(int,input().split()))\nprice_s = list(price)\nprice_s.sort()\nm = int(input())\npre_sum = [price[0]]\npre_sum1 = [price_s[0]]\n\nout = []\n\nfor i in range(1,n,1):\n    ele = price[i] + pre_sum[i-1]\n\n    \n    pre_sum.append(ele)\n    ele1 = price_s[i] + pre_sum1[i-1]\n    pre_sum1.append(ele1)\n#print(pre_sum)\n#print(pre_sum1)\nfor i in range(m):\n    full = False\n    curr = list(map(int,input().split()))\n    ind1 = curr[2] -1\n    \n    ind2 = curr[1] - 2\n    if ind2 < 0 :\n        full = True\n    if curr[0] == 1 :\n        if full :\n            out.append(pre_sum[ind1])\n        else:\n            \n            lis1 = pre_sum[ind1]\n            lis2 = pre_sum[ind2]\n            out.append(lis1-lis2)\n    else:\n        if full :\n            out.append(pre_sum1[ind1])\n        else:\n            \n            lis1 = pre_sum1[ind1]\n            lis2 = pre_sum1[ind2]\n            out.append(lis1-lis2)\nfor i in range(m):\n    print(out[i])\n", "n = int(input())\nus = list(map(int, input().split(\" \")))\nos = us[:]\nos.sort()\n\nfor i in range(1,len(os)):\n    os[i] += os[i-1]\n    us[i] += us[i-1]\nos = [0]+os\nus = [0]+us\n\nres = []\n\nq = int(input())\nfor i in range(q):\n    t, l, r = list(map(int, input().split(\" \")))\n    if t == 1:\n        res.append(str(us[r] - us[l-1]))\n    else:\n        res.append(str(os[r] - os[l-1]))\n\n\nprint(\"\\n\".join(res))", "count = int(input())\nv = [int(c) for c in input().split()]\nvsort = v[:]\nvsort.sort()\nsumV = [0,v[0]]\nsumVS = [0,vsort[0]]\nfor i in range(1,count):\n    sumV.append(sumV[i]+v[i])\n    sumVS.append(sumVS[i]+vsort[i])\n\nqc = int(input())\n\nfor x in range(qc):\n    q = [int(c) for c in input().split()]\n    if q[0] == 1:\n        tmp = sumV\n    else:\n        tmp = sumVS\n    print(tmp[q[2]] - tmp[q[1] - 1])", "n = int(input())\nI = list(map(int, input().split()))\nP = sorted(I)\n\nsI = [0] * (n + 1)\nsP = [0] * (n + 1)\n\nfor i in range(1, n + 1):\n    sI[i] = sI[i-1] + I[i-1]\n    sP[i] = sP[i-1] + P[i-1]\n\nm = int(input())\n\nfor i in range(m):\n    t, l, r = list(map(int, input().split()))\n    if t == 1:\n        print(sI[r] - sI[l-1])\n    else:\n        print(sP[r] - sP[l-1])\n\n", "n = int(input())\nv1 = list(map(int, input().split()))\nv2 = sorted(v1)\nv1, v2 = [0] + v1, [0] + v2\nfor i in range(1, n + 1):\n    v2[i] += v2[i - 1]\n    v1[i] += v1[i - 1]\nm = int(input())\nfor i in range(m):\n    t, l, r = map(int, input().split())\n    if t == 1:\n        print (v1[r] - v1[l - 1])\n    else:\n        print (v2[r] - v2[l - 1])", "R = lambda:map(int, input().split())\nn = int(input())\nv = list(R())\ns = [[0] * (n + 1)]\nfor i in range(n):\n  s[0][i + 1] = s[0][i] + v[i]\nv = sorted(v)\ns += [[0] * (n + 1)]\nfor i in range(n):\n  s[1][i + 1] = s[1][i] + v[i]\nm = int(input())\nprint(\"\\n\".join(map(str, (s[t - 1][r] - s[t - 1][l - 1] for t, l, r in (R() for _ in range(m))))))", "R = lambda:map(int, input().split())\nn = int(input())\na = [0] + list(R())\ns = [a, sorted(a)]\nfor i in range(n):\n  s[0][i + 1] += s[0][i]\n  s[1][i + 1] += s[1][i]\nm = int(input())\nprint(\"\\n\".join(map(str, (s[t - 1][r] - s[t - 1][l - 1] for t, l, r in (R() for _ in range(m))))))", "n, u = int(input()), list(map(int, input().split()))\nv = list(sorted(u))\nfor i in range(n - 1): \n    u[i + 1] += u[i]\n    v[i + 1] += v[i]\nu, v = [0] + u, [0] + v\nfor i in range(int(input())):\n    t, l, r = map(int, input().split())\n    print(u[r] - u[l - 1] if t == 1 else v[r] - v[l - 1])", "n = int(input())\ntab = [int(x) for x in input().split(' ')]\nstab = tab.copy()\nstab.sort()\nsumtab = [0,tab[0]]\nsumstab = [0,stab[0]]\nfor x in range(2,len(tab)+1):\n    sumtab.append(sumtab[x-1]+tab[x-1])\nfor x in range(2,len(stab)+1):\n    sumstab.append(sumstab[x-1]+stab[x-1])\nm = int(input())\nfor i in range(m):\n    query = [int(x) for x in input().split(' ')]\n    if query[0]==1:\n        print(sumtab[query[2]] - sumtab[query[1]-1])\n    else:\n        print(sumstab[query[2]] - sumstab[query[1]-1])\n", "n = int(input())\nv = list(map(int,input().split()))\nm = int(input())\ni = 0\nu = list(v)\nu.sort()\nwhile i < n-1:\n    v[i+1] += v[i];\n    u[i+1] += u[i];\n    i += 1\nu, v = [0] + u, [0] + v\ni = 0\nwhile i < m:\n    t, l, r = map(int,input().split())\n    if t == 1: print(v[r] - v[l-1])\n    else: print(u[r] - u[l-1])\n    i += 1;", "n = int(input())\nv = list(map(int, input().split()))\na = [0 for i in range(n)]\na[0] = v[0]\nfor i in range(1, n):\n    a[i] = a[i - 1] + v[i]\na += [0]\nv = sorted(v)\nb = [0 for i in range(n)]\nb[0] = v[0]\nfor i in range(1, n):\n    b[i] = b[i - 1] + v[i]\nb += [0]\nm = int(input())\nfor i in range(m):\n    t, l, r = list(map(int, input().split()))\n    if t - 1:\n        print(b[r - 1] - b[l - 2])\n    else:\n        print(a[r - 1] - a[l - 2])\n", "import sys\n#Never really use this value\nnumberOfStones = int(sys.stdin.readline())\n#Stones in given order\nstonelistV = (list(map(int, sys.stdin.readline().split())))\n#stones in ascending order\nstonelistU = sorted(stonelistV)\n#print(stonelistU)\n#Hold the computed sums\ndu = [0] * 1\ndv = [0] * 1\n#Compute the sums\nfor stone in stonelistV:\n    dv.append(dv[-1] + stone)\nfor stone in stonelistU:\n    du.append(du[-1] + stone)\n\nnumberOfQuestions = int(sys.stdin.readline())\nfor q in range(numberOfQuestions):\n    questions = list(map(int, sys.stdin.readline().split()))\n    if questions[0] == 1:\n        answer = dv[questions[2]] - dv[questions[1] - 1]\n    if questions[0] == 2:\n        answer = du[questions[2]] - du[questions[1] - 1]\n    print(answer)", "stones = int(input())\ncosts = list(map(int, input().split(' ')))\nreg = costs[:]\ncosts.sort()\na = [0] + [0] * stones\nb = [0] + [0] * stones\nfor i in range(1, stones + 1):\n    a[i] = a[i-1] + costs[i-1]\n    b[i] = b[i-1] + reg[i-1]\n    \nfor i in range(int(input())):\n    x, y, z = list(map(int, input().split(' ')))\n    if x == 2:\n        print(a[z] - a[y-1])\n    else:\n        print(b[z] - b[y-1])\n", "n,num=int(input()),list(map(int,input().split()))\nsort=list(sorted(num))\nfor i in range(n-1):\n    num[i+1]+=num[i]\n    sort[i+1]+=sort[i]\nnum,sort=[0]+num,[0]+sort\nfor i in range(int(input())):\n    t,l,r=list(map(int,input().split()))\n    print(num[r]-num[l-1] if t==1 else sort[r]-sort[l-1])\n", "n=int(input())\nlis=input().split()\nfor i in range(n):\n    lis[i]=int(lis[i])\nlis2=sorted(lis)\nm=int(input())\nlis1=[]\nfor i in range(m):\n    lis1.append(input().split())\nfor i in range(m):\n    for j in range(3):\n        lis1[i][j]=int(lis1[i][j])\n\ns=[lis[0]]\nfor i in range(1,n):\n    s.append(lis[i]+s[i-1])\ns=[0]+s\ns2=[lis2[0]]\nfor i in range(1,n):\n    s2.append(lis2[i]+s2[i-1])\ns2=[0]+s2\n\nfor i in range(m):\n    if lis1[i][0]==1:\n        print(s[lis1[i][2]]-s[lis1[i][1]-1])\n    else:\n        print(s2[lis1[i][2]]-s2[lis1[i][1]-1])\n", "n = int(input())\nv = [int(x) for x in input().split()]\nu = sorted(v)\nm = int(input())\nfor i in range(1, n):\n\tv[i] += v[i - 1]\n\tu[i] += u[i - 1]\nv.append(0)\nu.append(0)\nfor i in range(m):\n\tt, l, r = [int(x) for x in input().split()]\n\tif t == 1:\n\t\tprint(v[r - 1] - v[l - 2])\n\telse:\n\t\tprint(u[r - 1] - u[l - 2])\n", "def main():\n    input()\n    vv = list(map(int, input().split()))\n    uu = sorted(vv)\n    for tmp in vv, uu:\n        a = 0\n        for i, b in enumerate(tmp):\n            tmp[i] = a\n            a += b\n        tmp.append(a)\n    res = []\n    vu = (None, vv, uu)\n    for _ in range(int(input())):\n        type, l, r = list(map(int, input().split()))\n        tmp = vu[type]\n        res.append(str(tmp[r] - tmp[l - 1]))\n    print('\\n'.join(res))\n\n\ndef __starting_point():\n    main()\n\n__starting_point()"]