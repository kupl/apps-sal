["t = int(input())\nfor i in range(t):\n\tn, k = list(map(int, input().split()))\n\tans = 0\n\twhile n != 0:\n\t\tif n % k == 0:\n\t\t\tans += 1\n\t\t\tn //= k\n\t\telse:\n\t\t\tans += n % k\n\t\t\tn -= n % k\n\tprint(ans)\n", "t = int(input())\nfor i in range(t):\n    n, k = map(int, input().split())\n    ans = 0\n    while n > 0:\n        if n % k == 0:\n            n//=k\n            ans += 1\n        else:\n            ans += n % k\n            n -= n % k\n    print(ans)", "for TT in range(1, int(input()) + 1):\n    n, k = map(int, input().split())\n    res = 0\n    while n:\n        if n % k:\n            res += n % k\n            n -= n % k\n        if n:\n            n //= k\n            res += 1\n    print(res)", "#JMD\n#Nagendra Jha-4096\n\n \nimport sys\nimport math\n\n#import fractions\n#import numpy\n \n###File Operations###\nfileoperation=0\nif(fileoperation):\n    orig_stdout = sys.stdout\n    orig_stdin = sys.stdin\n    inputfile = open('W:/Competitive Programming/input.txt', 'r')\n    outputfile = open('W:/Competitive Programming/output.txt', 'w')\n    sys.stdin = inputfile\n    sys.stdout = outputfile\n\n###Defines...###\nmod=1000000007\n \n###FUF's...###\ndef nospace(l):\n    ans=''.join(str(i) for i in l)\n    return ans\n \n \n##### Main ####\nt=int(input())\nfor tt in range(t):\n    #n=int(input())\n    n,k= map(int, sys.stdin.readline().split(' '))\n    s=0\n    while (n!=0):\n        rem=n%k\n        s+=rem\n        n-=rem\n        if(n>0):\n            s+=1\n        n//=k\n    print(s)\n    #a=list(map(int,sys.stdin.readline().split(' ')))\n    \n#####File Operations#####\nif(fileoperation):\n    sys.stdout = orig_stdout\n    sys.stdin = orig_stdin\n    inputfile.close()\n    outputfile.close()", "for _ in range(int(input())):\n    n,k=list(map(int,input().split()))\n    ans=0\n    while(n>0):\n        if(n%k==0):\n            n//=k\n            ans+=1\n        else:\n            ans+=n%k\n            n-=n%k\n    print(ans)\n", "n=int(input())\nfor i in range(n):\n    a,b=list(map(int,input().split()))\n    ans=0\n    while(a>0):\n        if(a%b==0):\n            a//=b\n            ans+=1\n        else:\n            ans+=(a-(a//b)*b)\n            a=(a//b)*b\n    print(int(ans))\n           \n", "t = int(input())\nfor i in range(t):\n    ans = 0\n    n, k = list(map(int, input().split()))\n    while (n != 0):\n        if (n % k == 0):\n            n //= k\n            ans += 1\n        else:\n            ans += n % k\n            n -= n % k\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    n, k = list(map(int, input().split()))\n    c = 0\n    while n > 0:\n        if n % k == 0:\n            n //= k\n            c += 1\n        else:\n            m = n % k\n            n -= m\n            c += m\n    print(c)\n", "for _ in range(int(input())):\n    n,k=map(int,input().split())\n    step=0\n    while(n>0):\n        if(n%k!=0):\n            step+=(n%k)\n            n-=(n%k)\n        else:\n            while(n%k==0):\n                n//=k\n                step+=1\n    print(step)", "ii = lambda: int(input())\nmi = lambda: list(map(int, input().split()))\nli = lambda: list(mi())\n\nfor _ in range(ii()):\n    n, k = mi()\n    ans = 0\n    while n:\n        if n % k:\n            ans += n % k\n            n -= n % k\n        else:\n            ans += 1\n            n //= k\n    print(ans)\n", "t = int(input())\nfor _ in range(t):\n    n, k = list(map(int, input().split()))\n    cnt = 0\n    while n != 0:\n        if n % k == 0:\n            n //= k\n            cnt += 1\n        else:\n            cnt += n % k\n            n = n - n % k\n    print(cnt)\n", "t = int(input())\nfor i in range(0, t):\n    n, k = map(int, input().split())\n    c = 0\n    while (n != 0):\n        if (n % k != 0):\n            c += n%k\n            n = n - n%k\n        else:\n            c += 1\n            n = n // k\n    print(c)", "t = int(input())\nfor i in range(t):\n\tn, k = map(int, input().split())\n\tcnt = 0\n\twhile n != 0:\n\t\tcnt += n % k\n\t\tn //= k\n\t\tcnt += 1\n\tprint(cnt - 1)", "for _ in range(int(input())):\n    n, k = list(map(int, input().split()))\n    if k == 1:\n        print(n)\n    else:\n        ans = 0\n        while n != 0:\n            if n % k == 0:\n                n //= k\n                ans += 1\n            else:\n                q = n - n // k * k\n                ans += q\n                n = n // k * k\n        print(ans)\n", "t = int(input())\n\nfor _ in range(t):\n\tn, k = list(map(int, input().split()))\n\n\tcount = 0\n\n\twhile n:\n\t\tif n%k==0:\n\t\t\tn //=k\n\t\t\tcount += 1\n\t\telse:\n\t\t\tmod = n%k\n\t\t\tn -= mod\n\t\t\tcount += mod\n\n\tprint(count)\n\n", "from bisect import *\nfrom collections import *\nfrom itertools import *\nimport functools\nimport sys\nfrom math import *\nfrom decimal import *\nfrom copy import *\ngetcontext().prec = 30\nMAX = sys.maxsize\nMAXN = 10**5+10\nMOD = 10**9+7\ndef isprime(n):\n    n = abs(int(n))\n    if n < 2:\n        return False\n    if n == 2: \n        return True    \n    if not n & 1: \n        return False\n    for x in range(3, int(n**0.5) + 1, 2):\n        if n % x == 0:\n            return False\n    return True\n\ndef mhd(a,b):\n    return abs(a[0]-b[0])+abs(b[1]-a[1])\n\ndef charIN(x= ' '):\n    return(sys.stdin.readline().strip().split(x))\n\ndef arrIN(x = ' '):\n    return list(map(int,sys.stdin.readline().strip().split(x)))\n\ndef dis(x,y):\n    a = y[0]-x[0]\n    b = x[1]-y[1]\n    return (a*a+b*b)**0.5\n\ndef lgcd(a):\n    g = a[0]\n    for i in range(1,len(a)):\n        g = math.gcd(g,a[i])\n    return g\n\ndef ms(a):\n    msf = -MAX\n    meh = 0\n    st = en = be = 0\n    for i in range(len(a)):\n        meh+=a[i]\n        if msf<meh:\n            msf = meh\n            st = be\n            en = i\n        if meh<0:\n            meh = 0\n            be = i+1\n    return msf,st,en\n\ndef flush():\n    return sys.stdout.flush()\n\n'''*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*'''\nfor _ in range(int(input())):\n    n,k = arrIN()\n    ans = 0\n    while 1:\n        if n%k==0:\n            n//=k\n            ans+=1\n        else:\n            x = n%k\n            ans+=x\n            n-=x\n        if n==0:\n            print(ans)\n            break\n\n", "t = int(input())\n\ndef solve(n, k):\n    acc = 0\n    while n > 0:\n        if n % k == 0:\n            acc += 1\n            n //= k\n        else:\n            acc += n % k\n            n -= n % k\n    return acc\n\nfor query in range(t):\n    n, k = list(map(int, input().strip().split()))\n    print(solve(n, k))\n", "t = int(input())\nfor i in range(t):\n    n, k = map(int, input().split())\n    summ = 0\n    while n > 0:\n        if n % k == 0:\n            summ += 1\n            n //= k\n        else:\n            summ += n % k\n            n = n - n % k\n    print(summ)", "t = int(input())\n\nfor i in range(t):\n    n, k = map(int, input().split())\n    res = 0\n    while n > 0:\n        res += n % k\n        n -= n % k\n        if n > 0:\n            n = n//k\n            res += 1\n    print(res)", "t = int(input())\nfor _ in range(t):\n    n,k=map(int, input().split())\n    ans = 0\n    while n != 0:\n        if n % k == 0:\n            n //= k\n            ans += 1\n        else:\n            ans += n % k\n            n -= n % k\n    print(ans)", "def main():\n    t = int(input())\n    for i in range(t):\n        steps = 0\n        n,k = list(map(int,input().split()))\n        while n != 0:\n            if n%k == 0:\n                n = n//k\n                steps += 1\n            else:\n                steps += n%k\n                n -= n%k\n\n        print(steps)\n\n\nmain()\n", "t = int(input())\nfor i in range(t):\n    n, k = map(int, input().split())\n    count = 0\n    while n != 0:\n        if n % k == 0:\n            n//=k\n            count += 1\n        else:\n            count += n%k\n            n -= n%k\n    print(count)", "q=int(input())\nfor i in range(q):\n    n,k=[int(x) for x in input().split()]\n    counter=0\n    while n!=0:\n        x=n%k\n        n-=x\n        counter+=x+1\n        n//=k\n    print(counter-1)\n", "from collections import defaultdict as dd\nimport math\ndef nn():\n\treturn int(input())\n\ndef li():\n\treturn list(input())\n\ndef mi():\n\treturn list(map(int, input().split()))\n\ndef lm():\n\treturn list(map(int, input().split()))\n\n\nq=nn()\n\n\nfor _ in range(q):\n\tn,k=mi()\n\tmoves=0\n\twhile n>=k:\n\t\tmoves+=n%k+1\n\n\t\tn=n//k\n\t\t#print(n)\n\tmoves+=n\n\tprint(moves)\n"]