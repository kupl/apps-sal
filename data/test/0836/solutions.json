["def check(n, casas):\n    #print('n:',n)\n    nonlocal T,N,street\n    current = n\n    time = T\n    need = 0\n    last_house = 0\n    \n    for ind, i in enumerate(street):\n        time -= 1\n        \n        if i == 'S':\n            current += 1\n             \n        elif i == 'H':\n            need += 1\n            if need == 1:\n                last_house = ind\n        \n        if need > 0 and current >= need:\n            #print('p',time, ind-last_house)\n            current -= need\n            casas -= need\n            need = 0\n                        \n            if casas > 0:\n                if (ind-last_house)*2 >= N-last_house-1:\n                    time -= N-last_house-1 + N-ind-1\n                    \n                    return time >= 0\n                    \n                time -= (ind-last_house)*2\n            else:\n                time -= ind-last_house\n                    \n        #print('lugar:',i,ind,current, time, need, last_house)\n        \n        if casas == 0:\n            break\n        \n    #print(time)\n    return time >= 0 and casas == 0\n    \nN,T = [int(i) for i in input().split()]\n\nstreet = input().rstrip('.')\nN = len(street)\nC = street.count('H')\nS = street.count('S')\nl = max(C-S, 0)\nr = 500005\n#print(N, C)\nwhile l < r:\n    mid = (l+r)//2\n    if check(mid, C):\n        r = mid\n    else:\n        l = mid + 1\n\nprint(l if l < 500005 else -1)"]