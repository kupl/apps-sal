["M = 0x3b800001\nwa = 0;\nn = int(input())\na = list(map(int, input().split()))\nnow = 1\nwa += a[-1]\nfor i in range(n - 1)[::-1]:\n    wa += (now * (n - i - 1) + now * 2) * a[i]\n    wa %= M\n    now *= 2\n    now %= M\nprint(wa % M)\n", "MOD = 998244353\n\ndef main():\n    n = int(input())\n    a = [int(x) for x in input().split(' ')]\n    \n    p, sp, s, ss = 0, 0, 0, 0\n    for x in a:\n        ss = (2 * ss + s) % MOD\n        s = (s + x) % MOD\n        p = (ss + sp + s) % MOD\n        sp = (sp + p) % MOD\n    print(p)\n\ndef __starting_point():\n    main()\n\n__starting_point()", "n = int(input())\nans = 0\nmod = 998244353\na = list(map(int, input().split()))\np = 1 / 2\n\nfor i in range(n):\n    ans = (ans + (i + 2) * (p * a[n - i - 1] % mod) % mod) % mod\n    p = (2 * p) % mod\n\nprint(int(ans) % mod)", "n = int(input())\na = list(map(int, input().split()))\n\n\ns = a[0] % 998244353\ny = a[0]\nfor x in a[1:]:\n\n\ts = s * 2 + y + x\n\ty = y * 2 + x\n\n\ts %= 998244353\n\ty %= 998244353\n\n\n\t# print(s)\n\n# print(a)\n# print(c)\n\nprint(s)\n", "n = int(input())\na = [int(x) for x in input().strip().split()]\nmod = 998244353\nans = 0\n\ng = [1, 2]\np = 1\n\nwhile len(g) < n:\n    h = g[-1] * 2 + p\n    p *= 2\n    if p > mod:\n        p %= mod\n    if h > mod:\n        h %= mod\n    g.append(h)\n\nfor i in range(n):\n    if i > 0:\n        a[i] = (a[i] + a[i - 1]) % mod\n    ans += a[i] * g[n-1-i]\n    if ans > mod:\n        ans %= mod\n\nprint(ans)\n", "n = int(input())\ndata = list(map(int,input().split()))\n\nanswer = 0\n\nprefix_data_sum = 0\nprefix_answer_sum = 0\nprefix = 0\nmod = 998244353\n\nfor i in range(n):\n    prefix+=data[i]\n    prefix %= mod\n    answer = (prefix + prefix_data_sum + prefix_answer_sum) % mod\n\n    prefix_data_sum *= 2\n    \n    prefix_data_sum = (prefix_data_sum + prefix) % mod\n    \n    \n    prefix_answer_sum = (prefix_answer_sum + answer) % mod\n    \n\nprint(answer)\n", "def main():\n    input()\n    s, *aa = list(map(int, input().split()))\n    y = s\n    for a in aa:\n        s = (s * 2 + y + a) % 998244353\n        y = (y * 2 + a) % 998244353\n    print(s)\n\n\ndef __starting_point():\n    main()\n\n__starting_point()", "n = int(input())\na=  list(map(int,input().split()))\nsum, cur = a[0] % 998244353, a[0]\n\nfor x in a[1:]:\n    sum  = sum * 2 + cur + x\n    cur = cur * 2 + x\n    sum %= 998244353\n    cur %= 998244353\nprint(sum)", "3\n\nMOD = 998244353\n\ndef solve(N, A):\n    ans = 0\n\n    k = 1\n    ans += k * A[-1]\n    ans %= MOD\n\n    for i in range(N - 2, -1, -1):\n        ans += k * (N + 1 - i) * A[i]\n        ans %= MOD\n        k *= 2\n        k %= MOD\n\n    return ans\n\n\ndef main():\n    N = int(input())\n    A = [int(e) for e in input().split(' ')]\n    assert len(A) == N\n    print(solve(N, A))\n\n\ndef __starting_point():\n    main()\n\n__starting_point()", "n = int(input())\na=  list(map(int,input().split()))\nsum, cur = a[0] % 998244353, a[0]\n\nfor x in a[1:]:\n    sum  = sum * 2 + cur + x\n    cur = cur * 2 + x\n    sum %= 998244353\n    cur %= 998244353\nprint(sum)", "n = int(input())\na = list(map(int, input().split()))\ndifficulty = a[0]\nexpectation = a[0] % 998244353\nfor i in range(1, n):\n    expectation = expectation * 2 + difficulty + a[i]\n    difficulty = difficulty * 2 + a[i]\n    expectation %= 998244353\n    difficulty %= 998244353\nprint(expectation)\n", "a = int(input())\nb = list(map(int,input().split()))\nc = b[0]%998244353\nd = b[0]%998244353\nfor i in range(1,a):\n    c = (2*c + d + b[i])%998244353\n    d = (2*d + b[i])%998244353\nprint(c)", "i,m=input,998244353\ni()\na=map(int,i().split())\nr,c=[next(a)]*2\nfor j in a:r,c=(2*r+c+j)%m,(2*c+j)%m\nprint(r)", "mod = 998244353\n\ndef calc(nn, costs):\n  total = costs[-1]\n  mult = 1\n  for a in range(nn-1, 0, -1):\n    total = (total + ((costs[a - (nn+1)] * mult) % mod) * (nn - a + 2) % mod) % mod\n    mult = (mult * 2) % mod\n  return total\n\n\n# calc(1000000, [1000000 for a in range(1000000)])\nprint(calc(int(input()), list(map(int, input().split(\" \")))))", "def main():\n  n=int(input())\n  a=list(map(int,input().split()))\n  if n==1:print(a[0]);return\n  mod=998244353\n  for i in range(1,n):a[i]+=a[i-1]\n  ans=0\n  for i in range(n-2):\n    m=(n-1)-(i+2)\n    ans=(ans+pow(2,m,mod)*a[i]*(m+5))%mod\n  print((ans+a[-2]+a[-2]+a[-1])%mod)\n\ndef __starting_point():\n  main()\n__starting_point()", "MOD=998244353\ndef f(n):\n    if(n==0):\n        return 1\n    if(n==1):\n        return 3\n    return ((n+2)*pow(2,n-1,MOD))%MOD\nn=int(input())\nar=list(map(int,input().split()))[::-1]\nS=0\nfor i in range(n):\n    S+=ar[i]*f(i)\nprint(S%MOD)\n", "import sys\ninput=sys.stdin.readline\n\n\nn=int(input())\na=list(map(int,input().split()))\nm=998244353\na=a[::-1]\ns=a[0]\nfor i in range(1,n):\n    s+=(a[i]*pow(2,i-1,m)*(i+2))%m\n    s=s%m\nprint(s%m)"]