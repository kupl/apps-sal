["for _ in range(int(input())):\n\tn, x, y, d = map(int, input().split())\n\ttt = abs(x - y)\n\tif tt % d != 0:\n\t\tans = -1\n\t\tif (y - 1) % d == 0:\n\t\t\tans = (x - 1 + d - 1) // d + (y - 1) // d\n\t\tif (n - y) % d == 0:\n\t\t\tcc = (n - x + d - 1) // d + (n - y) // d\n\t\t\tif ans == -1 or cc < ans:\n\t\t\t\tans = cc\n\t\tprint(ans)\n\telse:\n\t\tprint(tt // d)", "df = int(input())\nfor _ in range(df):\n    n,x,y,d = list(map(int,input().split()))\n    d2 = abs(x-y)\n    ans = 3e9\n    if d2 % d == 0:\n        ans = d2 // d\n    v = abs(x-1)\n    v2  = abs(x-n)\n    e = 0\n    if v % d == 0:\n        e = v // d\n    else:\n        e = v // d + 1\n    to_b  = e\n    e = 0\n    if v2 % d == 0:\n        e = v2 // d\n    else:\n        e = v2 // d + 1\n    to_e = e\n    v3 = abs(n-y)\n    v4 = abs(1-y)\n    if v3 % d == 0:\n        ans = min(ans, v3 // d + to_e)\n    if v4 % d == 0:\n        ans = min(ans, v4 // d + to_b)\n    if ans < 2e9:\n        print(ans)\n    else:\n        print(-1)\n\n", "from math import ceil\nq = int(input())\nfor _ in range(q):\n    n,x,y,d = list(map(int,input().split()))\n    if (y-x)%d==0:\n        print(abs(y-x)//d)\n    elif (y-1)%d==0 and (n-y)%d==0:\n        a = ceil((x-1)/d) + (y-1)//d\n        b = ceil((n-x)/d) + (n-y)//d\n        print(min(a,b))\n    elif (y-1)%d==0:\n        print(ceil((x-1)/d) + (y-1)//d)\n    elif (n-y)%d==0:\n        print(ceil((n-x)/d) + (n-y)//d)\n    else:\n        print(-1)\n", "t = int(input())\nfor i in range(t):\n    n, x, y, d = list(map(int, input().split()))\n    if abs(y - x) % d == 0 or y == 1 or y == n:\n        print((abs(x - y) + d - 1) // d)\n    else:\n        if abs(y - 1) % d == 0 and abs(n - y) % d == 0:\n            print(min((x - 1 + d - 1) // d + (y - 1) // d, (n - x + d - 1) // d + (n - y) // d))\n        elif abs(y - 1) % d != 0 and abs(n - y) % d != 0:\n            print(-1)\n        elif abs(y - 1) % d == 0:\n            print((x - 1 + d - 1) // d + (y - 1) // d)\n        else:\n            print((n - x + d - 1) // d + (n - y) // d)\n", "t = int(input())\nINF = 10000000000\nfor t_num in range(t):\n    n, start, end, d = list(map(int, input().split()))\n    ans = INF\n    if abs(end - start) % d == 0:\n        ans = min(ans, abs(end - start) // d)\n    if (n - end) % d == 0:\n        ans = min(ans, (n - end) // d + (n - start + d - 1) // d)\n    if (end - 1) % d == 0:\n        ans = min(ans, (end - 1) // d + (start - 1 + d - 1) // d)\n\n    if (ans == INF):\n        print(-1)\n    else:\n        print(ans)\n", "t = int(input())\nfor _ in range(t):\n  n, x, y, d = list(map(int, input().split()))\n  ans = 1<<64\n  if abs(x - y) % d == 0:\n    ans = abs(x - y) // d\n  if abs(1 - y) % d == 0:\n    ans = min(ans, (abs(x - 1) + d - 1) // d + abs(1 - y) // d)\n  if abs(n - y) % d == 0:\n    ans = min(ans, (abs(x - n) + d - 1) // d + abs(n - y) // d)\n  print(ans if ans != (1<<64) else -1)\n", "t=int(input())\nfor i in range(t):\n    n,x,y,d=list(map(int,input().split()))\n    if abs(x-y)%d==0:\n        print(abs(x-y)//d)\n    else:\n        res=10000000000\n        if (y-1)%d==0:\n            res=min(res,-(-(x-1)//d)+(y-1)//d)\n        if (n-y)%d==0:\n            res=min(res,-(-(n-x)//d)+(n-y)//d)\n        if res==10000000000:\n            res=-1\n        print(res)\n", "def mi():\n\treturn list(map(int, input().split()))\n'''\n3\n10 4 5 2\n5 1 3 4\n20 4 19 3\n'''\nimport math\nfor _ in range(int(input())):\n\tn,x,y,d = mi()\n\tif abs(x-y)%d==0:\n\t\tprint(abs(x-y)//d)\n\telse:\n\t\tans1 = math.ceil((x-1)/d)\n\t\tans2 = math.ceil((n-x)/d)\n\t\tif abs(y-1)%d==0:\n\t\t\tans1 += (y-1)//d\n\t\telse:\n\t\t\tans1 = 1e19\n\t\tif abs(n-y)%d==0:\n\t\t\tans2 += (n-y)//d\n\t\telse:\n\t\t\tans2 = 1e19\n\t\tif min(ans1, ans2)==1e19:\n\t\t\tprint(-1)\n\t\telse:\n\t\t\tprint(min(ans1, ans2))\n", "from math import ceil\n\ndef solve():\n    n, x, y, d = [int(x) for x in input().split()]\n\n    INF = 1e9\n    sol1 = abs(x - y) // d if (x - y) % d == 0 else INF\n    sol2 = ceil((x-1) / d) + ceil((y-1) / d) if (y-1) % d == 0 else INF\n    sol3 = ceil((n - x) / d) + ceil((n - y) / d) if ((n - y) % d == 0) else INF\n\n    ans = min(sol1, sol2, sol3)\n    ans = ans if ans != INF else -1\n    print(ans)\n\nnt = int(input())\nfor _ in range(nt):\n    solve()\n", "t = int(input())\nfor _ in range(t):\n    n, x, y, d = list(map(int, input().split()))\n    x, y = x - 1, y - 1\n    if x <= y and (y - x) % d == 0:\n        print((y - x) // d)\n        continue\n    if y < x and (x - y) % d == 0:\n        print((x - y) // d)\n        continue\n    if y % d == 0 and (n - 1 - y) % d == 0:\n        print(min((x + y + d - 1) // d, (n - 1 - y + d - 1) // d + (n - 1 - x + d - 1) // d))\n        continue\n    if y % d == 0:\n        print((x + y + d - 1) // d)\n        continue\n    if (n - 1 - y) % d == 0:\n        print((n - 1 - y + d - 1) // d + (n - 1 - x + d - 1) // d)\n        continue\n    print(-1)\n", "import math\n\nfor i in range(int(input())):\n    n,x,y,d=list(map(int,input().split()))\n    if y!=n and y!=1:\n        if (abs(y-x))%d==0:\n            print((abs(y-x))//d)\n        else:\n            if (y-1)%d==0:\n                if (n-y)%d!=0:\n                    print(math.ceil((x-1)/d)+(y-1)//d)\n                else:\n                    print(min(math.ceil((x-1)/d)+(y-1)//d, math.ceil((n-x)/d)+(n-y)//d))\n            else:\n                if (n-y)%d!=0:\n                    print(-1)\n                else:\n                    print(math.ceil((n-x)/d)+(n-y)//d)\n    else:\n        if y==1:\n            print(math.ceil((x-1)/d))\n        else:\n            print(math.ceil((n-x)/d))\n", "t=int(input())\nfor i in range(t):\n    n,x,y,d=list(map(int,input().split()))\n\n    if abs(x-y)%d==0:\n        print(abs(x-y)//d)\n\n    else:\n        ANS=10**10\n        if abs(y-1)%d==0:\n            ANS=min(ANS,abs(y-1)//d+(-(-abs(x-1)//d)))\n\n        if abs(n-y)%d==0:\n            ANS=min(ANS,abs(y-n)//d+(-(-abs(x-n)//d)))\n\n        if ANS==10**10:\n            print(-1)\n        else:\n            print(ANS)\n", "#      \nimport collections, atexit, math, sys, bisect \n\nsys.setrecursionlimit(1000000)\ndef getIntList():\n    return list(map(int, input().split()))    \n\ntry :\n    #raise ModuleNotFoundError\n    import numpy\n    def dprint(*args, **kwargs):\n        #print(*args, **kwargs, file=sys.stderr)\n        # in python 3.4 **kwargs is invalid???\n        print(*args,  file=sys.stderr)\n    dprint('debug mode')\nexcept Exception:\n    def dprint(*args, **kwargs):\n        pass\n\n\n\ninId = 0\noutId = 0\nif inId>0:\n    dprint('use input', inId)\n    sys.stdin = open('input'+ str(inId) + '.txt', 'r') #\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411\u81f3\u6587\u4ef6\nif outId>0:\n    dprint('use output', outId)\n    sys.stdout = open('stdout'+ str(outId) + '.txt', 'w') #\u6807\u51c6\u8f93\u51fa\u91cd\u5b9a\u5411\u81f3\u6587\u4ef6\n    atexit.register(lambda :sys.stdout.close())     #idle \u4e2d\u4e0d\u4f1a\u6267\u884c atexit\n    \nT, = getIntList()\n#print(N)\n\nfor _ in range(T):\n    n,x,y,d = getIntList()\n    y-=1\n    x-=1\n    f = abs(y-x)\n    if f%d ==0:\n        print(f//d)\n        continue\n    g1 = (x-1)//d + 1\n    r1 = -1    \n    if y%d==0:\n        r1 = y//d + g1\n    g2 = (n-1-x -1)//d + 1\n    r2 = -1\n    if (n-1 -y)%d==0:\n        r2 = (n-1-y)//d + g2\n    if r1>0 and r2 >0:\n        print(min(r1,r2))\n        continue\n    print(max(r1,r2))\n\n\n    \n\n\n", "t = int(input())\n\nfor i in range(t):\n    n, x, y, d = list(map(int, input().split()))\n    w = []\n    if x % d == y % d:\n        w.append(abs(y - x) // d)\n    if y % d == 1 % d:\n        w.append(((x + d - 1) // d + y // d))\n    if y % d == n % d:\n        w.append((n - x + d - 1) // d + (n - y) // d)\n    if w:\n        print(min(w))\n    else:\n        print(-1)\n", "def get(x, y, d):\n\tif abs(x - y) % d == 0:\n\t\treturn abs(x - y) // d\n\treturn -1\n\ndef moves(x, y, d):\n\treturn (abs(x - y) + d - 1) // d\n\nT = int(input())\nfor _ in range(T):\n\t(n, x, y, d) = list(map(int, input().split(' ')))\n\tans = int(2e9)\n\tif abs(x - y) % d == 0:\n\t\tans = abs(x - y) // d\n\telse:\n\t\tif get(1, y, d) != -1:\n\t\t\tans = min(ans, moves(x, 1, d) + get(1, y, d))\n\t\tif get(n, y, d) != -1:\n\t\t\tans = min(ans, moves(x, n, d) + get(n, y, d))\n\tprint(ans if ans != int(2e9) else -1)", "t = int(input())\nfor i in range(t):\n\tn, x, y, d = list(map(int, input().split()))\n\tx -= 1\n\ty -= 1\n\tn -= 1\n\ta = abs(x - y)\n\t#print('a', a)\n\tif a % d == 0:\n\t\tprint(a // d)\n\t\tcontinue\n\tif (y % d != 0 and (n - y) % d != 0):\n\t\tprint(-1)\n\t\tcontinue\n\ti1 = max(0, (n - x + d - 1) // d) + (n - y) // d\n\tif (n - y) % d != 0:\n\t\ti1 = 1e10\n\ti2 = max(0, ((x + d - 1) // d)) + y // d\n\tif y % d != 0:\n\t\ti2 = 1e10\n\tprint(min(i1, i2))\n", "t = int(input())\nfor i in range(t):\n    n, x, y, d = list(map(int, input().split()))\n    x -= 1\n    y -= 1\n    if x % d == y % d:\n        print(abs(x - y) // d)\n    elif y % d == 0:\n        ans = x // d + 1 + y // d\n        if (n - 1) % d == 0:\n            ans = min(ans, (n - 1 - x) // d + 1 + (n - 1 - y) // d)\n        print(ans)\n    elif y % d == (n - 1) % d:\n        print((n - 1 - x) // d + 1 + (n - 1 - y) // d)\n    else:\n        print(-1)\n", "import math\nn = int(input())\n\ndef f(x, y, d):\n\tt = abs(x - y)\n\tif y == 1:\n\t\treturn math.ceil(t/d)\n\tif y == n:\n\t\treturn math.ceil(t/d)\n\tif t % d == 0:\n\t\treturn t//d\n\telse:\n\t\treturn 2*(10**9)\n\t\t\nfor i in range(n):\n\tn, x, y, d = list(map(int, input().split()))\n\tans = min([f(x, y, d), f(x, 1, d) + f(1, y, d), f(x, n, d) + f(n, y, d)])\n\tif ans == 2*(10**9):\n\t\tprint(\"-1\")\n\telse:\n\t\tprint(ans)\n", "t = int(input())\nfor i in range(t):\n    n, x, y, d = map(int, input().split())\n    if abs(y - x) % d == 0:\n        print(abs(y - x) // d)\n    else:\n        flag = False\n        num1, num2 = float(\"inf\"), float(\"inf\")\n        if (n - y) % d == 0:\n            flag = True\n            num1 = (n - y) // d + (n - x) // d + int((n - x) % d != 0)\n        if (y - 1) % d == 0:\n            flag = True\n            num2 = (y - 1) // d + (x - 1) // d + int((x - 1) % d != 0)\n\n        if not flag:\n            print(-1)\n        else:\n            print(min(num1, num2))", "T = int(input())\nfor i in range(T):\n    t = input().split(' ')\n    n,x,y,d = int(t[0]), int(t[1]), int(t[2]), int(t[3])\n    if (y-x)%d==0:\n        print(abs(y-x)//d)\n    else:\n        a,b=-1,-1\n        if (y-1)%d==0:\n            a = (x-1)//d+1+(y-1)//d\n        if (n-y)%d==0:\n            b = (n-x)//d+1+(n-y)//d\n        if a==-1 and b==-1:\n            print(-1)\n        elif a==-1:\n            print(b)\n        elif b==-1:\n            print(a)\n        else:\n            print(min(a,b))\n", "import math\nn = int(input())\nfor i in range(n):\n    c1, c2, c3 = 1e11, 1e11, 1e11\n    n, x, y, d = list(map(int, input().split()))\n    if (abs(y - x) % d == 0):\n        c3 = abs((y - x))//d\n    else:\n        if (abs(y - 1) % d == 0):\n            c1 = math.ceil((x - 1) / d) + ((y - 1) // d)\n        if (abs(n - y) % d == 0):\n            c2 = math.ceil((n - x) / d) + (abs((y - n)) // d)\n    m = min(c1, c2, c3)\n    if (m == 1e11):\n        print(-1)\n    else:\n        print(m)\n        \n", "m = int(input())\nfor q in range(m):\n    n, x, y, d = list(map(int, input().split()))\n    answer = float('inf')\n    if y % d == 1:\n        answer = (x-2)//d+1+(y-1)//d\n    if y % d == n % d:\n        answer = min(answer, (n-x-1)//d+1+(n-y)//d)\n    if y % d == x % d:\n        answer = min(answer, abs(x-y)//d)\n    if answer == float('inf'):\n        print(-1)\n    else:\n        print(answer)\n", "3.5\nfrom math import ceil\n\nT = int(input())\nfor i in range(0, T):\n    n, x, y, d = [*list(map(int, input().split()))]\n    if y == 1 or y == n:\n        print(int(ceil(abs(x-y)/d)))\n    else:\n        if abs(x-y)%d == 0:\n            print(abs(x-y)//d)\n        else:\n            if (y-1)%d == 0 and (n-y)%d == 0:\n                ret1 = (y-1)//d + int(ceil(abs(x-1)/d))\n                ret2 = (n-y)//d + int(ceil(abs(n-x)/d))\n\n                print(min(ret1, ret2))\n\n            elif (y-1)%d == 0:\n                print((y-1)//d + int(ceil(abs(x-1)/d)))\n            elif (n-y)%d == 0:\n                print((n-y)//d + int(ceil(abs(n-x)/d)))\n            else:\n                print(-1)\n", "for i in range(int(input())):\n    n,x,y,d=map(int,input().split())\n    if y==1 or y==n:\n        print(abs(-abs(x-y)//d))\n    elif abs(x-y)%d==0:\n        print(abs(x-y)//d)\n    elif abs(1-y)%d==0 and abs(n-y)%d==0:\n        print(min(abs(-abs(x-1)//d)+(y-1)//d,abs(-abs(x-n)//d)+(n-y)//d))\n    elif abs(1-y)%d==0:\n        print(abs(-abs(x-1)//d)+(y-1)//d)\n    elif abs(n-y)%d==0:\n        print(abs(-abs(x-n)//d)+(n-y)//d)\n    else:\n        print(-1)"]