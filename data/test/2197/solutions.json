["\nimport sys\n#sys.stdin=open(\"data.txt\")\ninput=sys.stdin.readline\n\nn,x=map(int,input().split())\n\ndef mult(a,b):\n    # compute a*b\n    c=[0]*128\n    for i in range(128):\n        for j in range(128):\n            c[i^j]+=a[i]*b[j]\n    return c\n\ndef quickpow(a,b):\n    # compute a**b\n    if b==1:\n        return a\n    if b&1:\n        return mult(quickpow(mult(a,a),b//2),a)\n    return quickpow(mult(a,a),b//2)\n\nprob=list(map(float,input().split()))\nprob+=[0.0]*(128-len(prob))\n\nprint(\"%.9f\"%(1-quickpow(prob,n)[0]))", "from sys import stdin,stdout\n\ndef mult(x,y):\n\tz = [0]*128\n\tfor i in range(128):\n\t\tfor j in range(128):\n\t\t\tz[i^j] += x[i]*y[j]\n\treturn z\n\nn,x = map(int,stdin.readline().split())\na = list(map(float,stdin.readline().split()))\nfor _ in range(x,128):\n\ta.append(0)\nans = [0]*128\nans[0] = 1\nwhile n > 0:\n\tif n % 2 == 1:\n\t\tans = mult(ans,a)\n\ta = mult(a,a)\n\tn //= 2\nstdout.write(str(1-ans[0]))", "import sys\nreadline = sys.stdin.readline\n\nn, x = list(map(int,readline().split()))\ntmp = list(map(float,readline().split()))\nfor i in range(128 - x - 1):\n    tmp.append(0)\n\ndef MatM(a,b):\n    c = [0 for i in range(128)]\n    for i in range(128):\n        for j in range(128):\n                c[i ^ j] += a[i] * b[j]\n    return c\n\ndef MatPow(mat,p):\n    if p == 1:\n        return tmp.copy()\n    res = MatPow(mat, p // 2)\n    newMat = MatM(res,res)\n    if p & 1:\n        return MatM(newMat, mat)\n    return newMat\n\nprint( ('%.16f'%(1 - MatPow(tmp,n)[0])) )\n"]