["n = int(input())\n\nline = input().split()\nlst = []\nfor num in line:\n    lst.append(int(num))\n\ncnt1 = [0]\ncnt2 = [0]\nc1 = 0\nc2 = 0\n\nfor num in lst:\n    if num == 1:\n        c1 += 1\n        cnt1.append(c2)\n    else:\n        c2 += 1\n        cnt2.append(c1)\n\nw = lst[n - 1]\nans = []\nc1 = len(cnt1)\nc2 = len(cnt2)\nfor t in range(n, 0, -1):\n    s1 = 0\n    s2 = 0\n    i1 = 0\n    i2 = 0\n    l = 1\n    while i1 < c1 and i2 < c2:\n        if i1 + t >= c1 and i2 + t >= c2:\n            if l == 1 and l == w and i1 + 1 == c1 and s1 > s2:\n                ans.append((s1, t))\n            elif l == 2 and l == w and i2 + 1 == c2 and s2 > s1:\n                ans.append((s2, t))\n            break\n        elif i2 + t >= c2:\n            s1 += 1\n            l = 1\n            i1 += t\n            i2 = cnt1[i1]\n        elif i1 + t >= c1:\n            s2 += 1\n            l = 2\n            i2 += t\n            i1 = cnt2[i2]\n        else:\n            if cnt1[i1 + t] < i2 + t:\n                s1 += 1\n                l = 1\n                i1 += t\n                i2 = cnt1[i1]\n            else:\n                s2 += 1\n                l = 2\n                i2 += t\n                i1 = cnt2[i2]\n\nans.sort()\n\nprint(int(len(ans)))\nfor line in ans:\n    print(str(line[0]) + ' ' + str(line[1]))\n", "from itertools import chain\ndef main(n,a, info=False):\n    winner = a[-1]\n    looser = 3-winner\n    csw, csl, pw, pl, ans = [0], [0], [-1], [-1], []\n    nw,nl = a.count(winner), a.count(looser)\n    for i in range(n):\n        if a[i]==winner: pw.append(i)\n        else: pl.append(i)\n        csw.append(csw[-1] + int(a[i]==winner))\n        csl.append(csl[-1] + int(a[i]==looser))\n    pw += [n*10]*n\n    pl += [n*10]*n\n    csw += [0]*n\n    csl += [0]*n\n    if info:\n        print(\"a: \",a)\n        print(\"csw: \",csw)\n        print(\"csl: \",csl)\n        print(\"pw: \",pw)\n        print(\"pl: \",pl)\n    for t in chain(list(range(1,nw//2+1)),[nw]):\n        s = l = i = 0\n        sw = sl = 0\n        while i < n:\n            xw = pw[csw[i]+t]\n            xl = pl[csl[i]+t]\n            if xw < xl: s += 1\n            else: l += 1\n            i = min(xw,xl)+1\n            if info:\n                print(s,t,\": \",t,i,s,l,xw,xl)\n        if s>l and i<=n and csw[i]==nw:\n            ans.append((s,t))\n    print(len(ans))\n    for x,y in sorted(ans):\n        print(x,y)\n\ndef main_input():\n    n = int(input())\n    a = [int(i) for i in input().split()]\n    main(n,a)\n\ndef __starting_point():\n    main_input()\n\n__starting_point()", "#!/usr/bin/env python3\n\nimport itertools\n\nn = int(input())\na = [int(x) for x in input().split()]\n\nwinner = a[-1]\nlooser = 3 - winner\nserve_win_cnt, serve_loose_cnt, win_pos, loose_pos, result = [0], [0], [-1], [-1], []\nwin_cnt = a.count(winner)\n\nfor i in range(n):\n    if a[i] == winner:\n        win_pos.append(i)\n    else:\n        loose_pos.append(i)\n    serve_win_cnt.append(serve_win_cnt[-1] + (a[i] == winner))\n    serve_loose_cnt.append(serve_loose_cnt[-1] + (a[i] == looser))\n\nwin_pos += [n * 10] * n\nloose_pos += [n * 10] * n\nserve_win_cnt += [0] * n\nserve_loose_cnt += [0] * n\n\nfor t in itertools.chain(list(range(1, 1 + win_cnt // 2)), [win_cnt]):\n    s = l = i = 0\n    sw = sl = 0\n    while i < n:\n        xw = win_pos[serve_win_cnt[i] + t]\n        xl = loose_pos[serve_loose_cnt[i] + t]\n        if xw < xl:\n            s += 1\n        else:\n            l += 1\n        i = min(xw, xl) + 1\n    if s > l and i <= n and serve_win_cnt[i] == win_cnt:\n        result.append((s, t))\n\nprint(len(result))\nfor (x, y) in sorted(result):\n    print(x, y)\n", "import itertools\n\nn = int(input())\na = [int(x) for x in input().split()]\n\nwinner = a[-1]\nlooser = 3 - winner\nserve_win_cnt, serve_loose_cnt, win_pos, loose_pos, result = [0], [0], [-1], [-1], []\nwin_cnt = a.count(winner)\n\nfor i in range(n):\n    if a[i] == winner:\n        win_pos.append(i)\n    else:\n        loose_pos.append(i)\n    serve_win_cnt.append(serve_win_cnt[-1] + (a[i] == winner))\n    serve_loose_cnt.append(serve_loose_cnt[-1] + (a[i] == looser))\n\nwin_pos += [n * 10] * n\nloose_pos += [n * 10] * n\nserve_win_cnt += [0] * n\nserve_loose_cnt += [0] * n\n\nfor t in itertools.chain(list(range(1, 1 + win_cnt // 2)), [win_cnt]):\n    s = l = i = 0\n    sw = sl = 0\n    while i < n:\n        xw = win_pos[serve_win_cnt[i] + t]\n        xl = loose_pos[serve_loose_cnt[i] + t]\n        if xw < xl:\n            s += 1\n        else:\n            l += 1\n        i = min(xw, xl) + 1\n    if s > l and i <= n and serve_win_cnt[i] == win_cnt:\n        result.append((s, t))\n\nprint(len(result))\nfor (x, y) in sorted(result):\n    print(x, y)\n"]