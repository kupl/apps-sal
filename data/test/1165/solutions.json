["import collections\nimport math\n\nn ,m = map(int, input().split())\nA = list(map(int, input().split()))\nans, f = [], [0] * n\nf[0] = -1\nfor i in range(1, n):\n    if A[i] != A[i - 1]:\n        f[i] = i - 1\n    else:\n        f[i] = f[i - 1]\nfor i in range(m):\n    l, r, x = map(int, input().split())\n    #q.append([l - 1, r - 1, x])\n    #for i in range(m):\n    if A[r - 1] != x:\n        ans.append(r)\n    elif f[r - 1] >= l - 1:\n        ans.append(f[r - 1] + 1)\n    else:\n        ans.append(-1)\nprint('\\n'.join(str(x) for x in ans))", "from sys import *\n\ndef input():\n    return stdin.readline()\n\nn ,m = map(int, input().split())\na = list(map(int, input().split()))\nans=[]\ndifPre=[-1 for i in range(n)]\nfor i in range(1,n):\n    if a[i]==a[i-1]:\n        difPre[i]=difPre[i-1]\n    else:\n        difPre[i]=i-1\n\nfor i in range(m):\n    l,r,x=map(int,input().split())\n    if a[r-1]!=x:\n        ans.append(str(r))\n    else:\n        if difPre[r-1]>=l-1:\n            ans.append(str(difPre[r-1]+1))\n        else:\n            ans.append('-1')\nprint('\\n'.join(ans))", "n,m=list(map(int,input().split()))\nl=input().split()\nL,ans=[0 for i in range(n)],[]\nL[0]=-1\nfor i in range(1,n):\n    if l[i]==l[i-1]:\n        L[i]=L[i-1]\n    else:L[i]=i\nfor i in range(m):\n    s=input().split()\n    b=int(s[1])\n    if l[b-1]!=s[2]:\n        ans+=[str(b)]\n    elif L[b-1]>=int(s[0]):\n        ans+=[str(L[b-1])]\n    else:\n        ans+=['-1']\nprint('\\n'.join(ans))\n", "n,m = [int(i) for i in input().split()]\na = input().split()\nresult = []\nprev = [-1]*n\n\nfor i in range(1,n):\n    if a[i] != a[i-1]:\n        prev[i] = i-1\n    else:\n        prev[i] = prev[i-1]\n\nfor i in range(m):\n    l,r,x = input().split()\n    r = int(r)\n    if a[r-1] != x:\n        answer = r\n    elif prev[r-1]<int(l)-1:\n        answer = -1\n    else:\n        answer = prev[r-1]+1\n\n    result.append(str(answer))\n\nprint('\\n' .join(result))", "from sys import stdin \n\nn,m=list(map(int,stdin.readline().split()))\na=list(map(int,stdin.readline().split()))\n\npre=[]\nt,index=a[0],0\nfor i in range(n) :\n    index=index if a[i]==t else i\n    t=a[i]\n    pre.append(index)\n\nprt=[]\nfor i in range(m) :\n    l,r,x=list(map(int,stdin.readline().split()))\n    L=pre[r-1]\n    if a[r-1]==x :\n        sl=pre[r-1]+1\n        if sl<=l :\n            prt.append(str(-1))\n            continue\n        r=sl-1\n    prt.append(str(r))\n\nprint(\"\\n\".join(prt))", "from sys import stdin \n\nn,m=map(int,stdin.readline().split())\na=stdin.readline().split()\n\npre=[]\nt,index=a[0],0\nfor i in range(n) :\n    index=index if a[i]==t else i\n    t=a[i]\n    pre.append(index)\n\nprt=[]\nfor i in range(m) :\n    l,r,x=stdin.readline().split()\n    l,r=int(l),int(r)\n    L=pre[r-1]\n    if a[r-1]==x :\n        sl=pre[r-1]+1\n        if sl<=l :\n            prt.append(str(-1))\n            continue\n        r=sl-1\n    prt.append(str(r))\n\nprint(\"\\n\".join(prt))", "n,m = [int(i) for i in input().split()]\na = input().split()\nresult = []\nprev = [-1]*n\nfor i in range(1,n):\n    if a[i] != a[i-1]:\n        prev[i] = i-1\n    else:\n        prev[i] = prev[i-1]\nfor i in range(m):\n    l,r,x = input().split()\n    r = int(r)\n    if a[r-1] != x:\n        answer = r\n    elif prev[r-1]<int(l)-1:\n        answer = -1\n    else:\n        answer = prev[r-1]+1\n    result.append(str(answer))\nprint('\\n' .join(result))", "n,m = map(int,input().split())\na = input().split()\nb = [0] * n\nans = []\nfor i in range(1,n):\n    if a[i] != a[i-1]:\n        b[i] = i\n    else:\n        b[i] = b[i-1]\nfor i in range(m):\n    c = input().split()\n    c[1] = int(c[1])\n    c[0] = int(c[0])\n    if a[c[1]-1] != c[2]:\n        ans.append(str(c[1]))\n    elif b[c[1]-1] <= c[0]-1:\n        ans.append(str(-1))\n    else:\n        ans.append(str(b[c[1]-1]))\nprint ('\\n'.join(ans))", "n,m=map(int,input().split())\na=input().split()\np=[0 for i in range(n)]\np[0]=-1\nans=[]\nfor i in range(1,n):\n    if a[i]==a[i-1]:\n        p[i]=p[i-1]\n    else:\n        p[i]=i-1\nfor i in range(m):\n    s=input().split()\n    r=int(s[1])\n    if a[r-1]!=s[2]:\n        ans+=[str(r)]\n    else:\n        if p[r-1]>=int(s[0])-1:\n            ans+=[str(p[r-1]+1)]\n        else:\n            ans+=['-1']\nprint('\\n'.join(ans))", "n,m = [int(i) for i in input().split()]\na = input().split()\nb = [0]*n\nans = []\nfor i in range(1,n):\n    if a[i] != a[i-1]:\n        b[i] = i\n    else:\n        b[i] = b[i-1]\nfor i in range(m):\n    c = input().split()\n    c[1] = int(c[1])\n    c[0] = int(c[0])\n    if a[c[1]-1] != c[2]:\n        ans.append(str(c[1]))\n    elif b[c[1]-1] <= c[0]-1:\n        ans.append(str(-1))\n    else:\n        ans.append(str(b[c[1]-1]))\nprint('\\n'.join(ans))\n", "# -*- coding: utf-8 -*-\n\"\"\"\nCreated on Tue May 17 15:26:55 2016\n\n@author: Alex\n\"\"\"\nfrom sys import stdin\n\nn,m = [int(i) for i in input().split()]\nl = [int(i) for i in stdin.readline().split()]\nprev = [-1 for i in range(n)]\nre = []\nfor i in range(n-1):\n    if l[i] != l[i+1]:\n        prev[i+1] = i\n    else:\n        prev[i+1] = prev[i]\nfor _ in range(m):\n    le,ri,xi = [int(i) for i in stdin.readline().split()]\n    i = ri-1\n    if l[i]!=xi:\n        re.append(str(ri))\n    else:\n        if prev[i]<le-1:\n            re.append('-1')\n        else:\n            re.append(str(prev[i]+1))\nprint('\\n'.join(re))\n        \n", "\nn, m = tuple(map(int, input().split()))\nli = input().split()\na=[0]*n\nfor i in range(1,n):\n    if li[i] != li[i-1]:\n        a[i]=(i)\n    else:\n        a[i]=(a[i-1])\n#print(a)\nresult =[0]*m\nfor k in range(m):\n    l, r, x = input().split(); l,r=int(l),int(r)\n    if li[r-1] != x: result[k]=str(r)\n    elif a[r-1]>=l: result[k]=str(a[r-1])\n    else: result[k]='-1'\n\nprint('\\n'.join(result))", "n, m = tuple(map(int, input().split()))\nli = input().split()\na=[0]*n\nfor i in range(1,n):\n    if li[i] != li[i-1]:\n        a[i]=(i)\n    else:\n        a[i]=(a[i-1])\nresult =[0]*m\nfor k in range(m):\n    l, r, x = input().split(); l,r=int(l),int(r)\n    if li[r-1] != x: result[k]=str(r)\n    elif a[r-1]>=l: result[k]=str(a[r-1])\n    else: result[k]='-1'\n\nprint('\\n'.join(result))", "from sys import stdin\n\nn, m = [int(i) for i in stdin.readline().split()]\nori = [int(i) for i in stdin.readline().split()]\npre = [-1] * n\nans = list()\nfor i in range(n-1):\n\tif ori[i] != ori[i+1]:\n\t\tpre[i+1] = i\n\telse:\n\t\tpre[i+1] = pre[i]\nfor i in range(m):\n\tl, r, x = [int(i) for i in stdin.readline().split()]\n\ttem = r - 1\n\tif ori[tem] != x: \n\t\tans.append(str(r))\n\telse:\n\t\tif pre[tem] < l-1:\n\t\t\tans.append('-1')\n\t\telse:\n\t\t\tans.append(str(pre[tem]+1))\n\nprint('\\n'.join(ans))", "from sys import stdin\n\nn, m = [int(i) for i in stdin.readline().split()]\nori = [int(i) for i in stdin.readline().split()]\npre = [-1] * n\nans = list()\nfor i in range(n-1):\n\tif ori[i] != ori[i+1]:\n\t\tpre[i+1] = i\n\telse:\n\t\tpre[i+1] = pre[i]\nfor i in range(m):\n\tl, r, x = [int(i) for i in stdin.readline().split()]\n\ttem = r - 1\n\tif ori[tem] != x: \n\t\tans.append(str(r))\n\telse:\n\t\tif pre[r-1] == pre[l-1]:\n\t\t\tans.append('-1')\n\t\t\tcontinue\n\t\telse:\n\t\t\tans.append(str(pre[r-1]+1))\n\nprint('\\n'.join(ans))", "from sys import stdin\n\nn,m = [int(i) for i in stdin.readline().split()]\na = [int(i) for i in stdin.readline().split()]\nb = [None] * n\nb[0] = -1\nans = [None] * m\nfor i in range(1,len(a)):\n    if a[i] == a[i - 1]:\n        b[i] = b[i - 1]\n    else:\n        b[i] = i - 1\nfor i in range(m):\n    l,r,x = [int(j) for j in stdin.readline().split()]\n    k = r - 1\n    if a[k] != x:\n        ans[i] = str(k + 1)\n    elif b[k] + 1 >= l:\n        ans[i] = str(b[k] + 1)\n    else:\n        ans[i] = ('-1')\n\nprint('\\n'.join(ans))\n"]