["import sys\nn = int(sys.stdin.readline())\na = [int(x) for x in sys.stdin.readline().split()]\n\neps = 1e-12\n\ndef f(x):\n    mx = a[0] - x\n    tsmx = 0.0\n    mn = a[0] - x\n    tsmn = 0.0\n    for ai in a:\n        tsmx = max(tsmx + ai - x, ai - x)\n        mx = max(tsmx, mx)\n        tsmn = min(tsmn + ai - x, ai - x)\n        mn = min(tsmn, mn)\n\n    return abs(mx), abs(mn)\n\nl = min(a)\nr = max(a)\nf1, f2 = f(l)\nfor i in range(0, 90):\n    m = (l + r) / 2\n    f1, f2 = f(m)\n    if f1 > f2:\n        l = m\n    else:\n        r = m\n\nA, B = f(l)\nprint(min(A,B))", "def f(x):\n    bi = 0\n    ci = 0\n    cnt1 = -10 ** 10\n    minsum1 = 10 ** 10\n    cnt2 = -10 ** 10\n    minsum2 = 10 ** 10\n    for i in range(len(A)):\n        if bi - minsum1 > cnt1:\n            cnt1 = bi - minsum1\n        if bi <= minsum1:\n            minsum1 = bi\n        if ci - minsum2 > cnt2:\n            cnt2 = ci - minsum2\n        if ci <= minsum2:\n            minsum2 = ci\n        bi += A[i] - x\n        ci += x - A[i]\n    if bi - minsum1 > cnt1:\n        cnt1 = bi - minsum1\n    if bi <= minsum1:\n        minsum1 = bi\n    if ci - minsum2 > cnt2:\n        cnt2 = ci - minsum2\n    if ci <= minsum2:\n        minsum2 = ci\n    return max(cnt1, cnt2, 0)\n\n\nn = int(input())\nA = list(map(int, input().split()))\nl = min(A)\nr = max(A)\nfor _ in range(70):\n    p = l + (r - l) / 3\n    q = r - (r - l) / 3\n    x = f(p)\n    y = f(q)\n    if x > y:\n        l = p\n    elif y > x:\n        r = q\n    else:\n        l = p\n        r = q\nprint(f(l))", "def weakness(a, x):\n    a = [elem-x for elem in a]\n    acumulado = maximo = 0\n    for elem in a:\n        if acumulado + elem > 0:\n            acumulado += elem\n        else:\n            acumulado = 0\n        if acumulado > maximo:\n            maximo = acumulado\n    acumulado = minimo = 0\n    for elem in a:\n        if acumulado + elem < 0:\n            acumulado += elem\n        else:\n            acumulado = 0\n        if acumulado < minimo:\n            minimo = acumulado\n    return max(maximo, -minimo)\n\n\nn, a = input(), list(map(int, input().split()))\n\ninf, sup = min(a), max(a)\nfor _ in range(70):\n    c1, c2 = (2*inf+sup)/3, (inf+2*sup)/3\n    if weakness(a, c1) < weakness(a, c2):\n        sup = c2\n    else:\n        inf = c1\n\nprint(weakness(a, (inf+sup)/2))\n\n"]