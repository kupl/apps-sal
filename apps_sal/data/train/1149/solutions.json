["# cook your dish here\n\n \nt=int(input())\nfor _ in range(t):\n l = input()\n \n n= len(l)\n prod = 1\n for k in range(n//2):\n  i = l[k]\n  j = l[n-k-1]\n  if ((i!=j) and (i!='?' and j!=\"?\") ):\n   prod=0\n   break\n  elif ((i==j) and (i=='?')):\n   prod*=26\n  prod = prod%10000009\n if n%2!=0:\n  if l[n//2]==\"?\":\n   prod*=26\n \n print(prod)", "# cook your dish here\n\nt = 0 \ntry:\n t = int(input())\nexcept:\n pass\n \n \n\n\nfor _ in range(t):\n l = input()\n \n n= len(l)\n prod = 1\n for k in range(n//2):\n  i = l[k]\n  j = l[n-k-1]\n  if ((i!=j) and (i!='?' and j!=\"?\") ):\n   prod=0\n   break\n  elif ((i==j) and (i=='?')):\n   prod*=26\n  prod = prod%10000009\n if n%2!=0:\n  if l[n//2]==\"?\":\n   prod*=26\n \n print(prod)\n  \n", "# cook your dish here\n\nt = 0 \ntry:\n t = int(input())\nexcept:\n pass\n \n \n\n\nfor _ in range(t):\n l = input()\n \n n= len(l)\n prod = 1\n for k in range(n//2):\n  i = l[k]\n  j = l[n-k-1]\n  if ((i!=j) and (i!='?' and j!=\"?\") ):\n   prod*=0\n   break\n  elif ((i==j) and (i=='?')):\n   prod*=26\n  prod = prod%10000009\n if n%2!=0:\n  if l[n//2]==\"?\":\n   prod*=26\n \n print(prod)\n  \n", "for _ in range(int(input())):\n s=list(input())\n n=len(s)\n S, mod = 1, 10000009\n for i in range(n):\n  if(s[i]==\"?\" and s[n-i-1]==\"?\"):\n   S = (S*26)%mod\n   s[i], s[n-i-1] = \".\", \".\"\n  elif(s[i]!=\"?\" and s[n-i-1]!=\"?\"):\n   if s[i]!=s[n-i-1]:\n    S=0\n    break\n print(S%mod)\n   \n   \n", "for _ in range(int(input())):\n s=list(input())\n n=len(s)\n an=1\n mod=10000009\n for i in range(n):\n  if s[i]==\"?\" and s[n-i-1]==\"?\":\n   an=(an*26)%mod\n   s[i]=\".\"\n   s[n-i-1]=\".\"\n  elif s[i]!=\"?\" and s[n-i-1]!=\"?\":\n   if s[i]!=s[n-i-1]:\n    an=0\n    break\n print(an%mod)\n   \n   \n", "# cook your dish here\nt=int(input())\nfor _ in range(t):\n s=input()\n s=[i for i in s]\n n=len(s)\n # print(n,'---')\n c=1\n mc=1\n for i in range(len(s)):\n  if s[i]=='?' and s[abs(n-1-i)]=='?':\n   s[abs(n-1-i)]=s[i]='a'\n   \n   c*=26\n  \n  elif s[i]!=s[abs(n-1-i)] and s[i]!='?' and s[abs(n-1-i)]!='?':\n   c=0\n   mc=0\n   break\n  c=c%10000009\n \n print(c)", "from math import ceil\n\ndef isPalindrome(s,N):\n for i in range(ceil(N/2)):\n  if(s[i]!=s[N-i-1] and s[i]!='?' and s[N-i-1]!='?'):\n   return False\n return True\n\nT = int(input())\nans = []\nm = 10**7 + 9\n\nfor _ in range(T):\n S = input()\n N = len(S)\n\n if(isPalindrome(S,N)):\n  count = 0\n  for i in range(ceil(N/2)):\n   if(S[i]=='?' and S[N-1-i]=='?'):\n    count += 1\n  if(count==0):\n   ans.append(1)\n  else:\n   ans.append( ((26%m)**count)%m )\n else:\n  ans.append(0)\n\nfor i in ans:\n print(i)\n\n", "from math import ceil\n\ndef isPalindrome(s,N):\n for i in range(ceil(N/2)):\n  if(s[i]!=s[N-i-1] and s[i]!='?' and s[N-i-1]!='?'):\n   return False\n return True\n\nT = int(input())\nans = []\nm = 10**7 + 9\n\nfor _ in range(T):\n S = input()\n N = len(S)\n\n if(isPalindrome(S,N)):\n  count = 0\n  for i in range(ceil(N/2)):\n   if(S[i]=='?' and S[N-1-i]=='?'):\n    count += 1\n  if(count==0):\n   ans.append(1)\n  else:\n   ans.append( ((26%m)**count)%m )\n else:\n  ans.append(0)\n\nfor i in ans:\n print(i)\n", "test=int(input())\nfor _ in range(test):\n strText=input()\n n=len(strText)\n ans=1\n rangeCheck=n\n if(n%2==0):\n  rangeCheck=rangeCheck//2\n else:\n  rangeCheck=rangeCheck//2+1\n  \n if(len(strText)==strText.count('?')):\n  ans=(ans*(26**rangeCheck))%(10**7+9)\n else:\n  for i in range(rangeCheck):\n   start=strText[i]\n   end=strText[n-1-i]\n   if(start=='?' and end=='?'):\n    ans=(ans*26)%(10**7+9)\n   else:\n    if(start!=end):\n     if(start!='?' and end!='?'):\n      ans=0\n      break\n print(ans)#just code here", "mod =10**7 + 9\nfrom sys import stdin,stdout\nfor _ in range(int(stdin.readline())):\n s = input().strip()\n n = len(s);m = 1\n for i in range(n//2):\n  #print(i,n-i-1)\n  if s[i]==s[n-i-1] and s[i]=='?':\n   m= (m*26)%mod\n  elif s[i]!= s[n-i-1] and (s[i]=='?' or s[n-i-1]=='?')    :\n   pass\n  elif s[i]==s[n-i-1]:\n   pass\n  else:\n   print(0)\n   break\n else:\n  if n %2 ==1 and s[n//2] =='?':\n   m = (m*26)%mod\n  print(m)", "mod =10**7 + 9\nfrom sys import stdin,stdout\nfor _ in range(int(stdin.readline())):\n s = input().strip()\n n = len(s);m = 1\n for i in range(n//2):\n  #print(i,n-i-1)\n  if s[i]==s[n-i-1] and s[i]=='?':\n   m= (m*26)%mod\n  elif s[i]!= s[n-i-1] and (s[i]=='?' or s[n-i-1]=='?')    :\n   pass\n  elif s[i]==s[n-i-1]:\n   pass\n  else:\n   print(0)\n   break\n else:\n  if n %2 ==1 and s[n//2] =='?':\n   m = (m*26)%mod\n  print(m)\n\n\n", "# cook your dish here\nfor _ in range(int(input())):\n s=input()\n m=10**7+9\n i=0 \n j=len(s)-1\n c=1 \n while i<=j:\n  if s[i]==s[j]=='?':\n   c=((c%m)*(26%m))%m \n   i+=1 \n   j-=1 \n  elif s[i]=='?' or s[j]=='?' or s[i]==s[j]:\n   i+=1 \n   j-=1 \n  else:\n   c=0 \n   break \n print(c)", "for u in range(int(input())):\n s=input()\n i=0\n j=len(s)-1\n c=1\n m=10**7+9\n while(i<=j):\n  if(s[i]==s[j]=='?'):\n   c=((26%m)*(c%m))%m\n   i+=1\n   j-=1\n  elif(s[i]=='?' or s[j]=='?' or s[i]==s[j]):\n   i+=1\n   j-=1\n  else:\n   c=0\n   break\n print(c%m)\n", "# def recur(a,st,end,ans):\n#     if st<=end:\n#         if a[st] == '?' and a[end] == \"?\":\n#             ans*=26\n#             return recur(a,st+1,end-1,ans)\n#         if a[st]!='?' and a[end]!='?':\n#             if a[st] == a[end]:\n#                 return recur(a,st+1,end-1,ans)\n#             return 0\n#         return recur(a,st+1,end-1,ans)\n#     return ans\n\nfor _ in range(int(input())):\n a = input()\n i = 0\n j = len(a)-1\n ans = 1\n mod = (10**7)+9\n while i<=j:\n  if a[i] == '?' and a[j] == \"?\":\n   ans=((ans%mod)*(26%mod))%mod\n   i+=1\n   j-=1\n  elif a[i] == '?' or a[j] == \"?\" or a[i] == a[j]:\n   i+=1\n   j-=1\n  else:\n   ans = 0\n   break\n print(ans)\n", "test = int(input())\nfor _ in range(test):\n string=list(input())\n answer=1\n for i in range(len(string)//2):\n  if string[i]=='?' and string[len(string)-i-1]=='?':\n   answer = (answer*26)%10000009\n  elif string[i]=='?' or string[len(string)-i-1]=='?':\n   answer=(answer*1)\n  elif string[i]!=string[len(string)-i-1]:\n   answer=0\n   break\n if len(string)%2!=0:\n  if string[len(string)//2]=='?':\n   answer=(answer*26)\n print(answer%10000009)", "def solve():\n s=input()\n n=len(s)\n c=1\n for i in range(((n-1)//2)+1):\n  if s[i] == '?' and s[n-i-1] == \"?\":\n   c=(c*26) % 10000009\n  elif s[i] == '?' or s[n-i-1] == \"?\":\n   c=c*1\n  elif s[i] != s[n-i-1]:\n   c=0\n   break\n\n print(c)\n \n\ndef __starting_point():\n t=int(input())\n while t>0:\n  solve()\n  t=t-1\n__starting_point()", "# cook your dish here\nfor t in range(int(input())):\n s=input()\n n=len(s)\n c,k=1,0\n for i in range(((len(s)-1)//2)+1):\n  if s[i]=='?' and s[n-i-1]=='?':\n   c=(c*26)%10000009\n  elif s[i]=='?' or s[n-i-1]=='?':\n   pass\n  elif s[i]!=s[n-i-1]:\n    k=1\n    break\n if k==1:\n  print(0)\n else:\n  print(c)", "mod = 10000009\n\n\ndef solve():\n s = input()\n n = len(s)\n c, k = 1, 0\n for i in range(((len(s) - 1) // 2) + 1):\n  if s[i] == '?' and s[n - i - 1] == '?':\n   c = (c * 26) % 10000009\n  elif s[i] == '?' or s[n - i - 1] == '?':\n   pass\n  elif s[i] != s[n - i - 1]:\n   k = 1\n   break\n if k == 1:\n  print(0)\n else:\n  print(c)\n\n\ndef __starting_point():\n t = int(input())\n while t != 0:\n  solve()\n  t -= 1\n\n__starting_point()", "# cook your dish here\nfor t in range(int(input())):\n s=input()\n n=len(s)\n c,k=1,0\n for i in range(((len(s)-1)//2)+1):\n  if s[i]=='?' and s[n-i-1]=='?':\n   c=(c*26)%10000009\n  elif s[i]=='?' or s[n-i-1]=='?':\n   pass\n  elif s[i]!=s[n-i-1]:\n    k=1\n    break\n if k==1:\n  print(0)\n else:\n  print(c)", "# cook your dish here\nfor t in range(int(input())):\n s=input()\n n=len(s)\n c,k=1,0\n for i in range(((len(s)-1)//2)+1):\n  if s[i]=='?' and s[n-i-1]=='?':\n   c=(c*26)%10000009\n  elif s[i]=='?' or s[n-i-1]=='?':\n   pass\n  elif s[i]!=s[n-i-1]:\n    k=1\n    break\n if k==1:\n  print(0)\n else:\n  print(c)"]