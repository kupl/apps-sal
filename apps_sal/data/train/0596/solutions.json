["import sys\nfrom random import choice,randint\ninp=sys.stdin.readline\nout=sys.stdout.write\nflsh=sys.stdout.flush\n \nsys.setrecursionlimit(10**9)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 10**9+7\ndd = [(-1,0),(0,1),(1,0),(0,-1)]\nddn = [(-1,0),(-1,1),(0,1),(1,1),(1,0),(1,-1),(0,-1),(-1,-1)]\n \ndef MI(): return map(int, inp().strip().split())\ndef LI(): return list(map(int, inp().strip().split()))\ndef LLI(): return [list(map(int, l.split())) for l in sys.stdin.readlines().strip()]\ndef LI_(): return [int(x)-1 for x in inp().strip().split()]\ndef LF(): return [float(x) for x in inp().strip().split()]\ndef LS(): return inp().strip().split()\ndef I(): return int(inp().strip())\ndef F(): return float(inp().strip())\ndef S(): return inp().strip()\ndef pf(s): return out(s+'\\n')\ndef JA(a, sep): return sep.join(map(str, a))\ndef JAA(a, s, t): return s.join(t.join(map(str, b)) for b in a)\n\ndef main():\n    from math import ceil\n    t = I()\n    l = []\n    for _ in range(t):\n        n,k=MI()\n        if n==0:\n            k-=1\n            ans = ((k)*((k+1)))%mod\n            l.append(ans)\n        else:\n            # if k==1:\n            #     ans = ((((n)*((n-1)))%mod)+ n%mod)%mod\n            #     l.append(ans)\n            # else:\n            #     k-=1\n            #     lr = (n%mod+((ceil(k/2)%mod))%mod\n            #     ans = ((lr*((lr-1))%mod\n            #     if k%2!=0:\n            #         ans= (ans%mod + n%mod)%mod\n            #     else:\n            #         ans = ((ans%mod)+((lr+n)%mod))%mod\n            #     l.append(ans)\n            if k%2!=0:\n                lr = k//2\n                l.append(((n*n)%mod+(lr*((2*n)%mod))%mod+(lr*(lr+1))%mod)%mod)\n            else:\n                lr = k//2\n                l.append(((n*n)%mod + (lr*(2*n)%mod)%mod + (lr*(lr-1))%mod)%mod)\n\n    for i in range(t):\n        pf(str(l[i]))\n\ndef __starting_point():\n    main()\n__starting_point()", "for i in range(int(input())):\n    n,k = list(map(int,input().split()))  \n    if n==0 and k==1 :\n        print(0)\n    \n    elif n==0:\n        print((k*(k-1))%q)\n    else:\n        m = n+1\n        q= 10**9+7\n        if k%2 ==0:\n            m+=k//2-1\n            print((m**2+n-m)%q)\n        else:\n            m+=(k+1)//2-1\n            print((m**2-n-m)%q)\n    \n", "for _ in range(int(input())):\r\n    n,k = list(map(int,input().split()))\r\n    if n == 0:\r\n        print((k*(k-1))%1000000007)\r\n    elif k == 1:\r\n        print((n**2)%1000000007)\r\n    else:\r\n        turn = (k//2)\r\n        point = turn + n\r\n        if k%2 == 0:\r\n            print((point**2 - turn)%1000000007)\r\n        else:\r\n            print((point**2 + turn)%1000000007)\r\n            \r\n    \r\n    \r\n                \r\n                \r\n                \r\n", "try:\n    t=int(input())\n    for _ in range(t):\n        a,b=map(int,input().split())\n        if(a==0):\n            print(((b-1)*b)%1000000007)\n        else:\n            c=b%2\n            if(c==0):\n                x=(b-2)//2\n                ans=(a+x)*(a+x+1)+a\n                print(ans%1000000007)\n            else:\n                x=b//2\n                ans=(a+x-1)*(a+x)\n                ans=(ans+a+2*x)\n                print(ans%1000000007)\nexcept:\n    pass", "for _ in range(int(input())):\n    n,k = map(int,input().split()) ; m =(10**9)+7\n    if n==0:\n        if k==1:\n            print(0)\n        else:\n            print((k*(k-1))%m)\n    else:\n        if k==1:\n            print((n*(n-1)+n)%m)\n        elif k%2:\n            x = n+((k-1)//2)\n            print((x*(x+1)-n)%m)\n        else:\n            x = (n+(k//2))\n            print((x*(x-1)+n)%m)", "t = int(input().strip())\nm = 1000000007\nfor _ in range(t):\n    n,k = [int(x) for x in input().strip().split()]\n    if n==0:\n        ans = (k*(k-1))%m\n    elif k%2==0:\n        ans = ((n*n)%m + (k*n)%m + (((k)*(k-2))//4)%m)%m\n    else:\n        ans = ((n*n)%m + ((k-1)*n)%m + (((k+1)*(k-1))//4)%m)%m\n    print(ans)", "# cook your dish here\ntry:\n    t=int(input())\n    for _ in range(t):\n        x,y=map(int,input().split())\n        if(x==0):\n            print(((y-1)*y)%1000000007)\n        else:\n            inc=y%2\n            if(inc==0):\n                cir=(y-2)//2\n                a=(x+cir)*(x+cir+1)+x\n                print(a%1000000007)\n            else:\n                cir=y//2\n                a=(x+cir-1)*(x+cir)\n                a=(a+x+2*cir)\n                print(a%1000000007)\nexcept:\n    pass", "for t in range(int(input())):\n    n,k=map(int,input().split())\n    mod=10**9+7\n    if n==0:\n        if k==1:\n            print(0)\n        else:\n            print(k*(k-1)%mod)\n    else:\n        if k%2==0:\n            a=n+k//2-1\n            print((a*(a+1)+n)%mod)\n        else:\n            a=n+k//2    \n            print((a*(a+1)-n)%mod)", "'''input\r\n6\r\n0 1\r\n1 1\r\n2 1\r\n1 3\r\n4 6\r\n4 100\r\n'''\r\nfrom bisect import bisect_left as bl, bisect_right as br\r\nfrom collections import defaultdict as dd\r\nmod=10**9+7\r\n\r\nfor _ in range(int(input())):\r\n\r\n    #n=int(input())\r\n    n,k=list(map(int,input().strip().split()))\r\n    if(k==1):\r\n        sm=pow(n,2,mod)\r\n        print(sm)\r\n        continue\r\n    elif(n==0):\r\n        sm=k*(k-1)\r\n        print(sm%mod)\r\n        continue\r\n    else:\r\n        sm=(n*(n+1))%mod\r\n\r\n\r\n    y=(k-1)/2\r\n    q=y\r\n    if(int(y)==y):\r\n        y=max(0,int(y)-1)\r\n        rem=2\r\n    else:\r\n        y=int(y)\r\n        rem=1\r\n    \r\n    sm+=(2*y*n)%mod+(y*(y+1))%mod\r\n    #print(sm,\"**\")\r\n\r\n    if(rem==1):\r\n        sm+=n\r\n    else:\r\n        sm+=2*(n+y+1)-n\r\n\r\n    print(sm%mod)\r\n\r\n\r\n\r\n", "# cook your dish here\nmd=1000000007\nfor tst in range(int(input())):\n    n,k = [int(x) for x in input().split()]\n    if(n==0):\n        ans=(k*(k-1))%md\n        print(ans)\n        continue\n    z=0\n    if (k&1):\n        z=1\n    g=(k//2)+n\n    ans=((g+1)*g)\n    if(z):\n        ans=(ans-n)%md\n    else:\n        ans=(ans-g-g+n)%md\n    print(ans)", "# cook your dish here\ntry:\n    t=int(input())\n    for _ in range(t):\n        a,b=map(int,input().split())\n        if(a==0):\n            print(((b-1)*b)%1000000007)\n        else:\n            inc=b%2\n            if(inc==0):\n                cir=(b-2)//2\n                ans=(a+cir)*(a+cir+1)+a\n                print(ans%1000000007)\n            else:\n                cir=b//2\n                ans=(a+cir-1)*(a+cir)\n                ans=(ans+a+2*cir)\n                print(ans%1000000007)\nexcept:\n    pass", "for i in range(int(input())):\n    n,k=map(int,input().split())\n    if(n!=0):\n        d=(k-1)//2\n        z=n**2+(k//2)*(2*n)+d*(d+1)\n        z=z%(10**9+7)\n        print(z)\n    else:\n        z=k*(k-1)\n        z=z%(10**9+7)\n        print(z)", "import math\r\nmod=(10**9)+7\r\nT=int(input())\r\nfor _ in range(T):\r\n    N,K=list(map(int,input().split()))\r\n    if (N==0):\r\n        print(((K*(K-1)))%mod)\r\n    else:\r\n        pos=(math.ceil((K-1)/2)+N)\r\n        if ((K)%2==0 or K==1):\r\n            et=N\r\n        else:\r\n            et=pos+pos-N\r\n        t=((pos*(pos-1))+et)%mod\r\n        print(t%mod)\r\n", "t=int(input())\nfor hh in range(0,t):\n    n,k=[int(x) for x in input().split()]\n    # 2 3\n    m=1000000007\n    pos=n\n    if(n==0):\n        rem=k-1\n        cur=(rem*(rem+1))%m\n        print(cur)\n    elif(k==1):\n        prev=(pos*(pos-1))%m\n        curr=(prev+pos)%m\n        print(curr)\n    else:\n        # if(k%2==1):\n        #     p=k//2\n        #     # p=1\n        #     inipos=pos\n        #     pos=pos+p-1\n        #     prev=pos*(pos+1)\n        #     print(prev,pos)\n        #     curr=prev+inipos\n        #     print(curr)\n        # else:\n        #     p=k//2 -1 \n        #     inipos=pos\n        #     # pos=4 k = 6 p=2\n        #     pos=pos+p-1\n        #     prev=pos*(pos+1)\n        #     now=inipos+p\n        #     rem=now-inipos\n        #     print(prev,now,pos,p,rem)\n        #     curr=prev+now+rem\n        #     print(curr)\n        if(k%2==1):\n            k-=1\n            p=k//2\n            # p=1\n            ans=2*pos\n            inipos=pos\n            # pos=4 k = 6 p=2\n            pos=(pos+p-1)%m\n            prev=(pos*(pos+1))%m\n            now=(inipos+p)%m\n            rem=(now-inipos+m)%m\n            # print(prev,now,pos,p,rem)\n            curr=(prev+now+rem)%m\n            print(curr)\n        else:\n            k-=1\n            p=k//2\n            # p=1\n            # pos =4 k =6 k=5 p=2\n            inipos=pos\n            pos=(pos+p)%m\n            prev=(pos*(pos+1))%m\n            # print(prev,pos)\n            curr=(prev+inipos)%m\n            print(curr)", "# cook your dish here\nt=int(input())\nM=1000000007\nfor z in range(t):\n    N,K=list(map(int,input().split()))\n    if N==0:\n        K=K-1\n        t=(K*(K+1))%M\n        print(t)\n        continue\n    if K%2==0:\n        s=N+K//2-1\n        t=((s*(s+1))%M+N)%M\n    else:\n        s=N+K//2\n        t=((s*(s+1))%M-N)%M\n    print(t)", "for i in range(int(input())):\n    n,k=map(int,input().split())\n    if(n!=0):\n        d=(k-1)//2\n        z=n**2+(k//2)*(2*n)+d*(d+1)\n        z=z%(10**9+7)\n        print(z)\n    else:\n        z=k*(k-1)\n        z=z%(10**9+7)\n        print(z)", "from math import *\r\nt=int(input())\r\np=1000000007\r\nwhile(t):\r\n    t-=1\r\n    x,k=list(map(int,input().split()))\r\n    y=ceil(k/2)\r\n    if(x==0):\r\n        if(k==1):\r\n            print(0)\r\n            continue\r\n        k-=1\r\n        y=(k*(k+1))\r\n        y=y//2\r\n        y=y*2\r\n        print(y%p)\r\n        continue\r\n    if(k==1):\r\n        print((x*x)%p)\r\n    elif(k==2):\r\n        z=x*x\r\n        z+=2*x\r\n        print(z%p)\r\n    elif(k%2):\r\n        minus=(x*(x+1))\r\n        minus=minus//2\r\n        fi=x*x\r\n        y=x+(k//2)\r\n        fac=((y*(y+1))//2)\r\n        fac-=minus\r\n        fac=fac*2\r\n        fi+=fac\r\n        print(fi%p)\r\n    else:\r\n        minus=(x*(x+1))\r\n        minus=minus//2\r\n       # print(minus)\r\n        se=(x*x)+(2*x)\r\n        y=x+((k-1)//2)\r\n        fac=((y*(y+1))//2)\r\n        #print(fac)\r\n        fac-=minus\r\n        fac=fac*2\r\n        se+=fac\r\n        print(se%p)\r\n\r\n        \r\n", "from math import *\r\nt=int(input())\r\np=10**9+7\r\nfor i in range(t):\r\n    \r\n    \r\n    n,k=list(map(int,input().split()))\r\n    ans=(n+ceil((k-1)/2))%p\r\n    r=ans\r\n    \r\n    ans=(((((ans+1)*(ans))//2)*2))%p\r\n    \r\n    \r\n    if(k==0):\r\n        print(0)\r\n        continue\r\n    k=k-1\r\n    if(n==0):\r\n        print((((k*(k+1))//2)*2)%p)\r\n        continue\r\n\r\n    if(k!=0):\r\n        if(k%2==0):\r\n            ans=ans-(r-(r-n))\r\n        \r\n        else:\r\n            ans=ans-r-(r-n)\r\n    else:\r\n        ans=ans-r\r\n    print(ans%p)\r\n", "# cook your dish here\nt=int(input())\nfor i in range(t):\n    a,b=input().split()\n    a,b=int(a),int(b)\n    if a==0:\n        b=b*2\n    ans=pow(a,2)+int(b/2)*2*a+pow(int(b/2)-1,2)+int(b/2)-1\n    if b%2!=0:\n        ans=ans+b-1\n    print(ans%1000000007)", "def solve(n,k):\r\n    ans=0\r\n    if n==0:\r\n        if k==1:\r\n            return 0\r\n        else:\r\n            ans=(k-1) * (k)\r\n            return ans%1000000007\r\n    if k==1:\r\n        return (n*n)%1000000007\r\n    if k%2==0:\r\n        ans= n*n + n*k + int(int((k-1)/2) * int((k-1)/2 + 1))\r\n    if k%2!=0:\r\n        ans= n*n + (2*n)*(max(0,int((k-1)/2))) + int(int((k-1)/2) * int((k-1)/2 + 1))\r\n    return ans%1000000007\r\n\r\nt=int(input())\r\nfor qw in range(t):\r\n    n,k=list(map(int, input().split()))\r\n    print(solve(n,k))\r\n", "for t in range(int(input())):\n    n,k=map(int,input().split())\n    mod=10**9+7\n    if n==0:\n        if k==1:\n            print(0)\n        else:\n            print(k*(k-1)%mod)\n    else:\n        if k%2==0:\n            a=n+k//2-1\n            print((a*(a+1)+n)%mod)\n        else:\n            a=n+k//2    \n            print((a*(a+1)-n)%mod)", "import math\r\nfor _ in range(int(input())):\r\n    n, k = list(map(int, input().split()))\r\n    t = math.floor(k/2)\r\n    r = n + t\r\n    s = r*(r+1)\r\n    if k % 2 == 1:\r\n        s -= n\r\n    else:\r\n        s = s - r\r\n        s = s - t\r\n    if n == 0:\r\n        k = k - 1 \r\n        s = int(k*(k+1))\r\n    print(s % 1000000007)\r\n", "# cook your dish here\nimport sys\nmsg = sys.stdin.readlines()\n\nl=[]\n\nfor i in msg:\n    l.append (list (map (int, i.split())))\n    \nsm = lambda x: int(x*(x+1)*1)\n\ndef timew (n, k):\n    if n==0:\n        time = sm(k-1)\n    else:\n        if k == 1:\n            time = (n-1)*(n) + n\n        else:\n            if k%2==1:\n                pre_rounds = (k-1)//2\n                time = sm(n+pre_rounds-1) + n + 2*(pre_rounds)\n            else:\n                pre_rounds = (k)//2\n                time = sm(n+pre_rounds-1) + n\n    return time%1000000007\n    \nfor i in l[1:]:\n    [n, k] = i\n    print(timew (n, k))", "#This code sucks, you know it and I know it.  \n#Move on and call me an idiot later.\n\nt = int(input())\nwhile t:\n\tn, k = map(int, input().split())\n\tx = k // 2\n\t\n\tif(n == 0):\n\t\tprint(k * (k-1) % 1000000007)\n\telse:\n\t\tif(k%2 == 0):\n\t\t\tprint(((n + x)*(n + x) - x) % 1000000007)\n\t\telse:\n\t\t\tprint(((n + x)*(n + x) + x) % 1000000007)\n\tt -= 1"]