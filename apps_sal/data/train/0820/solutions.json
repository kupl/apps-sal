["# cook your dish here\nfor _ in range(int(input())):\n    n,m = list(map(int,input().split()))\n    colors = [0]*41; cost = [0]*41\n    color = 0\n    for i in range(n):\n        cc,pp = list(map(int,input().split()))\n        colors[cc] += 1\n        cost[cc] += pp\n    for i in colors:\n        if i>0: color += 1\n    dp2 = [[0]*41 for i in range(color+1)]\n    dp2[0] = [1]*41\n    for i in range(1,color+1):\n        for j in range(1,41):\n            dp2[i][j] = dp2[i][j-1]+dp2[i-1][j-1]*(2**colors[j]-1)\n    dp1 = [[0]*41 for i in range(color+1)]\n    for i in range(1,color+1):\n        for j in range(1,41):\n            dp1[i][j] = dp1[i][j-1]+dp1[i-1][j-1]*(2**colors[j]-1)+dp2[i-1][j-1]*cost[j]*(2**(colors[j]-1))\n    num=den=0\n    for i in range(m,color+1):\n        num += dp1[i][40]\n        den += dp2[i][40]\n    print(num/den)"]