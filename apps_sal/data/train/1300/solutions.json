["from sys import stdin,stdout\r\nfrom math import gcd\r\nfor _ in range(int(stdin.readline())):\r\n    # n=int(stdin.readline()) k-pieces\r\n    n,k=list(map(int,stdin.readline().split()))\r\n    a=list(map(int,stdin.readline().split()))\r\n    gr=[[0 for _ in range(n)]for _ in range(n)];ans=0;k-=1\r\n    for sz in range(n):\r\n        for i in range(n-sz):\r\n            j=i+sz\r\n            if sz==0:gr[i][j]=a[i]\r\n            else:\r\n                gr[i][j]=gcd(gr[i+1][j],gr[i][j-1])\r\n    # print(*gr,sep='\\n')\r\n    dp=[[0 for _ in range(n)]for _ in range(k+1)]\r\n    for i in range(n):\r\n        dp[0][i]=gr[0][i]\r\n    for i in range(1,k+1):\r\n        for j in range(i,n):\r\n            for par in range(j-1,-1,-1):\r\n                dp[i][j]=max(dp[i][j],gr[par+1][j]+dp[i-1][par])\r\n    # print(*dp,sep='\\n')\r\n    print(dp[k][n-1])\r\n\r\n"]