["t=int(input())\nfor q in range(t):\n n=int(input())\n x=list(map(int,input().split()))\n dic={}\n dic2={}\n for i in range(n):\n  dic2[x[i]]=1\n #print dic2\n if len(dic2)==n:\n  n+=2\n  print((n*(n-1)*(n-2)*(n-3))/24)\n  continue \n counter=0\n for i in range(n-1):\n  if x[i] in dic:\n   dic[x[i]]+=1\n  else:\n   dic[x[i]]=1\n  for j in range(i,n-1):\n   if x[j] in dic:\n    dic[x[j]]+=1\n   else:\n    dic[x[j]]=1\n   for p in range(j+1,n):\n    if x[p] in dic:\n     continue;\n    for q in range(p,n):\n     if x[q] in dic:\n      break\n     counter+=1\n     #print i,j,p,q\n     \n  dic.clear()\n print(counter)", "def func():\n count=0\n for i in range(N-1):\n  for group_size in range(1,N-i):\n   I=set(A[i:i+group_size])\n   #print I\n   m=0\n   for j in range(i+group_size,N):\n    if(A[j] not in I):\n     m+=1\n    else:\n     count+=(m*(m+1)/2)\n     m=0\n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n func()\n", "def repeats(A,x):\n for i in range(N):\n  if(x==A[i]):\n   return i\n return -1\n\ndef assign_indices(A,newA):\n for i in range(N):\n  x=repeats(A,A[i])\n  if(x==-1):\n   newA[i]=i\n  else:\n   newA[i]=x\n\nT=int(input())\n\nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n\n indices=[0 for x in range(1005)]\n\n for i in range(N):\n  A[i]=int(A[i])\n\n assign_indices(A,indices)\n total=0\n taken=[]\n\n for i in range(N-1):\n  taken=[0 for x in range(1005)]\n  for j in range(i,N):\n   before=0\n   taken[indices[j]]+=1\n   for k in range(j+1,N):\n    if(taken[indices[k]]==0):\n     total=total+(k-j)-before\n    else:\n     before=k-j\n\n print(total)\n", "def repeats(A,x):\n for i in range(N):\n  if(x==A[i]):\n   return i\n return -1\n\ndef assign_indices(A,newA):\n for i in range(N):\n  x=repeats(A,A[i])\n  if(x==-1):\n   newA.append(i)\n  else:\n   newA.append(x)\n\nT=int(input())\n\nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n\n indices=[]\n\n for i in range(N):\n  A[i]=int(A[i])\n\n assign_indices(A,indices)\n total=0\n\n for i in range(N-1):\n  taken=[0 for x in range(1005)]\n  for j in range(i,N):\n   before=0\n   taken[indices[j]]+=1\n   for k in range(j+1,N):\n    if(taken[indices[k]]==0):\n     total=total+(k-j)-before\n    else:\n     before=k-j\n\n print(total)\n", "def repeats(A,x):\n for i in range(N):\n  if(x==A[i]):\n   return i\n return -1\n\ndef assign_indices(A,newA):\n for i in range(N):\n  x=repeats(A,A[i])\n  if(x==-1):\n   newA.append(i)\n  else:\n   newA.append(x)\n\nT=int(input())\n\nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n\n indices=[]\n\n for i in range(N):\n  A[i]=int(A[i])\n\n assign_indices(A,indices)\n total=0\n\n for i in range(N-1):\n  taken=[0 for x in range(1005)]\n  for j in range(i,N):\n   before=0\n   taken[indices[j]]+=1\n   for k in range(j+1,N):\n    if(taken[indices[k]]==0):\n     total=total+(k-j)-before\n    else:\n     before=k-j\n\n print(total)\n", "t=int(input())\nfor q in range(t):\n n=int(input())\n x=list(map(int,input().split()))\n dic={}\n counter=0\n for i in range(n-1):\n  if x[i] in dic:\n   dic[x[i]]+=1\n  else:\n   dic[x[i]]=1\n  for j in range(i,n-1):\n   if x[j] in dic:\n    dic[x[j]]+=1\n   else:\n    dic[x[j]]=1\n   for p in range(j+1,n):\n    if x[p] in dic:\n     continue;\n    for q in range(p,n):\n     if x[q] in dic:\n      break\n     counter+=1\n     #print i,j,p,q\n     \n  dic.clear()\n print(counter)", "def func():\n count=0\n N=len(A)\n for i in range(N-1):\n  for group_size in range(1,N-i):\n   m=0\n   new_element=A[i+group_size-1]\n   for j in range(i+group_size,N):\n    if(group_size==1):\n     if(A[j]!=A[i]):\n      m+=1\n      marker[j]=0\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0\n    else:\n     if(marker[j]==0 and A[j]!=new_element):\n      m+=1\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0 \n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n\nmarker=[0 for h in range(1005)]\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n func()\n", "for t in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n d = {}\n for i in range(n):\n  d[a[i]] = []\n for i in range(n):\n  d[a[i]].append(i) \n ans = 0\n for i in range(n):\n  temp = []\n  pos = []\n  for j in range(i,n):\n   f = []\n   if (a[j] not in temp):\n    curr = 0\n    temp.append(a[j])\n    pos+=d[a[j]]\n    pos.sort()\n    if (pos[-1] != (n-1)):\n     f = pos + [n]\n    else:\n     f = pos\n   for p in range(1,len(f)):\n    if (f[p] > j):\n     curr += (f[p] - f[p-1] - 1) * (f[p] - f[p-1]) / 2\n   ans += curr\n print(ans)\n", "for t in range(int(input())):\n n = int(input())\n a = list(map(int, input().split()))\n d = {}\n for i in range(n):\n  d[a[i]] = []\n for i in range(n):\n  d[a[i]].append(i) \n ans = 0\n for i in range(n):\n  temp = []\n  pos = []\n  visited = {}\n  for j in range(i,n):\n   if (visited.get(a[j], True)):\n    visited[a[j]] = False\n    temp.append(a[j])\n    pos += d[a[j]]\n    pos.sort()\n    if (pos[-1] != (n-1)):\n     f = pos + [n]\n    else:\n     f = pos\n   curr = 0\n   for p in range(1,len(f)):\n    if (f[p] > j):\n     curr += (f[p] - f[p-1] - 1) * (f[p] - f[p-1]) / 2\n   ans += curr\n print(ans)\n", "t = int(input())\n#nsum = [ z*(z+1)/2 for z in xrange(1001)]\nfor i in range (t):\n n = int(input())\n a = input().split()\n a = [ int(x) for x in a]\n if n==1:\n  print('0')\n  continue\n pos = {}\n for j in range(n):\n  if pos.get(a[j],[])==[]:\n   for k in range(j+1,n):\n    if a[j] == a[k] :\n     pos[a[j]] = pos.get(a[j],[]) + [k]\n total = 0\n for j in range(n-1):\n  ar = []\n  for k in range(j,-1,-1):\n   for x in pos.get(a[k],[]):\n    if x>j:\n     ar += [x]\n   ar.sort()\n   if len(ar) > 0:\n    total += (ar[0] - j-1)*(ar[0]-j)/2 + (n - ar[-1]-1)*(n-ar[-1])/2\n    #print ar\n    #print (ar[0] - j-1)*(ar[0]-j)/2 + (n - ar[-1]-1)*(n-ar[-1])/2\n   else:\n    total += (n-j-1)*(n-j)/2\n    #print ar\n    #print (n-j-1)*(n-j)/2\n   for x in range(len(ar[0:-1])):\n    total = total + (ar[x+1]-ar[x]-1)*(ar[x+1]-ar[x])/2\n    #print (ar[x+1]-ar[x]-1)*(ar[x+1]-ar[x])/2\n print(total)", "for _ in range(eval(input())):\n n = eval(input())\n l = list(map(int, input().split()))\n c = 0\n s=[]\n for i in range(n):\n  for j in range(i, n):\n   s+=[set(l[i:j+1])]\n for i in range(len(s)):\n  for j in range(i+1, len(s)):\n   c+=len(s[i]&s[j])==0\n print(c)", "for _ in range(eval(input())):\n n = eval(input())\n l = list(map(int, input().split()))\n c = 0\n for i in range(n):\n  for j in range(i, n):\n   for k in range(i):\n    for m in range(k, i):\n     c+=len(set(l[i:j+1])&set(l[k:m+1]))==0\n print(c)", "for _ in range(eval(input())):\n n = eval(input())\n l = list(map(int, input().split()))\n c = 0\n for i in range(n):\n  for j in range(n):\n   for k in range(n):\n    for m in range(n):\n     a = set(l[i:j+1])\n     b = set(l[k:m+1])\n     if len(a) and len(b) and len(a&b)==0:\n      c+=1\n print(c/2)", "t = eval(input())\nwhile t>0:\n n = eval(input())\n ar = list(map(int,input().split()))\n c = 0\n for i in range(0,n):\n  for j in range(i,n):\n   for k in range(j+1,n):\n    for l in range(k,n):\n     res = []\n     res = list(set(ar[i:j+1]).intersection(set(ar[k:l+1])))\n     #print ar[i:j+1], ar[k:l+1]\n     if len(res)==0:\n      c+=1\n print(c)\n t-=1 ", "def func():\n count=0\n N=len(A)\n marker=[0 for h in range(N)]\n for i in range(N-1):\n  for group_size in range(1,N-i):\n   #I=set(A[i:i+group_size])\n   m=0\n   new_element=A[i+group_size-1]\n   for j in range(i+group_size,N):\n    if(group_size==1):\n     if(A[j]!=A[i]):\n      m+=1\n      marker[j]=0\n      #print \"hello\",A[j],m\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      #print \"oops\",count,m\n      m=0\n    else:\n     if(marker[j]==0 and A[j]!=new_element):\n      m+=1\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0 \n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n #for i in range(N):\n  #   A[i]=int(A[i])\n \n func()\n", "def func():\n count=0\n N=len(A)\n marker=[0 for h in range(N)]\n for i in range(N-1):\n  for group_size in range(1,N-i):\n   #I=set(A[i:i+group_size])\n   m=0\n   new_element=A[i+group_size-1]\n   for j in range(i+group_size,N):\n    if(group_size==1):\n     if(A[j]!=A[i]):\n      m+=1\n      marker[j]=0\n      #print \"hello\",A[j],m\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      #print \"oops\",count,m\n      m=0\n    else:\n     if(marker[j]==0 and A[j]!=new_element):\n      m+=1\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0 \n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n for i in range(N):\n  A[i]=int(A[i])\n \n func()\n", "def func():\n count=0\n N=len(A)\n marker=[0 for h in range(N)]\n for i in range(N-1):\n  for group_size in range(1,N-i):\n   I=set(A[i:i+group_size])\n   m=0\n   new_element=A[i+group_size-1]\n   for j in range(i+group_size,N):\n    if(group_size==1):\n     if(A[j] not in I):\n      m+=1\n      marker[j]=0\n      #print \"hello\",A[j],m\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      #print \"oops\",count,m\n      m=0\n    else:\n     if(marker[j]==0 and A[j]!=new_element):\n      m+=1\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0 \n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n for i in range(N):\n  A[i]=int(A[i])\n \n func()\n", "def func():\n count=0\n N=len(A)\n for i in range(N-1):\n  marker=[0 for h in range(N)]\n  for group_size in range(1,N-i):\n   I=set(A[i:i+group_size])\n   m=0\n   new_element=A[i+group_size-1]\n   for j in range(i+group_size,N):\n    if(group_size==1):\n     if(A[j] not in I):\n      m+=1\n      #print \"hello\",A[j],m\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      #print \"oops\",count,m\n      m=0\n    else:\n     if(marker[j]==0 and A[j]!=new_element):\n      m+=1\n     else:\n      marker[j]=1\n      count+=(m*(m+1)/2)\n      m=0 \n   count+=(m*(m+1)/2)\n print(count)\n \n \nT=int(input())\n \nfor t in range(T):\n N=int(input())\n A=input().split(\" \")\n \n for i in range(N):\n  A[i]=int(A[i])\n \n func()\n", "z = []\nfor i in range(1001):\n z.append(i * (i-1) / 2)\nfor t in range(int(input())):\n n = int(input())\n a = list(map(int, input().split())) \n d = {}\n for i in range(n):\n  d[a[i]] = []\n for i in range(n):\n  d[a[i]].append(i) \n ans = 0\n for i in range(n):\n  temp = []\n  pos = []\n  for j in range(i,n):\n   if (a[j] not in temp):\n    temp.append(a[j])\n    l1 = pos\n    l2 = d[a[j]]\n    pos = []\n    i1 = 0\n    i2 = 0\n    len1 = len(l1)\n    len2 = len(l2)\n    while (i1<len1 and i2<len2):\n     if (l1[i1] < l2[i2]):\n      pos.append(l1[i1])\n      i1 += 1\n     else:\n      pos.append(l2[i2])\n      i2 += 1\n    while (i1<len1):\n     pos.append(l1[i1])\n     i1 += 1\n    while (i2<len2):\n     pos.append(l2[i2])\n     i2 += 1\n     \n    if (pos[-1] != (n-1)):\n     f = pos + [n]\n    else:\n     f = pos\n   curr = 0\n   for p in range(1,len(f)):\n    if (f[p] > j):\n     xxx = (f[p] - f[p-1])\n     curr += z[xxx]\n   ans += curr\n print(ans)\n", "z = []\nfor i in range(301):\n z.append(i * (i-1) / 2)\nfor t in range(int(input())):\n n = int(input())\n a = list(map(int, input().split())) \n d = {}\n for i in range(n):\n  d[a[i]] = []\n for i in range(n):\n  d[a[i]].append(i) \n ans = 0\n for i in range(n):\n  temp = []\n  pos = []\n  for j in range(i,n):\n   if (a[j] not in temp):\n    temp.append(a[j])\n    pos += d[a[j]]\n    pos.sort()\n    if (pos[-1] != (n-1)):\n     f = pos + [n]\n    else:\n     f = pos\n   curr = 0\n   for p in range(1,len(f)):\n    if (f[p] > j):\n     xxx = (f[p] - f[p-1])\n     curr += z[xxx]\n   ans += curr\n print(ans)\n", "z = []\nfor i in range(1001):\n z.append(i * (i-1) / 2)\nfor t in range(int(input())):\n n = int(input())\n a = list(map(int, input().split())) \n d = {}\n for i in range(n):\n  d[a[i]] = []\n for i in range(n):\n  d[a[i]].append(i) \n ans = 0\n for i in range(n):\n  temp = []\n  pos = []\n  for j in range(i,n):\n   if (a[j] not in temp):\n    temp.append(a[j])\n    pos += d[a[j]]\n    pos.sort()\n    if (pos[-1] != (n-1)):\n     f = pos + [n]\n    else:\n     f = pos\n   curr = 0\n   for p in range(1,len(f)):\n    if (f[p] > j):\n     xxx = (f[p] - f[p-1])\n     curr += z[xxx]\n   ans += curr\n print(ans)\n"]