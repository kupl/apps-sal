["VQ = \"UAMmSs\"\nn = int(input())\na = list(map(int, input().split()))\nfor _ in range(int(input())):\n q, x, y = input().split()\n if q not in VQ:\n  print(\"!!!\")\n  continue\n if q == \"U\":\n  a[int(x) - 1] = int(y)\n  continue\n l = int(x) - 1\n r = int(y)\n if q == \"A\":\n  print(sum(a[l:r]))\n  continue\n if q == \"M\":\n  print(max(a[l:r]))\n  continue\n if q == \"m\":\n  print(min(a[l:r]))\n  continue\n s = sorted(set(a[l:r]))\n if len(s) < 2:\n  print(\"NA\")\n else:\n  print(s[1] if q == \"s\" else s[-2])\n", "n = eval(input())\narr = list(map(int,input().split()))\nq = eval(input())\nwhile q:\n q -= 1\n ar = input().split()\n t = ar[0]\n l = int(ar[1])\n r = int(ar[2])\n l -= 1\n if t == 'U':\n  arr[l] = r\n elif t == 'A':\n  print(sum(arr[l:r]))\n elif t == 'M':\n  print(max(arr[l:r]))\n elif t == 'm':\n  print(min(arr[l:r]))\n elif t == 'S':\n  m = max(arr[l:r])\n  m2 = -1\n  for i in range(l, r):\n   if arr[i] < m and arr[i] > m2:\n    m2 = arr[i]\n  print(m2)\n elif t == 's':\n  m = min(arr[l:r])\n  m2 = 1000000000000\n  for i in range(l, r):\n   if arr[i] > m and arr[i] < m2:\n    m2 = arr[i]\n  print(m2)", "n = eval(input())\narr = list(map(int,input().split()))\nq = eval(input())\nwhile q:\n q -= 1\n ar = input().split()\n t = ar[0]\n l = int(ar[1])\n r = int(ar[2])\n l -= 1\n if t == 'U':\n  arr[l] = r\n elif t == 'A':\n  print(sum(arr[l:r]))\n elif t == 'M':\n  print(max(arr[l:r]))\n elif t == 'm':\n  print(min(arr[l:r]))\n elif t == 'S':\n  m = max(arr[l:r])\n  m2 = -1\n  for i in range(l, r):\n   if arr[i] < m and arr[i] > m2:\n    m2 = arr[i]\n  print(m2)\n elif t == 's':\n  m = min(arr[l:r])\n  m2 = 1000000000000\n  for i in range(l, r):\n   if arr[i] > m and arr[i] < m2:\n    m2 = arr[i]\n  print(m2)\n \n", "#rjohari23\n\nn = eval(input())\na = list(map(int,input().split()))\nq = eval(input())\nwhile q:\n \n s = input().split()\n #print s\n if s[0]=='U':\n  l = int(s[1])\n  v = int(s[2])\n  a[l-1] = v\n if s[0]=='A':\n  l = int(s[1])\n  r = int(s[2])\n  print(sum(a[l-1:r]))\n if s[0]=='M':\n  l = int(s[1])\n  r = int(s[2])\n  print(max(a[l-1:r]))\n if s[0]=='m':\n  l = int(s[1])\n  r = int(s[2])\n  print(min(a[l-1:r]))\n if s[0]=='S':\n  l = int(s[1])\n  r = int(s[2])\n  A = sorted(a[l-1:r],reverse=True)\n  print(A[1])\n if s[0]=='s':\n  l = int(s[1])\n  r = int(s[2])\n  A = sorted(a[l-1:r])\n  print(A[1])\n \n q -= 1", "n= int(input())\na= [int(x) for x in input().split()]\nq= int(input())\nfor i in range(0,q):\n t= input().split()\n L=int(t[1])-1\n R=int(t[2])-1\n if L<0 or L>=len(a):\n  print('!!!')\n elif t[0]=='U':\n  a[L]=R\n elif R<0 or R>=len(a) or L>R:   \n  print('!!!')\n elif t[0]=='A':\n  print(sum(a[L:R+1]))\n elif t[0]=='M':\n  x=list(set(a[L:R+1]))\n  print(max(x))\n elif t[0]=='m':\n  x=list(set(a[L:R+1]))\n  x.remove(max(x))\n  try:\n   print(max(x))\n  except:\n   print('NA') \n elif t[0]=='S': \n  x=list(set(a[L:R+1]))\n  print(min(x))\n elif t[0]=='s':\n  x=list(set(a[L:R+1]))\n  x.remove(min(x))\n  try:\n   print(min(x))\n  except:\n   print('NA')\n else:\n  print('!!!') ", "\ndef func(t,l,r):\n if t=='U':\n  try:\n   a[l-1]=r\n  except:\n   print('NA')\n elif t=='A':\n  try:\n   print(sum(a[l-1:r]))\n  except:\n   print('NA')\n elif t=='M':\n  try:\n   print(max(a[l-1:r]))\n  except:\n   print('NA')\n elif t=='m':\n  try:\n   print(min(a[l-1:r]))\n  except:\n   print('NA')\n elif t=='S':\n  try:\n   bb = list(set(a[l-1:r]))\n   bb.sort()\n   print(bb[-2])\n  except:\n   print('NA')\n elif t=='s':\n  try:\n   bb = list(set(a[l-1:r]))\n   bb.sort()\n   print(bb[1])\n  except:\n   print('NA')\n else:\n  print('!!!')\n \n \nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n \nfor i in range(q):\n t,l,r = input().split()\n try:\n  func(t,int(l),int(r))\n except:\n  print('!!!')", "\ndef func(t,l,r):\n if t=='U':\n  try:\n   a[l-1]=r\n  except:\n   print('NA')\n elif t=='A':\n  try:\n   print(sum(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='M':\n  try:\n   print(max(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='m':\n  try:\n   print(min(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='S':\n  try:\n   bb = list(set(a[min(l-1,r):max(l-1,r)]))\n   bb.sort()\n   print(bb[-2])\n  except:\n   print('NA')\n elif t=='s':\n  try:\n   bb = list(set(a[min(l-1,r):max(l-1,r)]))\n   bb.sort()\n   print(bb[1])\n  except:\n   print('NA')\n else:\n  print('!!!')\n \n \nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n \nfor i in range(q):\n t,l,r = input().split()\n try:\n  func(t,int(l),int(r))\n except:\n  print('!!!')", "\ndef func(t,l,r):\n if t=='U':\n  try:\n   a[l-1]=r\n  except:\n   print('NA')\n elif t=='A':\n  try:\n   print(sum(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='M':\n  try:\n   print(max(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='m':\n  try:\n   print(min(a[min(l-1,r):max(l-1,r)]))\n  except:\n   print('NA')\n elif t=='S':\n  try:\n   bb = list(set(a[min(l-1,r):max(l-1,r)]))\n   bb.sort()\n   print(bb[-2])\n  except:\n   print('NA')\n elif t=='s':\n  try:\n   bb = list(set(a[min(l-1,r):max(l-1,r)]))\n   bb.sort()\n   print(bb[1])\n  except:\n   print('NA')\n   return ''\n else:\n  print('!!!')\n  return ''\n \n \n \n \nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n \nfor i in range(q):\n t,l,r = input().split()\n func(t,int(l),int(r))", "\ndef func(t,l,r):\n if t=='U':\n  try:\n   a[l-1]=r\n  except:\n   print('NA')\n   return ''\n \n elif t=='A':\n  try:\n   print(sum(a[l-1:r]))\n  except:\n   print('NA')\n   return ''\n  \n elif t=='M':\n  try:\n   print(max(a[l-1:r]))\n  except:\n   print('NA')\n   return '' \n  \n elif t=='m':\n  try:\n   print(min(a[l-1:r]))\n  except:\n   print('NA')\n   return '' \n  \n elif t=='S':\n  try:\n   bb = list(set(a[l-1:r]))\n   bb.sort()\n   print(bb[-2])\n  except:\n   print('NA')\n   return '' \n  \n elif t=='s':\n  try:\n   bb = list(set(a[l-1:r]))\n   bb.sort()\n   print(bb[1])\n  except:\n   print('NA')\n   return ''\n else:\n  print('!!!')\n \n \n \n \nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n \nfor i in range(q):\n t,l,r = input().split()\n func(t,int(l),int(r))", "def na(l,r):\n if l-1>=r or l>n or r>n:\n  return True\n else:\n  return False\n\ndef na_print():\n print('NA')\n\n\n\ndef func(t,l,r):\n if t=='U':\n  try:\n   a[l-1]=r\n   return ''\n  except:\n   print('NA')\n   return ''\n elif na(l,r):\n  na_print()\n  return ''\n \n if t=='A':\n  print(sum(a[l-1:r]))\n  \n elif t=='M':\n  print(max(a[l-1:r]))\n  \n elif t=='m':\n  print(min(a[l-1:r]))\n  \n elif t=='S':\n  bb = list(set(a[l-1:r]))\n  bb.sort()\n  print(bb[-2])\n  \n elif t=='s':\n  bb = list(set(a[l-1:r]))\n  bb.sort()\n  print(bb[1])\n  \n else:\n  print('!!!')\n\n\n\n\nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n\nfor i in range(q):\n t,l,r = input().split()\n func(t,int(l),int(r))\n", "def na(l,r):\n if l-1>=r or l>n or r>n:\n  return True\n else:\n  return False\n\ndef na_print():\n print('NA')\n\n\n\ndef func(t,l,r):\n if t=='U':\n  a[l-1]=r\n  return ''\n elif na(l,r):\n  na_print()\n  return ''\n \n if t=='A':\n  print(sum(a[l-1:r]))\n  \n elif t=='M':\n  print(max(a[l-1:r]))\n  \n elif t=='m':\n  print(min(a[l-1:r]))\n  \n elif t=='S':\n  bb = list(set(a[l-1:r]))\n  bb.sort()\n  print(bb[-2])\n  \n elif t=='s':\n  bb = list(set(a[l-1:r]))\n  bb.sort()\n  print(bb[1])\n  \n else:\n  print('!!!')\n\n\n\n\nn = eval(input())\na = list(map(int, input().split()))\nq = eval(input())\n\nfor i in range(q):\n t,l,r = input().split()\n func(t,int(l),int(r))\n"]