c = [1, 2, 3, 6, 7, 9, 18, 25, 27, 54, 73, 97, 129, 171, 231, 313, 327, 649, 703, 871, 1161, 2223, 2463, 2919, 3711, 6171, 10971, 13255, 17647, 23529, 26623, 34239, 35655, 52527, 77031, 106239, 142587, 156159, 216367, 230631, 410011, 511935, 626331, 837799]


def max_collatz_length(n):
    if type(n) != int or n < 1:
        return []
    ans = max(i for i in c if i <= n)
    steps = 1
    x = ans
    while x > 1:
        steps += 1
        x = 3 * x + 1 if x % 2 else x // 2
    return [ans, steps]
