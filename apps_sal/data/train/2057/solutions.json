["\nimport sys\n#sys.stdin=open(\"data.txt\")\ninput=sys.stdin.readline\n\n# so the ending sequence is b...ba...a\n\n# find length of ending sequence\n\nextra=0\nneed=0\nfor ch in input().strip():\n    if ch=='a':\n        need=(need*2+1)%1000000007\n    else:\n        extra=(extra+need)%1000000007\n\nprint(extra)", "MOD = 1000000007\n\ndef main():\n    s = input()\n    n = len(s)\n\n    # each b contributes 1 flip to the first a before it, 2 flips to the second a before it, etc\n    # in general, if there are k 'a's before a b, then add 2^(k + 1) - 1 flips\n    ans = 0\n    a_ct = 0\n    p = 1\n    for c in s:\n        if c == 'a':\n            a_ct += 1\n            p *= 2\n            p %= MOD\n        else:\n            ans += p\n            ans %= MOD\n\n    ans -= (n - a_ct)\n    if ans < 0:\n        ans += MOD\n    ans %= MOD\n    print(ans)\n\n\nmain()\n", "str = input()\n\nbset = []\n\nbno = 0\n\nfor c in str:\n\tif c == 'b':\n\t\tbno += 1\n\telse:\n\t\tbset += [bno]\n\t\tbno = 0\nbset += [bno]\n\nans = 0\nacc = 0\n\nfor n in reversed(bset[1:]):\n\tans += acc + n\n\tacc *= 2\n\tacc += 2*n\n\tacc %= 1000000007\n\tans %= 1000000007\n\nprint(ans)\n\n", "s = input( )\nmod = 1000000007\nstep = 0\np = 1\n\nfor x in s:\n    if x == 'a':\n        p = (p * 2) % mod;\n    else:\n        step = (step + p - 1) % mod;\n\nprint(step)", "a = input()\nres = 0\ncur = 0\nfor i in reversed(a):\n    if (i == 'b'):\n        cur+=1\n    else:\n        res+=cur\n        res%=1000000007\n        cur= cur*2%1000000007\nprint(res)", "S = input()\n\nnum = 1\nr = 0\nfor s in S:\n    if s == 'a':\n        num = (num * 2) % 1000000007\n    else:\n        r = (r + num -1) % 1000000007\n\nprint(r)", "S = input()[::-1]\n\nnum = 0\nr = 0\nfor s in S:\n    if s == 'a':\n        r = (r + num) % 1000000007\n        num = (num * 2) % 1000000007\n    else:\n        num = num + 1\nprint(r)", "S = input()[::-1]\nS1 = []\n\nnum = 0\nfor s in S:\n    if s == 'b':\n        num += 1\n    else:\n        S1.append(num)\n\nS1 = S1[::-1]\nr = 0\nnum = 1\nfor s in S1:\n    r = (r + s * num) % 1000000007\n    num = (num * 2) % 1000000007\n\nprint(r)\n", "import sys\n\ns = sys.stdin.read()\n\nn = 1000000007\n\naCount = 0\nbCount = 0\n\ncount = 0\n\nincrement = 0\n\nfor c in s:\n    if c == 'a':\n        increment = (2 * increment + 1) % n\n\n    if c == 'b':\n        count = (count + increment) % n\n\nprint(count)\n", "s = input()\ncnt = 0\nm=10**9 + 7\nt = 0\n\nfor i in range(len(s)):\n\tif s[~i] == 'a':\n\t\tcnt = (cnt+t)%m\n\t\tt = (t*2)%m\n\telse:\n\t\tt += 1\nprint(cnt)\n\n\"\"\"s = raw_input()\nm = 0\nn = 0\ntwop = 1\nans = 0\nmold = [0,0]\nisbool1 = True\nisbool2 = False\n\ndef twopower(x):\n    d = {0:1}\n    if x in d:\n        return d[x]\n    else:\n        if x%2 == 0:\n            d[x] = twopower(x/2)**2\n            return d[x]\n        else:\n            d[x] = twopower(x-1)*2\n            return d[x]\n\nfor char in s:\n    if char == \"a\":\n        m += 1\n    else:\n        ans += twopower(m)-1\n        ans = ans%(10**9+7)\n\nprint ans%(10**9+7)\"\"\"\n        \n\"\"\"\nfor char in s:\n    if char == \"a\":\n        m += 1\n        if isbool == True:\n            twop *= twopower(m-mold[1])\n            ans += n*(twop-1)\n            isbool = False\n            n = 0\n    else:\n        mold = [mold[1],m]\n        n += 1\n        isbool = True\n\nif s[-1] == \"a\":\n    print ans\nelse:\n    twop *= twopower(m-mold[0])\n    ans += n*(twop-1)\n    print ans\n\"\"\"\n", "s=input()\nl=list()\ncur=0\nfor i in range(len(s)):\n    if s[i]=='a':\n        cur+=1\n    else:\n        l.append(cur)\n\nmo=10**9+7\n\ncur=0\nexp=1\nres=0\nfor i in range(len(l)):\n    while l[i]>cur:\n        cur+=1\n        exp=exp*2%mo\n    res=(res+exp-1)%mo\n    \n    \n    \nprint(res)", "s=input()\nl=list()\ncur=0\nfor i in range(len(s)):\n    if s[i]=='a':\n        cur+=1\n    else:\n        l.append(cur)\nmo=10**9+7\ncur=0\nexp=1\nres=0\nfor i in range(len(l)):\n    while l[i]>cur:\n        cur+=1\n        exp=exp*2%mo\n    res=(res+exp-1)%mo\nprint(res)", "s=input()\nl=list()\ncur=0\nfor i in range(len(s)):\n    if s[i]=='a':\n        cur+=1\n    else:\n        l.append(cur)\nmo=10**9+7\ncur=0\nexp=1\nres=0\nfor i in range(len(l)):\n    while l[i]>cur:\n        cur+=1\n        exp=exp*2%mo\n    res=(res+exp-1)%mo\nprint(res)", "N = 10**9+7\ns = input().strip()\nn = 0\nret = 0\nc2n = 2**n-1\nfor c in s:\n  if c == 'a':\n    n += 1\n    c2n = (2*c2n+1)%N\n  else:\n    ret += c2n\n    ret %= N\nprint(ret)\n", "b_cnt, res = 0, 0\nmod = 10 ** 9 + 7\nfor c in input()[::-1]:\n\tif c == 'b':\n\t\tb_cnt += 1\n\telse:\n\t\tres += b_cnt\n\t\tb_cnt *= 2\n\t\tres %= mod\n\t\tb_cnt %= mod\nprint(res)", "s = input()[::-1]\na, b = 0, 0\nmod = 10 ** 9 + 7\nfor i in s:\n    if i == 'b':\n        b += 1\n    else:\n        a += b\n        a %= mod\n        b <<= 1\n        b %= mod\nprint(a)\n", "M, a, b=10**9+7, 0, 0\nfor c in reversed(input()):\n\tif c=='b':\n\t\tb+=1\n\telse:\n\t\ta+=b\n\t\tb=(b<<1)%M\nprint(a%M)\n", "s = input()\ncnt = 0\nm=10**9 + 7\nt = 0\n\nfor i in range(len(s)):\n\tif s[~i] == 'a':\n\t\tcnt = (cnt+t)%m\n\t\tt = (t*2)%m\n\telse:\n\t\tt += 1\nprint(cnt)", "s = list(input())\n\np=[1]\nfor i in range(1000000):\n\tp.append((p[i]*2)%1000000007)\n\nctr=0\nans=0\nl = len(s)\nfor i in range(l):\n\tif s[i]=='a':\n\t\tctr+=1\n\t\tcontinue\n\tans=(p[ctr]-1+ans)%1000000007\n\nprint(ans)", "s=input()\nmod = 10 ** 9+7\nb=0\nres=0\nfor c in s[::-1]:\n    if c=='b':\n        b+=1\n    else:\n        res+=b\n        b*=2\n        res%=mod\n        b%=mod\nprint(res)", "# Description of the problem can be found at http://codeforces.com/problemset/problem/804/B\n\nMOD = 1e9 + 7\ns = input()\n\nans = 0\nb = 0\nfor c in s[::-1]:\n    if c == 'a':\n        ans = (ans + b) % MOD\n        b = (2 * b) % MOD\n    else:\n        b = (b + 1) % MOD\n\nprint(int(ans))", "3\n\ndef main():\n    s = input()\n\n    tpw = [1 for i in range(len(s) + 1)]\n    for i in range(1, len(s) + 1):\n        tpw[i] = (2 * tpw[i - 1]) % (10 ** 9 + 7)\n    \n    na = 0\n    ans = 0\n    for c in s:\n        if c == 'a':\n            na += 1\n        else:\n            ans = (ans + tpw[na] - 1) % (10 ** 9 + 7)\n    print(ans)\n\nmain()\n"]