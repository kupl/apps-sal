import numpy as np


def five_by_2n(n):
    x = np.array([[1, 1, 1, 1, 1, 1, 1, 1], [1, 2, 1, 1, 1, 2, 2, 1], [1, 1, 2, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1, 2, 2], [1, 2, 1, 1, 2, 1, 6, 1], [1, 2, 1, 1, 2, 1, 6, 1], [1, 2, 1, 1, 2, 1, 6, 1]])
    y = np.array([1, 1, 1, 1, 1, 1, 1, 1])
    z = y
    for i in range(n - 1):
        z = np.mod(x @ z, 12345787 * y)
    return z.T @ y % 12345787
