["# cook your dish here\nt=int(input())\nwhile t>0:\n    n,q=list(map(int,input().split()))\n    blst=[0]\n    for i in range(1,65):\n        blst.append(0)\n    i=1\n    while n>0:\n        if n%2:\n            blst[i]=1\n        n//=2\n        i+=1\n    while q>0:\n        n=int(input())\n        if n==1:\n            p=int(input())\n            if blst[p]:\n                print('ON')\n            else:\n                print('OFF')\n        elif n==2:\n            p=int(input())\n            if blst[p]==0:\n                blst[p]=1\n        elif n==3:\n            p=int(input())\n            if blst[p]==1:\n                blst[p]=0\n        else:\n            p,r=list(map(int,input().split()))\n            if blst[p]!=blst[r]:\n                blst[p]+=1\n                blst[p]%=2\n                blst[r]+=1\n                blst[r]%=2\n        q-=1\n    t-=1\n", "for _ in range(int(input())):\n    N,X=list(map(int,input().split()))\n    string=[]\n    while N//2!=0:\n        string.append(N%2)\n        N=N//2\n    string.append(1)\n    for _ in range(X):\n        p=int(input())\n        if p==1:\n            i=int(input())\n            if i-1<len(string):\n                if (string[i-1]==1):\n                    print(\"ON\")\n                    continue\n                else:\n                    print(\"OFF\")\n                    continue\n            else:\n                print(\"OFF\")\n                continue\n        elif p==2:\n            i =int(input())\n            if i > len(string):\n                x=i-len(string)\n                for _ in range(x):\n                    string.append(0)\n                string[len(string)-1]=1\n                continue\n            else:\n                string[i-1]=1\n                continue\n        elif p==3:\n            i =int(input())\n            if i > len(string):\n                x=i-len(string)\n                for _ in range(x):\n                    string.append(0)\n                continue\n            else:\n                string[i-1]=0\n                continue\n        else:\n            j,k=list(map(int,input().split()))\n            if j>len(string) or k >len(string):\n                x=max(j,k)-len(string)\n                for _ in range(x):\n                    string.append(0)\n                string[j-1],string[k-1]=string[k-1],string[j-1]\n                continue\n            else:\n                string[j-1],string[k-1]=string[k-1],string[j-1]\n                \n        \n                  \n                \n            \n        \n", "# cook your dish here\nt = int(input())\nwhile t:\n    t -= 1\n    b,k = list(map(int, input().split()))\n    x = bin(b)[2:]\n    n = len(x)\n    for j in range(k):\n        qu = int(input())\n        if 1<=qu<=3:\n            i = int(input())\n            if qu==1:\n                if i<=n:\n                    r = n-i+1\n                    if x[r-1]=='0':\n                        print(\"OFF\")\n                    else:\n                        print(\"ON\")\n                else:\n                    print(\"OFF\")\n            elif qu==2:\n                if i<=n:\n                    r = n-i+1\n                    x =x[0:r-1]+'1'+x[r:n]\n                else:\n                    x = '1' + (i-n-1)*'0' + x\n                    n=i\n            elif qu==3:\n                if i<=n:\n                    r = n-i+1\n                    x =x[0:r-1]+'0'+x[r:n]\n                    \n                    \n        else:\n            p,q = list(map(int, input().split()))\n            if p<=n and q<=n:\n                r1 = n-p + 1\n                r2 = n-q+1\n                t1 = x[r1-1]\n                t2 = x[r2-1]\n                if x[r2-1]!=t1:\n                    x = x[0:r2-1] + t1 + x[r2:n]\n                if x[r1-1]!=t2:\n                    x = x[0:r1-1]+t2+x[r1:n]\n                \n            elif p<=n:\n                r1 = n-p+1\n                p1 = x[r1-1]\n                x =x[0:r1-1]+'0'+x[r1:n]\n                if p1=='1':\n                    x = '1'+(q-n-1)*'0' + x\n                    n = q\n            elif q<=n:\n                r2 = n-q+1\n                p2 = x[r2-1]\n                x =x[0:r2-1]+'0'+x[r2:n]\n                if p2=='1':\n                    x = '1'+(p-n-1)*'0' + x\n                    n=p\n        \n", "t = int(input())\r\nwhile t:\r\n    t -= 1\r\n    b,k = list(map(int, input().split()))\r\n    x = bin(b)[2:]\r\n    n = len(x)\r\n    for j in range(k):\r\n        qu = int(input())\r\n        if 1<=qu<=3:\r\n            i = int(input())\r\n            if qu==1:\r\n                if i<=n:\r\n                    r = n-i+1\r\n                    if x[r-1]=='0':\r\n                        print(\"OFF\")\r\n                    else:\r\n                        print(\"ON\")\r\n                else:\r\n                    print(\"OFF\")\r\n            elif qu==2:\r\n                if i<=n:\r\n                    r = n-i+1\r\n                    x =x[0:r-1]+'1'+x[r:n]\r\n                else:\r\n                    x = '1' + (i-n-1)*'0' + x\r\n                    n=i\r\n            elif qu==3:\r\n                if i<=n:\r\n                    r = n-i+1\r\n                    x =x[0:r-1]+'0'+x[r:n]\r\n                    \r\n                    \r\n        else:\r\n            p,q = list(map(int, input().split()))\r\n            if p<=n and q<=n:\r\n                r1 = n-p + 1\r\n                r2 = n-q+1\r\n                t1 = x[r1-1]\r\n                t2 = x[r2-1]\r\n                if x[r2-1]!=t1:\r\n                    x = x[0:r2-1] + t1 + x[r2:n]\r\n                if x[r1-1]!=t2:\r\n                    x = x[0:r1-1]+t2+x[r1:n]\r\n                \r\n            elif p<=n:\r\n                r1 = n-p+1\r\n                p1 = x[r1-1]\r\n                x =x[0:r1-1]+'0'+x[r1:n]\r\n                if p1=='1':\r\n                    x = '1'+(q-n-1)*'0' + x\r\n                    n = q\r\n            elif q<=n:\r\n                r2 = n-q+1\r\n                p2 = x[r2-1]\r\n                x =x[0:r2-1]+'0'+x[r2:n]\r\n                if p2=='1':\r\n                    x = '1'+(p-n-1)*'0' + x\r\n                    n=p\r\n        \r\n", "# cook your dish here\nt = int(input())\nfor _ in range(t):\n    b,k = list(map(int, input().split()))\n    x = bin(b)[2:]\n    n = len(x)\n    for j in range(k):\n        qu = int(input())\n        if 1<=qu<=3:\n            i = int(input())\n            if qu==1:\n                if i<=n:\n                    r = n-i+1\n                    if x[r-1]=='0':\n                        print(\"OFF\")\n                    else:\n                        print(\"ON\")\n                else:\n                    print(\"OFF\")\n            elif qu==2:\n                if i<=n:\n                    r = n-i+1\n                    x =x[0:r-1]+'1'+x[r:n]\n                else:\n                    x = '1' + (i-n-1)*'0' + x\n                    n=i\n            elif qu==3:\n                if i<=n:\n                    r = n-i+1\n                    x =x[0:r-1]+'0'+x[r:n]\n                    \n                    \n        else:\n            p,q = list(map(int, input().split()))\n            if p<=n and q<=n:\n                r1 = n-p + 1\n                r2 = n-q+1\n                t1 = x[r1-1]\n                t2 = x[r2-1]\n                if x[r2-1]!=t1:\n                    x = x[0:r2-1] + t1 + x[r2:n]\n                if x[r1-1]!=t2:\n                    x = x[0:r1-1]+t2+x[r1:n]\n                \n            elif p<=n:\n                r1 = n-p+1\n                p1 = x[r1-1]\n                x =x[0:r1-1]+'0'+x[r1:n]\n                if p1=='1':\n                    x = '1'+(q-n-1)*'0' + x\n                    n = q\n            elif q<=n:\n                r2 = n-q+1\n                p2 = x[r2-1]\n                x =x[0:r2-1]+'0'+x[r2:n]\n                if p2=='1':\n                    x = '1'+(p-n-1)*'0' + x\n                    n=p\n", "n=int(input())\r\nfor i in range(0,n):\r\n    o=input().rstrip().split(' ')\r\n    q=int(o[1])\r\n    x=int(o[0])\r\n    t=list(str(bin(x)))\r\n    del(t[0])\r\n    del(t[0])\r\n    while(len(t)<30):\r\n        t.insert(0,'0');\r\n    # print(t)\r\n    t.reverse();\r\n    for j in range(0,q):\r\n        o=int(input())\r\n        if o==1:\r\n            p=int(input())\r\n            if int(t[p-1])==0:\r\n                print(\"OFF\")\r\n            else:\r\n                print(\"ON\")\r\n        elif o==2:\r\n            p=int(input())\r\n            t[p-1]=1;\r\n        elif o==3:\r\n            p=int(input())\r\n            t[p-1]=0;            \r\n        else:\r\n            E=input().rstrip().split(' ')\r\n            A=int(E[0])\r\n            B=int(E[1])\r\n            temp=t[A-1]\r\n            t[A-1]=t[B-1]\r\n            t[B-1]=temp;", "def make_31(string):\r\n    if len(string) < 31:\r\n        string = (31- len(string)) * '0' + string\r\n\r\n    return string\r\n\r\nfor _ in range(int(input())):\r\n    x, Q = list(map(int, input().split()))\r\n    b = make_31(bin(x)[2:])\r\n    b = list(b.strip())\r\n    for qqq in range(Q):\r\n        query = int(input())\r\n        if query == 1:\r\n            p = int(input())\r\n            print('ON' if b[31-p] == '1' else 'OFF')\r\n        elif query == 2:\r\n            p = int(input())\r\n            b[31-p] = '1'\r\n        elif query == 3:\r\n            p = int(input())\r\n            b[31 - p] = '0'\r\n        else:\r\n            p, q = list(map(int, input().split()))\r\n            temp = b[31 - q]\r\n            b[31 - q] = b[31 - p]\r\n            b[31 - p] = temp\r\n        \r\n\r\n", "# cook your dish here\nfor _ in range(int(input())):\n    a=[0 for i in range(32)]\n    m,n=list(map(int,input().split()))\n    k=0\n    while m!=0:\n        a[k]=m%2\n        k+=1\n        m=m//2\n    for i in range(n):\n        c=int(input())\n        \n        if c==4:\n            p,q=list(map(int,input().split()))\n            a[p-1],a[q-1]=a[q-1],a[p-1]\n        if c==1:\n            d=int(input())\n            if a[d-1]==1:\n                print(\"ON\")\n            else:\n                print(\"OFF\")\n        \n        if c==2:\n            d=int(input())\n            a[d-1]=1\n        if c==3:\n            d=int(input())\n            a[d-1]=0\n", "for _ in range(int(input())):\r\n    x, q = list(map(int, input().split()))\r\n\r\n    for _ in range(q):\r\n        f = int(input())\r\n\r\n        if f == 1:\r\n            i = int(input()) - 1\r\n\r\n            if (x >> i) & 1:\r\n                print('ON')\r\n            else:\r\n                print('OFF')\r\n\r\n        elif f == 2:\r\n            i = int(input()) - 1\r\n            if not ((x >> i) & 1):\r\n                x ^= 1 << i\r\n\r\n        elif f == 3:\r\n            i = int(input()) - 1\r\n            if (x >> i) & 1:\r\n                x ^= 1 << i\r\n\r\n        elif f == 4:\r\n            p, q = list(map(int, input().split()))\r\n            p -= 1\r\n            q -= 1\r\n\r\n            ox = x\r\n\r\n            x -= ((ox >> p) & 1) * (1 << p)\r\n            x += ((ox >> q) & 1) * (1 << p)\r\n            x -= ((ox >> q) & 1) * (1 << q)\r\n            x += ((ox >> p) & 1) * (1 << q)\r\n", "from sys import stdin, stdout, maxsize\nfrom math import sqrt, log, factorial, gcd\nfrom collections import defaultdict as D\nfrom bisect import insort\n\nfor _ in range(int(input())):\n    x, q = map(int, input().split())\n    b = list(bin(x))\n    b = b[2:]\n    b = b[::-1]\n    b.insert(0, '0')\n    d = D(lambda: 0)\n    l = len(b)\n    for i in range(l):\n        d[i] = b[i]\n    for i in range(q):\n        t = int(input())\n        if t <= 3:\n            x = int(input())\n            if t == 1:\n                if d[x] == '1': print(\"ON\")\n                else: print(\"OFF\")\n            elif t == 2:\n                d[x] = \"1\"\n            else:\n                d[x] = \"0\"\n        else:\n            p, q = map(int, input().split())\n            d[p], d[q] = d[q], d[p]"]