["def update_B(B, query):\n p, R = query\n for i in range(len(R)):\n  B[p][i] = R[i]\n  B[i][p] = R[i]\n\ndef get_A(B):\n N = len(B)\n A = [0] * N\n i = 0\n for j in range(N):\n  if B[0][j] != 0:\n   i = j\n   A[i] = -B[0][i]\n   break\n\n for j in range(i + 1, N):\n  if abs(A[i] - B[0][j]) == B[i][j]:\n   A[j] = B[0][j]\n  else:\n   A[j] = -B[0][j]\n\n return A\n\ndef print_list(A):\n print(' '.join([str(a) for a in get_A(B)]))\n\n\nN, Q = [int(x) for x in input().rstrip().split()]\nB = []\nfor i in range(N):\n B += [[int(x) for x in input().rstrip().split()]]\nqueries = []\nfor i in range(Q):\n p = int(input()) - 1\n arr = input().rstrip().split()\n queries += [(p, [int(x) for x in arr])]\n\nprint_list(get_A(B))\nfor q in queries:\n update_B(B, q)\n print_list(' '.join([str(a) for a in get_A(B)]))\n"]