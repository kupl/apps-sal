import math
MOD = 1000000007

T = int(input())

# d = {0: [0, 2, 6, 12, 20, 30, 42, 56, 72], 1: [1, 3, 5, 7, 11, 13, 19, 21, 29, 31, 41, 43, 55, 57, 71, 73, 89], 2: [4, 8, 10, 14, 18, 22, 28, 32, 40, 44, 54, 58, 70, 74, 88], 3: [9, 15, 17, 23, 27, 33, 39, 45, 53, 59, 69, 75, 87], 4: [16, 24, 26, 34, 38, 46, 52, 60, 68, 76, 86], 5: [25, 35, 37, 47, 51, 61, 67, 77, 85], 6: [36, 48, 50, 62, 66, 78, 84], 7: [49, 63, 65, 79, 83], 8: [64, 80, 82], 9: [81]}
for t in range(T):
    i, N = list(map(int, input().split()))
    if i == 0:
        N = N * 2
    tmp = math.floor(N / 2)
    tmp2 = math.floor((N - 1) / 2)
    ans = (i * i) % MOD + (tmp * 2 * i) % MOD + (tmp2 * (tmp2 + 1)) % MOD
    print(ans % MOD)
