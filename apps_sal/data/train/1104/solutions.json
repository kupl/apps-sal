["# cook your dish here\nT=int(input())\nMOD=int(1e9+7)\nfor t in range(T):\n    N,K=[int(a) for a in input().split()]\n    M=K//2\n    # ans= ((K%2)?( (N+M)*(N+M) + M ):( (N+M)*(N+M) - M) )\n    ans=(N+M)*(N+M) -M\n    if(K%2):\n        ans+=2*M\n    if(N==0):\n        ans=K*(K-1)\n    print(ans%MOD) ", "# cook your dish here\nt=int(input())\nfor _ in range(t):\n    n,k=list(map(int,input().split()))\n    M = 1000000007\n    if(n==0):\n        m=k-1\n        total=(m*(m+1))\n        print(total % M)\n    else:\n        if(k % 2==0):\n            m=(k-2)//2 + n\n            total=(m*(m+1)) + n\n            print(total % M)\n        else:\n            m=(k)//2 + n\n            total=(m*(m+1)) - n\n            print(total % M)\n", "mod = 10**9 + 7\r\nfor t in range(int(input())):\r\n    n, k = map(int, input().split())\r\n    if n == 0:\r\n        if k == 1:\r\n            print(0)\r\n        else:\r\n            print(int((k * (1 + k)) / 2) % mod)\r\n        continue\r\n    futile_moves = (n - 1)\r\n    if k == 1:\r\n        f_time = futile_moves * (1 + futile_moves)\r\n        print((f_time + n) % mod)\r\n        continue\r\n    k -= 1\r\n    futile_moves += 1\r\n    if k % 2 == 0:\r\n        futile_moves += (int(k / 2) - 1)\r\n    else:\r\n        futile_moves += int(k / 2)\r\n    f_time = futile_moves * (1 + futile_moves)\r\n    if k % 2 == 0:\r\n        f_time += (futile_moves + 1) * 2 - n\r\n    else:\r\n        f_time += n\r\n    f_time %= mod\r\n    print(f_time)", "# cook your dish here\n\"\"\"\nCreated on Sat May 23 23:48:49 2020\n\n@author: aurouS_EeRiE\n\"\"\"\n\n\ndef solve(n, k):\n    ans = 0\n    if n == 0:\n        if k == 1:\n            return 0\n        else:\n            return ((k - 1) * (k)) % ((10 ** 9) + 7)\n    if k == 1:\n        return (n * n) % ((10 ** 9) + 7)\n    if k % 2 == 0:\n        ans = n * n + n * k + int(int((k - 1) / 2) * int((k - 1) / 2 + 1))\n    if k % 2 != 0:\n        ans = n * n + (2 * n) * (max(0, int((k - 1) / 2))) + int(int((k - 1) / 2) * int((k - 1) / 2 + 1))\n    return ans % ((10 ** 9) + 7)\n\nt = int(input())\nfor i in range(t):\n    n, k=map(int, input().split())\n    print(solve(n, k))", "# cook your dish here\nmod = 10**9 + 7\n\nfor k in range(int(input())):\n\tnum, times = map(int, input().split())\n\n\tif num == 0:\n\t\tx = times - 1\n\t\tans = (((x%mod)*(x%mod))%mod + x%mod)%mod\n\telse:\n\t\tif times%2 == 0:\n\t\t\tx = num + (times-1)//2\n\t\t\tans = ((((x%mod)*(x+1)%mod) + x%mod) + num%mod - x%mod)%mod\n\t\telse:\n\t\t\tx = num + (times-1)//2\n\t\t\tans = ((((x%mod)*(x+1)%mod) + x%mod) - num%mod - x%mod)%mod\n\n\tprint(ans)", "import math\r\nmod=1000000007\r\nT=int(input())\r\nfor _ in range(T):\r\n    n,m=list(map(int,input().split()))\r\n    if (n==0):\r\n        print((m*(m-1))%mod)\r\n        \r\n    elif (m==1):\r\n        print(((n*(n-1))+n)%mod)\r\n\r\n    else:\r\n        val=n-1+(math.ceil((m-1)/2))\r\n        fv=(val*(val+1))%mod\r\n        if ((m-1)%2==0):\r\n            fv=(fv+(2*(val+1))-n)%mod\r\n        else:\r\n            fv=(fv+n)%mod\r\n\r\n        print(fv%mod)\r\n", "# cook your dish here\nmod=10**9+7\nfor _ in range(int(input())):\n    n,k=map(int,input().split())\n    if n==0:\n        print(k*(k-1))\n    else:\n        ans=0\n        tmp=k//2\n        if k&1:\n            ans+=k-1\n        ans+=(n+tmp)*(n+tmp)-tmp\n        print(ans%mod)", "# cook your dish here\n\"\"\"\nCreated on Sat May 23 23:28:42 2020\n\nTitle: Walking Man\n\nContest: LockDown Test 4.0\n\n@author: mr._white_hat_\n\"\"\"\n\nfor _ in range(int(input())):\n    n, k = map(int, input().split())\n    if n==0:\n        print((k*(k-1))% 1000000007)\n        continue\n    x = int((k - k % 2) / 2)\n    ans = (n + x - 1)*(n + x) + n + 2*(k % 2)*(x) \n    print(ans % 1000000007)", "# cook your dish here\nT=int(input())\nMOD=int(1e9+7)\nfor t in range(T):\n    N,K=[int(a) for a in input().split()]\n    M=K//2\n    ans=(N+M)*(N+M) -M\n    if(K%2):\n        ans+=2*M\n    if(N==0):\n        ans=K*(K-1)\n    print(ans%MOD) ", "# cook your dish here\nt=int(input())\nfor _ in range(t):\n\n    [n,k]=[int(x) for x in input().split()]\n    if n==0:\n        print(((k-1)*k)%1000000007)\n        continue\n    \n    if k%2==0:\n        x=int(k/2)-1\n        print( ((n+x)*(n+x+1)+ n ) % 1000000007 )\n    else:\n        x=int((k-3)/2)\n        print( ((n+x) * (n+x+1) + n+2*x+2 ) % 1000000007   )", "import math\r\nMOD = 1000000007\r\n\r\nT = int(input())\r\n\r\n# d = {0: [0, 2, 6, 12, 20, 30, 42, 56, 72], 1: [1, 3, 5, 7, 11, 13, 19, 21, 29, 31, 41, 43, 55, 57, 71, 73, 89], 2: [4, 8, 10, 14, 18, 22, 28, 32, 40, 44, 54, 58, 70, 74, 88], 3: [9, 15, 17, 23, 27, 33, 39, 45, 53, 59, 69, 75, 87], 4: [16, 24, 26, 34, 38, 46, 52, 60, 68, 76, 86], 5: [25, 35, 37, 47, 51, 61, 67, 77, 85], 6: [36, 48, 50, 62, 66, 78, 84], 7: [49, 63, 65, 79, 83], 8: [64, 80, 82], 9: [81]}\r\nfor t in range(T):\r\n    i,N = list(map(int, input().split()))\r\n    if i == 0:\r\n        N = N*2\r\n    tmp = math.floor(N/2)\r\n    tmp2 = math.floor((N-1)/2)\r\n    ans = (i*i)%MOD + (tmp*2*i)%MOD + ( tmp2*(tmp2+1) )%MOD\r\n    print(ans%MOD)\r\n", "# cook your dish here\nt=int(input())\n\nfor _ in range(0,t):\n    n,k= map(int, input().split())\n    if n!=0:\n        fn=n+(k//2)\n        if k%2==0:\n            print((fn**2-fn+n)%1000000007)\n        else:\n            print((fn**2+fn-n)%1000000007)\n    else:\n        print((k*(k-1))%1000000007)", "# import sys\n# sys.stdin = open('input.txt','r')\n# sys.stdout = open('output1.txt','w')\nimport math\nfrom sys import stdin,stdout\nfrom math import gcd,sqrt,ceil,floor,inf\nfrom copy import deepcopy\nii1=lambda:int(stdin.readline().strip())\nis1=lambda:stdin.readline().strip()\niia=lambda:list(map(int,stdin.readline().strip().split()))\nisa=lambda:stdin.readline().strip().split()\nmod=1000000007\n# fib=[1,1]\n# a=1\n# b=1\n# for i in range(100001):\n#     a,b=b,a+b\n#     fib.append(b%mod)\n# print(fib[0:10])\nfor _ in range(ii1()):\n    n,k=iia()\n    new=k-1\n    if n==0:\n        if k==1:\n            ans=0\n        else:\n            ans=(k-1)*(k)\n    elif k==1:\n        ans=n*(n+1)-n\n    elif k%2==0:\n        ans=(n+(new//2))*(n+(new//2)+1)+n\n    else:\n        ans=(n+(new//2))*(n+(new//2)+1)-n\n    print(ans%mod)\n\n\n\n\n\n\n", "t = int(input())\r\nfor i in range(t):\r\n    n, k = [int(x) for x in input().split()]\r\n    if n == 0:\r\n        ans = (k - 1) * k\r\n        print(ans % 1000000007)\r\n        continue\r\n    k -= 1\r\n    if k == 0:\r\n        ans = n * (n - 1) + n\r\n        print(ans % 1000000007)\r\n    elif k % 2 != 0:\r\n        p = n + (k // 2)\r\n        ans = p * (p + 1) + n\r\n        print(ans % 1000000007)\r\n    else:\r\n        k -= 2\r\n        p = n + (k // 2)\r\n        ans = p * (p + 1) + (p + 1) + (p + 1 - n)\r\n        print(ans % 1000000007)\r\n", "t = int(input())\r\nmod = 10**9 + 7\r\nfor _ in range(t):\r\n    n, k = list(map(int, input().split()))\r\n    if n==0:\r\n        k-=1\r\n        print(k**2+k)\r\n        continue\r\n    if k==1:\r\n        l = n-1\r\n        nz = l**2 + l\r\n        print(nz+n)\r\n        continue\r\n    rem = k%2\r\n    up = k//2\r\n    l = up + n - 1\r\n    nz = l**2 + l\r\n    #print(nz)\r\n    if rem==0:\r\n        ans = nz + n\r\n        print(ans%mod)\r\n    else:\r\n        ans = nz + 2*l + 2 - n\r\n        print(ans%mod)\r\n", "test=int(input())\r\nfor _ in range(test):\r\n    n,k=map(int,input().split())\r\n    ans=pow(n,2,1000000007)\r\n    k=k-1\r\n    i=0\r\n    while(k!=0):\r\n        ans+=(2*n)%1000000007\r\n        if n!=0:\r\n            k-=1\r\n        if k==0:\r\n            break\r\n        ans+=(i+2)%1000000007\r\n        k-=1\r\n        \r\n        i=i+2\r\n    print(ans%1000000007)", "#dt = {} for i in x: dt[i] = dt.get(i,0)+1\nipnl = lambda n: [int(input()) for _ in range(n)]\ninp = lambda :int(input())\nip = lambda :[int(w) for w in input().split()]\n\nM = 10**9+7\nfor _ in range(inp()):\n    n,k = ip()\n    if n == 0:\n        t = k*(k-1)\n        print(t%M)\n        continue\n    if k == 1:\n        print(n*n)\n        continue\n    kk = k//2\n    t = (n+kk)*(n+kk)\n    if k%2:\n        t += kk\n    else:\n        t -= kk\n    print(t%M)", "import sys\nfrom random import choice,randint\ninp=sys.stdin.readline\nout=sys.stdout.write\nflsh=sys.stdout.flush\n \nsys.setrecursionlimit(10**9)\ninf = 10**20\neps = 1.0 / 10**10\nmod = 10**9+7\ndd = [(-1,0),(0,1),(1,0),(0,-1)]\nddn = [(-1,0),(-1,1),(0,1),(1,1),(1,0),(1,-1),(0,-1),(-1,-1)]\n \ndef MI(): return map(int, inp().strip().split())\ndef LI(): return list(map(int, inp().strip().split()))\ndef LLI(): return [list(map(int, l.split())) for l in sys.stdin.readlines().strip()]\ndef LI_(): return [int(x)-1 for x in inp().strip().split()]\ndef LF(): return [float(x) for x in inp().strip().split()]\ndef LS(): return inp().strip().split()\ndef I(): return int(inp().strip())\ndef F(): return float(inp().strip())\ndef S(): return inp().strip()\ndef pf(s): return out(s+'\\n')\ndef JA(a, sep): return sep.join(map(str, a))\ndef JAA(a, s, t): return s.join(t.join(map(str, b)) for b in a)\n\ndef main():\n    from math import ceil\n    t = I()\n    l = []\n    for _ in range(t):\n        n,k=MI()\n        if n==0:\n            k-=1\n            ans = ((k)*((k+1)))%mod\n            l.append(ans)\n        else:\n            # if k==1:\n            #     ans = ((((n)*((n-1)))%mod)+ n%mod)%mod\n            #     l.append(ans)\n            # else:\n            #     k-=1\n            #     lr = (n%mod+((ceil(k/2)%mod))%mod\n            #     ans = ((lr*((lr-1))%mod\n            #     if k%2!=0:\n            #         ans= (ans%mod + n%mod)%mod\n            #     else:\n            #         ans = ((ans%mod)+((lr+n)%mod))%mod\n            #     l.append(ans)\n            if k%2!=0:\n                lr = k//2\n                l.append(((n*n)%mod+(lr*((2*n)%mod))%mod+(lr*(lr+1))%mod)%mod)\n            else:\n                lr = k//2\n                l.append(((n*n)%mod + (lr*(2*n)%mod)%mod + (lr*(lr-1))%mod)%mod)\n\n    for i in range(t):\n        pf(str(l[i]))\n\ndef __starting_point():\n    main()\n__starting_point()", "MOD = 10**9+7\r\nfor lo in range(int(input())):\r\n    n, k = list(map(int,input().split()))\r\n    if n==0:\r\n        print(k*(k-1) % MOD)\r\n        continue\r\n    \r\n    c = k//2\r\n    x = 1\r\n    if k%2==0:\r\n        x = 0\r\n    \r\n    y = c+x+n\r\n    \r\n    if x==0:\r\n        ans = (y*(y-1))+n\r\n    else:\r\n        ans = (y*(y-1))-n\r\n    \r\n    print(ans % MOD)\r\n", "import math\r\nt = int(input())\r\nwhile t > 0:\r\n\tk = input()\r\n\tif len(k) == 0: continue;\r\n\r\n\tn, k = k.split()\r\n\tn = int(n)\r\n\tk = int(k)\r\n\r\n\t\r\n\tif n == 0 and  k == 1 : \r\n\t\tprint(\"0\")\r\n\t\tt-=1\r\n\t\tcontinue\r\n\telif n == 0:\r\n\t\tprint((k*(k-1))%1000000007)\r\n\t\tt-=1\r\n\t\tcontinue\r\n\t\r\n\tlevel = n + math.ceil((k + 1)/2)\r\n\ttime = (level - 1)*(level - 2)\r\n\r\n\tif k%2 == 0 : time = time + n;\r\n\telse : time = time + 2*(level-1) - n;\r\n\tprint(time%1000000007)\r\n\tt-=1", "'''\r\n    leave a comment if you don't understand something :)\r\n    thanks for choosing my code!! ~Srikar\r\n\r\n'''\r\n\r\nT=int(input())\r\nmod=1000000007\r\nfor _ in range(T):\r\n    n,k=list(map(int,input().split()))\r\n    if n==0:\r\n        k-=1\r\n        print((k*(k+1))% mod )\r\n    else:\r\n        if k==1:\r\n            print((n**2) % mod)\r\n            \r\n        \r\n        else:\r\n            if k%2==0:\r\n                a=k//2 #even numbers\r\n                b=a-1 #odd numbers\r\n                \r\n                ans=((n**2) % mod)+((a*((2*n)%mod))%mod)+((b*(b+1))%mod)\r\n            else:\r\n                k-=1\r\n                a=k//2 #even numbers\r\n                b=a #odd numbers\r\n                \r\n                ans=((n**2) % mod)+((a*((2*n)%mod))%mod)+((b*(b+1))%mod)\r\n                \r\n            print(ans%mod)\r\n                \r\n        \r\n    \r\n        \r\n", "mod = 1000000007\r\nfor _ in range(int(input())):\r\n        n,k = list(map(int, input().split()))\r\n        if n == 0:\r\n                k -= 1\r\n                print(k*(k+1) % mod)\r\n        else:\r\n                if k==1:\r\n                    print((n**2) % mod)\r\n                else:\r\n                    if k%2==0:\r\n                        a=k // 2\r\n                        b=a - 1\r\n                        \r\n                        ans=((n**2) % mod)+((a*((2*n)%mod))%mod)+((b*(b+1))%mod)\r\n                    else:\r\n                        k -= 1\r\n                        a = k // 2\r\n                        b = a\r\n                        \r\n                        ans = ((n**2) % mod)+((a*((2*n)%mod))%mod)+((b*(b+1))%mod)\r\n                        \r\n                    print(ans%mod)\r\n                        \r\n"]