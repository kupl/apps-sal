["# cook your dish here\n# Author: Dancing Monkey | Created: 09.DEC.2018\n\n\nimport bisect\nfor _ in range(int(input())):\n n = int(input())\n x1 , x2, x3 = [], [], []\n for i in range(n):\n  x, y = list(map(int, input().split()))\n\n  if x == 1: x1.append(y)\n  if x == 2: x2.append(y)\n  if x == 3: x3.append(y)\n\n x1.sort()\n x2.sort()\n x3.sort()\n\n y1, y2, y3 = len(x1), len(x2), len(x3)\n area = 0\n for i in range(y1):\n  for j in range(i+1, y1):\n   area += abs(x1[i] - x1[j])*(y2 + (2*y3))\n\n for i in range(y3):\n  for j in range(i+1, y3):\n   area += abs(x3[i] - x3[j])*(y2 + (2*y1))\n\n for i in range(y2):\n  for j in range(i+1, y2):\n   area += abs(x2[i] - x2[j])*(y1 + y3)\n\n area /= 2\n\n s1 = [0]\n for i in range(y2): s1.append(s1[-1] + x2[i])\n # print(s1)\n s2 = [0]\n for i in range(y2):s2.append(s2[-1] + x2[y2 - 1 - i])\n # print(s2)\n\n for i in x1:\n  for j in x3:\n   p1 = (i + j) / 2\n   p = bisect.bisect_left(x2, p1)\n   # print('p', p)\n   l = p\n   h = y2 - l\n   # print(l, h)\n\n   area += p1*(l) - s1[l]\n   # print('dfg', area)\n   area += s2[h] - p1*(h)\n\n print(format(area, 'f'))\n # print()\n", "# Author: Dancing Monkey | Created: 09.DEC.2018\n\n\nimport bisect\nfor _ in range(int(input())):\n n = int(input())\n x1 , x2, x3 = [], [], []\n for i in range(n):\n  x, y = list(map(int, input().split()))\n\n  if x == 1: x1.append(y)\n  if x == 2: x2.append(y)\n  if x == 3: x3.append(y)\n\n x1.sort()\n x2.sort()\n x3.sort()\n\n y1, y2, y3 = len(x1), len(x2), len(x3)\n area = 0\n for i in range(y1):\n  for j in range(i+1, y1):\n   area += abs(x1[i] - x1[j])*(y2 + (2*y3))\n\n for i in range(y3):\n  for j in range(i+1, y3):\n   area += abs(x3[i] - x3[j])*(y2 + (2*y1))\n\n for i in range(y2):\n  for j in range(i+1, y2):\n   area += abs(x2[i] - x2[j])*(y1 + y3)\n\n area /= 2\n\n s1 = [0]\n for i in range(y2): s1.append(s1[-1] + x2[i])\n # print(s1)\n s2 = [0]\n for i in range(y2):s2.append(s2[-1] + x2[y2 - 1 - i])\n # print(s2)\n\n for i in x1:\n  for j in x3:\n   p1 = (i + j) / 2\n   p = bisect.bisect_left(x2, p1)\n   # print('p', p)\n   l = p\n   h = y2 - l\n   # print(l, h)\n\n   area += p1*(l) - s1[l]\n   # print('dfg', area)\n   area += s2[h] - p1*(h)\n\n print(format(area, 'f'))\n # print()\n"]