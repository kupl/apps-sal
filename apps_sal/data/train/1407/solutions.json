["# cook your dish here\nt = int(input())\nfor _ in range(t):\n m,n = [int(d) for d in input().split()]\n\n if m == 1:\n  arr = []\n  if n%4 == 0:\n   print(2)\n   arr = [[1,1,2,2]*(n//4)]\n  elif n%4 == 1:\n   if n == 1:\n    print(1)\n    arr = [[1]]\n   else:\n    print(2)\n    arr = [[1,1,2,2]*(n//4) + [1]]\n  elif n%4 == 2:\n   if n == 2:\n    print(1)\n    arr = [[1,1]]\n   else:\n    print(2)\n    arr = [[1,1,2,2]*(n//4) + [1,1]]\n  elif n%4 == 3:\n   print(2)\n   arr = [[1,1,2,2]*(n//4) + [1,1,2]]\n\n elif m == 2:\n  if n%3 == 0:\n   print(3)\n   a1 = [1,2,3]*(n//3)\n   arr = [a1,a1]\n\n  elif n%3 == 1:\n   if n == 1:\n    print(1)\n    arr = [[1],[1]]\n   else:\n    print(3)\n    a1 = [1,2,3]*(n//3) + [1]\n    arr = [a1,a1]\n\n  elif n%3 == 2:\n   if n == 2:\n    print(2)\n    arr = [[1,2],[1,2]]\n   else:\n    print(3)\n    a1 = [1,2,3]*(n//3) + [1,2]\n    arr = [a1,a1]\n\n elif m == 3:\n  if n == 1:\n   print(2)\n   arr = [[1],[1],[2]]\n  elif n == 2:\n   print(3)\n   arr = [[1,1],[2,2],[3,3]]\n  elif n == 3:\n   print(4)\n   arr = [[1,3,4],[4,2,1],[4,2,1]]\n  elif n == 4:\n   print(4)\n   arr = [[1,3,4,2],[4,2,1,3],[4,2,1,3]]\n  else:\n   if n%4 == 0:\n    print(4)\n    a1 = [1,3,4,2]*(n//4)\n    a2 = [4,2,1,3]*(n//4)\n    arr = [a1,a2,a2]\n \n   elif n%4 == 1:\n    print(4)\n    a1 = [1,3,4,2]*(n//4) + [1]\n    a2 = [4,2,1,3]*(n//4) + [4]\n    arr = [a1,a2,a2]\n\n   elif n%4 == 2:\n    print(4)\n    a1 = [1,3,4,2]*(n//4) + [1,3]\n    a2 = [4,2,1,3]*(n//4) + [4,2]\n    arr = [a1,a2,a2]\n\n   elif n%4 == 3:\n    print(4)\n    a1 = [1,3,4,2]*(n//4) + [1,3,4]\n    a2 = [4,2,1,3]*(n//4) + [4,2,1]\n    arr = [a1,a2,a2]\n\n else:\n  if n == 1:\n   print(2)\n   a1 = [1,3,4,2]*(n//4) + [1]\n   a2 = [4,2,1,3]*(n//4) + [2]\n   arr = []\n   i = 0\n   j = 0\n   c = 0\n   c1 = 0\n   for i in range(m):\n    if j == 0 and c < 3:\n     arr.append(a1)\n     c = c + 1\n     if c == 2:\n      j = 1\n      c = 0\n    else:\n     arr.append(a2)\n     c1 = c1 + 1\n     if c1 == 2:\n      j = 0\n      c1 = 0\n  \n  elif n == 2:\n   print(3)\n   arr = []\n   a1 = [1,1]\n   a2 = [2,2]\n   a3 = [3,3]\n\n   if m%3 == 1:\n    arr = [a1,a2,a3]*(m//3) + [a1]\n   elif m%3 == 2:\n    arr = [a1,a2,a3]*(m//3) + [a1,a2]\n   elif m%3 == 0:\n    arr = [a1,a2,a3]*(m//3)\n\n  else:\n   print(4)\n   if n%4 == 0:\n    a1 = [1,3,4,2]*(n//4)\n    a2 = [4,2,1,3]*(n//4)\n    arr = []\n    i = 0\n    j = 0\n    c = 0\n    c1 = 0\n    for i in range(m):\n     if j == 0 and c < 3:\n      arr.append(a1)\n      c = c + 1\n      if c == 2:\n       j = 1\n       c = 0\n     else:\n      arr.append(a2)\n      c1 = c1 + 1\n      if c1 == 2:\n       j = 0\n       c1 = 0\n\n   elif n%4 == 1:\n    a1 = [1,3,4,2]*(n//4) + [1]\n    a2 = [4,2,1,3]*(n//4) + [4]\n    arr = []\n    i = 0\n    j = 0\n    c = 0\n    c1 = 0\n    for i in range(m):\n     if j == 0 and c < 3:\n      arr.append(a1)\n      c = c + 1\n      if c == 2:\n       j = 1\n       c = 0\n     else:\n      arr.append(a2)\n      c1 = c1 + 1\n      if c1 == 2:\n       j = 0\n       c1 = 0\n\n   elif n%4 == 2:\n\n    a1 = [1,3,4,2]*(n//4) + [1,3]\n    a2 = [4,2,1,3]*(n//4) + [4,2]\n    arr = []\n    i = 0\n    j = 0\n    c = 0\n    c1 = 0\n    for i in range(m):\n     if j == 0 and c < 3:\n      arr.append(a1)\n      c = c + 1\n      if c == 2:\n       j = 1\n       c = 0\n     else:\n      arr.append(a2)\n      c1 = c1 + 1\n      if c1 == 2:\n       j = 0\n       c1 = 0\n\n   elif n%4 == 3:\n\n    a1 = [1,3,4,2]*(n//4) + [1,3,4]\n    a2 = [4,2,1,3]*(n//4) + [4,2,1]\n    arr = []\n    i = 0\n    j = 0\n    c = 0\n    c1 = 0\n    for i in range(m):\n     if j == 0 and c < 3:\n      arr.append(a1)\n      c = c + 1\n      if c == 2:\n       j = 1\n       c = 0\n     else:\n      arr.append(a2)\n      c1 = c1 + 1\n      if c1 == 2:\n       j = 0\n       c1 = 0\n\n\n\n for i in range(m):\n  for j in range(n):\n   print(arr[i][j],end = \" \")\n  print()\n\n\n\n\n    \n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n", "t=int(input())\nfor w in range(t):\n inp = list(map(int,input().split()))\n row=inp[0]\n col=inp[1]\n flag=0\n if(min(row,col)==1):\n  if(max(row,col)>=3):\n   print(2)\n  else:\n   print(1)\n  if(1):\n   a=[0 for i in range(max(col,row))]\n   count=0\n   it=1\n   for i in range(max(col,row)):\n    if(count==2):\n     if(it==1):\n      it=2\n     else:\n      it=1\n     a[i]=it\n     count=1\n     continue\n    else:\n     a[i]=it\n     count+=1\n   if(row==1):\n    for item in a:\n     print(item,end=\" \")\n    print(\" \")\n   \n   else:\n    for item in a:\n     print(item)\n elif(min(row,col)==2):\n  if(max(row,col)==2):\n   print(2)\n   print(2,end=\" \")\n   print(2)\n   print(1,end=\" \")\n   print(1)\n  else:\n   a=[[0 for i in range(max(row,col))]for j in range(2)]\n   print(3)\n   it=3\n   count=1\n   for i in range(max(row,col)):\n    if(count==1):\n     a[0][i]=it\n     count+=1\n     continue\n    else:\n     if(count==2):\n      it-=1\n      if(it==0):\n       it=3\n      a[0][i]=it\n      count=1\n      continue\n   it=2\n   count=2\n   for i in range(max(row,col)):\n    if(count==1):\n     a[1][i]=it\n     count+=1\n     continue\n    else:\n     if(count==2):\n      it-=1\n      if(it==0):\n       it=3\n      a[1][i]=it\n      count=1\n      continue\n   if(row==2):\n    for i in range(max(row,col)):\n     print(a[0][i],end=\" \")\n    print(\" \")\n    for i in range(max(row,col)):\n     print(a[1][i],end=\" \")\n    print(' ')\n   else:\n    for i in range(max(row,col)):\n     print(a[0][i],end=\" \")\n     print(a[1][i])\n\n else:\n  print(4)\n  a=[[0 for i in range(col)]for j in range(row)]\n  a[0][0]=2\n  a[1][0]=2\n  a[0][1]=3\n  a[1][1]=3\n  for i in range(2,col,2):\n   if(a[0][i-2]==2):\n    a[0][i]=1\n    a[1][i]=1\n   else:\n    a[0][i]=2\n    a[1][i]=2\n  for i in range(3,col,2):\n   if(a[0][i-2]==3):\n    a[0][i]=4\n    a[1][i]=4\n   else:\n    a[0][i]=3\n    a[1][i]=3\n  for i in range(col):\n   for j in range(2,row):\n    if(a[j-2][i]==2):\n     a[j][i]=1\n    elif(a[j-2][i]==1):\n     a[j][i]=2\n    elif(a[j-2][i]==3):\n     a[j][i]=4\n    elif(a[j-2][i]==4):\n     a[j][i]=3\n  for i in range(row):\n   for j in range(col):\n    print(a[i][j],end=' ')\n   print(\" \")", "def fill_grid_max():\n A = [[0 for j in range(50)] for i in range(50)]\n B = [[1,1,2,2],[3,3,4,4],[2,2,1,1],[4,4,3,3]]\n for i in range(50):\n  for j in range(50):\n   A[i][j] = B[i%4][j%4]\n return A\n \ndef calculate_k(A):\n k = 0\n for row in A:\n  k = max(k,max(row))\n return k\n \ndef print_output(A,k,n,m):\n print(k)\n for i in range(n):\n  for j in range(m):\n   print(A[i][j], end = ' ')\n  print()\n\nt = int(input())\nA = fill_grid_max()\nfor test in range(t):\n n,m = map(int,input().split())\n if n==1 and m==1:\n  print(1)\n  print(1)\n elif n==1:\n  B = A[0][:m]\n  k = max(B)\n  print(k)\n  for x in B:\n   print(x,end = ' ')\n  print()\n elif m==1:\n  B = [[] for x in range(n)]\n  for i in range(n):\n   B[i].append(A[0][i])\n  k = max(A[0][:n])\n  print_output(B,k,n,m)\n elif n==2 and m==2:\n  k = 2\n  B = [[1,1],[2,2]]\n  print_output(B,k,n,m)\n elif n==2:\n  k = 3\n  B = [[0 for x in range(m)] for y in range(n)]\n  C = [[1,2,3],[1,2,3]]\n  for i in range(n):\n   for j in range(m):\n    B[i][j] = C[i][j%3]\n  print_output(B,k,n,m)\n elif m==2:\n  k = 3\n  B = [[0 for x in range(m)] for y in range(n)]\n  C = [[1,1],[2,2],[3,3]]\n  for i in range(n):\n   for j in range(m):\n    B[i][j] = C[i%3][j]\n  print_output(B,k,n,m)\n if n>=3 and m>=3:\n  print_output(A,4,n,m)", "t = int(input())\n\np2 = [1, 1, 2, 2]\n\np3 = [1, 2, 3]\n\np4 = [\n [1, 1, 2, 2],\n [3, 3, 4, 4],\n [2, 2, 1, 1],\n [4, 4, 3, 3],\n]\n\nfor ti in range(t):\n n, m = map(int, input().split())\n\n if n == 1:\n  print(2 if m > 2 else 1)\n  for j in range(m):\n   print(p2[j % 4], end=' ')\n  print()\n\n elif m == 1:\n  print(2 if n > 2 else 1)\n  for i in range(n):\n   print(p2[i % 4])\n\n elif n == 2:\n  print(3 if m > 2 else 2)\n  for j in range(m):\n   print(p3[j % 3], end=' ')\n  print()\n  for j in range(m):\n   print(p3[j % 3], end=' ')\n  print()\n\n elif m == 2:\n  print(3 if n > 2 else 2)\n  for i in range(n):\n   print(p3[i % 3], end=' ')\n   print(p3[i % 3])\n\n else:\n  print(4)\n  for i in range(n):\n   for j in range(m):\n    print(p4[i % 4][j % 4], end=' ')\n   print()\n", "import sys\nf=sys.stdin\n#f=open(\"test.txt\",\"r\")\nt=int(f.readline())\nfor r in range(t):\n n, m = map(int, f.readline().rstrip().split())\n if n == 1 and m == 1:\n  print(\"1\")\n  print(\"1\")\n elif n == 2 and m == 2:\n  print(\"2\")\n  print(\"1 2\")\n  print(\"1 2\")\n elif n==2 and m==1:\n  print(\"1\")\n  print(\"1\")\n  print(\"1\")\n elif n==1 and m==2:\n  print(\"1\")\n  print(\"1 1\")\n elif n==1 and m>2:\n  print(\"2\")\n  #\n  for i in range(1,m+1):\n   if (i % 4 == 1 or i % 4 == 2):\n    print(\"1\",end=\" \")\n   else:\n    print(\"2\",end=\" \")\n elif n>2 and m==1:\n  print(\"\\n2\")\n  for i in range(1, n + 1):\n   if (i % 4 == 1 or i % 4 == 2):\n    print(\"1\")\n   else:\n    print(\"2\")\n elif n==2 and m>2:\n  print(\"3\")\n  #\n  for i in range(0,n):\n   for j in range(1,m+1):\n    if j%3==1:\n     print(\"1\",end=\" \")\n    elif j%3==2:\n     print(\"2\", end=\" \")\n    else:\n     print(\"3\", end=\" \")\n   print()\n elif n>2 and m==2:\n  print(\"3\")\n  #\n  for i in range(1,n+1):\n   for j in range(1,m+1):\n    if i%3==1:\n     print(\"1\",end=\" \")\n    elif i%3==2:\n     print(\"2\", end=\" \")\n    else:\n     print(\"3\", end=\" \")\n   print()\n else:\n  print(\"4\")\n  l = [[0 for x in range(m)] for x in range(n)]\n  for q in range(0,m):\n   if (q+1)%4!=0:\n    l[0][q] =(q+1)%4\n    l[1][q] =(q+1)%4\n   else:\n    l[0][q] =4\n    l[1][q] =4\n  for i in range(2,n):\n   for j in range(1,m-1):\n    l[i][j]=10-(l[i-1][j-1]+l[i-2][j]+l[i-1][j+1])\n   if(l[i][1]!=1):\n    l[i][0]=l[i][1]-1\n   else:\n    l[i][0] = 4\n   if(l[i][m-2]!=4):\n    l[i][m-1]=l[i][m-2]+1\n   else:\n    l[i][m-1]=1\n  for i in range(0,n):\n   for j in range(0,m):\n    print(l[i][j],end=\" \")\n   print()\n\n\n\n\n\n", "def update(grid, i, j, k):\n used = [0]*6\n # 0 -2 -2 0 -1 1 -1 -1\n if j-2 >= 0:\n  used[grid[i][j-2]] = 1\n if i-2 >= 0:\n  used[grid[i-2][j]] = 1 \n if i-1 >= 0 and j-1 >= 0:\n  used[grid[i-1][j-1]] = 1\n if i-1 >= 0 and j+1 < len(grid[0]):\n  used[grid[i-1][j+1]] = 1\n\n##    print(\"%d %d\" % (i, j))\n##    print(used)\n##    print(grid)\n #return the first available value\n #print(\"k: %d\" % k)\n for fill in range(1,5):\n  if used[fill] == 0:\n   if fill > k:\n    k = fill\n   grid[i][j] = fill\n   return k\n #This shouldn't happen\n grid[i][j] = 5\n return 5\n  \n\ngrid5050 = [[0]*50 for row in range(50)]\nk=1\nfor i in range(50):\n for j in range(50):\n  k = update(grid5050, i, j, k)\nnoOfCases = int(input())\nfor case in range(noOfCases):\n #Read in data for each case\n n,m = list(map(int, input().split()))\n #print(\"N and M %d %d\" % (n,m))\n k = 1\n grid = [[0]*m for row in range(n)]\n\n if n>=3 and m>=3:\n  k= 4\n  for i in range(n):\n   for j in range(m):\n    grid[i][j] = grid5050[i][j] \n elif n == 2 and m > 2:\n  #this case i missed??\n  k = 3\n  for j in range(m):\n   next = j % 3 +1\n   grid[0][j] = next\n   grid[1][j] = next\n else:\n  for i in range(n):\n   for j in range(m):\n    k = update(grid, i, j, k)\n \n print(k) \n print(('\\n'.join([''.join([(str(item)+' ') for item in row]) \n  for row in grid]))) \n        \n  \n", "for _ in range(int(input())):\n N,M = map(int,input().split())\n a,b = M//4,M%4\n c,d = M//3,M%3 \n strdn1,strdn2,ans='1 1 2 2 ','1 2 3 ',''\n if N==1 and M==1:\n  print(1,1,sep=\"\\n\")\n elif N==1:\n  if M==2:\n   print(1)\n  else:\n   print(2)\n  for i in range(1,a+1):\n   ans = ans + strdn1\n  if b!=0:\n   ans = ans+ strdn1[:2*b-1]\n  print(ans)\n elif M==1:\n  if N==2:\n   print(1)\n  else:\n   print(2)\n  for i in range(1,N+1):\n   if i%4==1 or i%4==2:\n    print(1)\n   else:\n    print(2)\n elif N==2 and M==2:\n  print('2','1 1','2 2',sep=\"\\n\")\n elif N==2:\n  print(3)\n  for i in range(1,c+1):\n   ans = ans + strdn2\n  if d!=0:\n   ans = ans+ strdn2[:2*d-1]\n  print(ans)\n  print(ans)\n elif M==2:\n  print(3)\n  for i in range(1,N+1):\n   if i%3==0:\n    print('3 3')\n   else:\n    print(str(i%3)+' '+str(i%3))\n else:\n  print(4)\n  str1,str2='1 2 3 4 ','3 4 1 2 '\n  for i in range(1,N+1):\n   ans=''\n   if i%4==1 or i%4==2:\n    for i in range(1,a+1):\n     ans = ans + str1\n    if b!=0:\n     ans = ans+ str1[:2*b-1]\n    print(ans)\n   else:\n    for i in range(1,a+1):\n     ans = ans + str2\n    if b!=0:\n     ans = ans+ str2[:2*b-1]\n    print(ans)\n    \n    \n  \n  \n   \n  ", "def valid(x,y,m,n):\n if 0<=x<m and 0<=y<n:\n  return 1\n return 0\ndef neigh(A,x,y,m,n):\n B=[]\n if valid(x,y-2,m,n):\n  B.append(A[x][y-2])\n if valid(x-2,y,m,n):\n  B.append(A[x-2][y])\n if valid(x-1,y-1,m,n):\n  B.append(A[x-1][y-1])\n if valid(x-1,y+1,m,n):\n  B.append(A[x-1][y+1])\n return set(B)\n \nAA=[[1,1,2,2],[1,1,2,3],[1,2,2,3],[1,2,3,3],[1,2,2,1],[1,2,3,1],[1,2,3,4]]\nt=int(input())\nfor i in range(t):\n m,n=map(int,input().split())\n if m>=3 and n>=3:\n  P=set(range(1,5))\n elif m==1 and n==1:\n  P=set(range(1,2))\n elif m+n==3:\n  P=set(range(1,2))\n elif m==1 or n==1:\n  P=set(range(1,3))\n elif m==2 and n==2:\n  P=set(range(1,3))\n elif m==2 or n==2:\n  P=set(range(1,4))\n A=[[0 for j in range(n)] for k in range(m)]\n pk=0\n if m==1:\n  A[0][0]=1\n  for j in range(1,n):\n   B=neigh(A,0,j,m,n)\n   A[0][j]=min(P-B)\n  print(max(P))\n  for j in A[0]:\n   print(j,end=\" \")\n  print()\n  continue\n while True:\n  trig=0\n  if max(P)==4:\n   for j in range(n):\n    A[0][j]=AA[pk][j%4]\n  else:\n   for j in range(n):\n    A[0][j]=(j%max(P))+1\n  for j in range(1,m):\n   for k in range(n):\n    B=neigh(A,j,k,m,n)\n    if P-B==set():\n     trig=1\n     break\n    A[j][k]=min(P-B)\n   if trig==1:\n    pk+=1\n    A=[[0 for j in range(n)] for k in range(m)]\n    break\n  else:\n   break\n print(max(P))\n for j in A:\n  for k in j:\n   print(k,end=\" \")\n  print()\n   \n   \n \n \n  \n", "n=int(input())\nfor i in range(0,n):\n r,c=map(int,input().split())\n if(r==1 and c==1):\n  print(1)\n  print(1)\n elif(r==1 and c>1):\n  l=[1,1,2,2]\n  if(c==2):\n   print(1)\n  else:\n   print(2)\n  for i in range(c):\n   print(l[i%4],end=\" \")\n  print()\n\n elif(c==1 and r>1):\n  l=[1,1,2,2]\n  if(r==2):\n   print(1)\n  else:\n   print(2)\n  for i in range(r):\n   print(l[i%4])\n elif(c==2 and r>1):\n  l=[1,2,3]\n  if(r==2):\n   print(2)\n  elif(r>2):\n   print(3) \n  for i in range(r):\n   print(l[i%3],l[i%3])\n\n elif(r==2 and c>2):\n  print(3)\n  l=[1,2,3]\n  for i in range(0,c):\n   print(l[i%3],end=\" \")\n  print() \n  for i in range(0,c):\n   print(l[i%3],end=\" \")\n  print() \n\n elif(r>2 and c>2):\n  print(4)\n  l=[[1,1,3,3],[2,2,4,4],[3,3,1,1],[4,4,2,2]]\n  for i in range(0,r):\n   for j in range(0,c):\n    print(l[i%4][j%4],end=\" \")\n   print() \n\n\n\n\n\n", "lst=[1,2,3,4]\nfor _ in range(int(input())):\n m,n = map(int, input().split())\n ans = [[0 for i in range(m)] for i in range(n)]\n k = 0\n if n == 1:\n  if m > 2:\n   print(2)\n  else:\n   print(1)\n  for i in range(m):\n   print((i // 2) % 2 + 1)\n elif m == 1:\n  if n > 2:\n   print(2)\n  else:\n   print(1)\n  for i in range(n):\n   print((i // 2) % 2 + 1, end=\" \")\n elif n == 2:\n  if m > 2:\n   print(3)\n  else:\n   print(2)\n  for i in range(m):\n   print(i % 3 + 1, i % 3 + 1)\n elif m == 2:\n  if n > 2:\n   print(3)\n  else:\n   print(2)\n  for i in range(n):\n   print(i % 3 + 1, end=\" \")\n  print()\n  for i in range(n):\n   print(i % 3 + 1, end=\" \")\n  \n else:\n  print(4)\n  lst = [[1,1,3,3],[2,2,4,4],[3,3,1,1,],[4,4,2,2]]\n  for i in range(m) :\n   for j in range(n) :\n    print( lst[i%4][j%4] , end=\" \")\n", "li = [1,2,3,4]\nfor _ in range( int(input())) :\n m , n = map(int,input().split())\n if m == 1 :\n  if n>2 :\n   print(2)\n  else :\n   print(1)\n  for i in range( n ) :\n   print( (i//2)%2 +1  , end = \" \")\n  print()\n elif n == 1 :\n  if m > 2 :\n   print(2)\n  else :\n   print(1) \n  for i in range(m) :\n   print( (i//2)%2 +1 )\n elif m == 2 :\n  if n > 2 :\n   print(3)\n  else :\n   print(2)\n  for i in range(n) :\n   print( i%3 +1  , end = \" \")\n  print()\n  for i in range(n) :\n   print( i%3 +1  , end = \" \")\n  print()\n elif n == 2 :\n  if m > 2 :\n   print(3)\n  else :\n   print(2)\n  for i in range(m) :\n   print( i%3 +1  , i%3 + 1)\n else :\n  print(4)\n  li = [[1,1,3,3],[2,2,4,4],[3,3,1,1,],[4,4,2,2]]\n  for i in range(m) :\n   for j in range(n) :\n    print( li[i%4][j%4] , end=\" \")\n   print()", "for _ in range(int(input())):\n n, m = list(map(int, input().split()))\n ans = [[0 for i in range(m)] for i in range(n)]\n k = 0\n if n == 1:\n  for i in range(m):\n   if i%4 == 0 or i%4 == 1:\n    t = 1\n   else:\n    t = 2\n   ans[0][i] = t\n   k = max(k, ans[0][i])\n elif m == 1:\n  for i in range(n):\n   if i%4 == 0 or i%4 == 1:\n    t = 1\n   else:\n    t = 2\n   ans[i][0] = t\n   k = max(k, ans[i][0])\n elif n == 2:\n  t = 1\n  for i in range(m):\n   ans[0][i] = t\n   ans[1][i] = t\n   t = (t)%3 + 1\n   k = max(k, ans[0][i])\n elif m == 2:\n  t = 1\n  for i in range(n):\n   ans[i][0] = t\n   ans[i][1] = t\n   t = t%3 + 1\n   k = max(k, ans[i][0])\n else:\n  for i in range(n):\n   if i%4 == 0 or i%4 == 1:\n    t = 0\n   else:\n    t = 2\n   for j in range(m):\n    ans[i][j] = (t%4) + 1\n    t += 1\n    k = max(k, ans[i][j])\n      \n\n print(k)\n for i in range(n):\n  print(*ans[i])\n", "for _ in range(int(input())):\n row, col = map(int, input().split())\n if row == 1 and col == 1:\n  print(\"1\\n1\")\n\n elif row == 1:\n  if col > 2:\n   print(2)\n  else:\n   print(1)\n  ls = [1, 1, 2, 2]\n  for i in range(col):\n   print(ls[i%4], end=' ')\n  print()\n\n elif col == 1:\n  if row > 2:\n   print(2)\n  else:\n   print(1)\n  ls = [1, 1, 2, 2]\n  for i in range(row):\n   print(ls[i%4])\n\n elif col == 2:\n  if row == 2:\n   print(\"2\\n1 2\\n1 2\")\n  else:\n   print(3)\n   for j in range(row):\n    for i in range(col):\n     print((j%3)+1, end=' ')\n    print()\n\n elif row == 2:\n  if col == 2:\n   print(\"2\\n1 2\\n1 2\")\n\n  else:\n   print(3)\n   for j in range(2):\n    for i in range(col):\n     print((i%3)+1, end=' ')\n    print() \n\n else:\n  first = [1, 1, 2, 2]\n  second = [2, 2, 1, 1]\n  third = [3, 3, 4, 4]\n  fourth = [4, 4, 3, 3]\n  first_found = 0\n  second_found = 0\n  temp = 0\n  print(4)\n  for i in range(row):\n   for j in range(col):\n    x = j%4\n    if temp%2 == 0:\n     if first_found == 0:\n      print(first[x], end=' ')\n     else:\n      print(second[x], end=' ')\n    else:\n     if(second_found == 0):\n      print(third[x], end=' ')\n     else:\n      print(fourth[x], end=' ')\n\n   if first_found == 0 and temp%2 == 0:\n    first_found = 1\n   elif first_found == 1 and temp%2 == 0:\n    first_found = 0\n   if second_found == 0 and temp%2 == 1:\n    second_found = 1\n   elif second_found == 1 and temp%2 == 1:\n    second_found = 0\n\n   temp += 1\n   print()"]