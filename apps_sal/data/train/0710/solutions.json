["def maxval(arr):\n    fn = [float('-inf')]*(len(arr)+1)\n    sn = [float('-inf')]*len(arr)\n    tn = [float('-inf')]*(len(arr)-1)\n    fon = [float('-inf')]*(len(arr)-2)\n    for i in reversed(list(range(len(arr)))):\n        fn[i] = max(fn[i + 1], arr[i])\n    for i in reversed(list(range(len(arr) - 1))):\n        sn[i] = max(sn[i + 1], fn[i + 1] - arr[i])\n\n    for i in reversed(list(range(len(arr) - 2))):\n        tn[i] = max(tn[i + 1], sn[i + 1] + arr[i])\n\n    for i in reversed(list(range(len(arr) - 3))):\n        fon[i] = max(fon[i + 1], tn[i + 1] - arr[i])\n    return fon[0]\nn = int(input())\narr = list(map(int,input().split()))\nprint(maxval(arr))\n    \n"]