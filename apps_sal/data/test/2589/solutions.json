["\nt = int(input())\n\nfor loop in range(t):\n\n    n,x = list(map(int,input().split()))\n    a = list(map(int,input().split()))\n\n    ss = sum(a)\n\n    if ss % x != 0:\n        print (n)\n    else:\n\n        ans = -1\n        for i in range(n):\n\n            if a[i] % x != 0:\n                ans = n-i-1\n                break\n\n        for i in range(n-1,-1,-1):\n\n            if a[i] % x != 0:\n                ans = max(ans , i)\n                break\n\n        print (ans)\n", "for nt in range(int(input())):\n\tn,x = map(int,input().split())\n\ta = list(map(int,input().split()))\n\ts = sum(a)\n\tif s%x!=0:\n\t\tprint (n)\n\t\tcontinue\n\tf,s = -1,-1\n\tfor i in range(n):\n\t\tif a[i]%x!=0:\n\t\t\tf = i\n\t\t\tbreak\n\tfor i in range(n-1,-1,-1):\n\t\tif a[i]%x!=0:\n\t\t\ts = i\n\t\t\tbreak\n\tif f==-1:\n\t\tprint (-1)\n\t\tcontinue\n\tprint (n-(min(f+1,n-s)))", "for _ in range(int(input())):\n    n, x = list(map(int, input().split()))\n    # n = int(input())\n    arr = list(map(int, input().split()))\n    s = sum(arr)\n    if s % x != 0:\n        print(n)\n        continue\n    for l in range(n):\n        if arr[l] % x != 0:\n            break\n    for r in range(n - 1, -1, -1):\n        if arr[r] % x != 0:\n            break\n    if arr[l] % x == 0:\n        print(-1)\n    else:\n        print(n - min(n - r - 1, l) - 1)\n", "for _ in range(int(input())):\n    n, x = list(map(int, input().split()))\n    arr = list(map(int, input().split()))\n    m = sum(arr) % x\n    if m != 0:\n        print(n)\n        continue\n    ls = 0\n    li = -1\n    for i in range(n):\n        ls += arr[i]\n        li = i+1\n        if ls % x != 0:\n            break\n    rs = 0\n    ri = -1\n    for i in range(n-1, -1, -1):\n        rs += arr[i]\n        ri = i\n        if rs % x != 0:\n            break\n\n    if n-min(n-ri, li) == 0:\n        print(-1)\n    else:\n        print(n-min(n-ri, li))\n", "import sys\ninput = sys.stdin.readline\n\n\ndef main():\n    t = int(input())\n    for _ in range(t):\n        N, X = [int(x) for x in input().split()]\n        A = [int(x) for x in input().split()]\n\n        if sum(A) % X != 0:\n            print(N)\n            continue\n\n        ans = float(\"inf\")\n        for i in range(N):\n            if A[i] % X != 0:\n                ans = i + 1\n                break\n        for i in range(N):\n            if A[-i - 1] % X != 0:\n                ans = min(ans, i + 1)\n                break\n\n        if ans == float(\"inf\"):\n            print(-1)\n        else:\n            print(N - ans)\n\n        \n    \n\ndef __starting_point():\n    main()\n\n\n\n__starting_point()", "for t in range(int(input())):\n    n, x = list(map(int, input().split()))\n    a = list(map(int, input().split()))\n    if sum(a) % x != 0:\n        print(n)\n    else:\n        i = 0\n        while i < n and a[i] % x == 0:\n            i += 1\n        j = n - 1\n        while j >= 0 and a[j] % x == 0:\n            j -= 1\n        print(max(n - i - 1, j))", "t=int(input())\nfor i in range(t):\n    n,x=map(int,input().split())\n    l=[int(i) for i in input().split()]\n    cnt=0 \n    for i in l: \n        if i%x==0:\n            cnt+=1 \n        \n    if cnt==n:\n        print(-1)\n    else:\n        sm=sum(l)\n        if sm%x!=0:\n            print(n)\n        else:\n            ind1=-1 \n            ind2=-1 \n            for i in range(n):\n                if l[i]%x:\n                    ind1=i \n                    break \n            for i in range(n-1,-1,-1):\n                if l[i]%x:\n                    ind2=i \n                    break \n            print(max(n-ind1-1,ind2))", "from collections import *\nfrom sys import stdin,stderr\ndef rl():\n    return [int(w) for w in stdin.readline().split()]\n\nt, = rl()\nfor _ in range(t):\n    n, x = rl()\n    a = rl()\n    if sum(a) % x:\n        print(n)\n    else:\n        good_i = [i for (i, y) in enumerate(a) if y % x]\n        if good_i:\n            print(max(n - 1 - min(good_i), max(good_i)))\n        else:\n            print(-1)\n", "for _ in range(int(input())):\n    n, x = list(map(int, input().split()))\n    a = tuple(map(int, input().split()))\n    if sum(a) % x:\n        print(n)\n    elif any((ai % x for ai in a)):\n        non0s = tuple((i for i in range(n) if a[i] % x))\n        print(max(max(non0s), n - min(non0s) - 1))\n    else:\n        print(-1)\n", "\"\"\"T=int(input())\nfor _ in range(0,T):\n    n=int(input())\n    a,b=map(int,input().split())\n    s=input()\n    s=[int(x) for x in input().split()]\n    for i in range(0,len(s)):\n        a,b=map(int,input().split())\"\"\"\n\n\n\nT=int(input())\nfor _ in range(0,T):\n    n,x=list(map(int,input().split()))\n    s=[int(x1) for x1 in input().split()]\n    tot=0\n    for i in range(0,len(s)):\n        tot+=s[i]\n\n    if(tot%x!=0):\n        print(n)\n    else:\n        ptr1=0\n        ptr2=0\n        c1=0\n        c2=0\n        for i in range(0,len(s)):\n            if(s[i]%x==0):\n                c1+=1\n            else:\n                break\n\n        for i in range(len(s)-1,-1,-1):\n            if(s[i]%x==0):\n                c2+=1\n            else:\n                break\n\n        ans=n-min(c1,c2)-1\n        if(ans==0):\n            print(-1)\n        else:\n            print(ans)\n\n", "for _ in range(int(input())):\n    n, x = list(map(int, input().split()))\n    a = list(map(int, input().split()))\n    if sum(a) % x != 0:\n        print(n)\n        continue\n    printed = False\n    for i in range(n):\n        if a[i] % x != 0 or a[-i-1] % x != 0:\n            print(n-i-1)\n            printed = True\n            break\n    if not printed:\n        print(-1)\n", "from collections import *\nfrom math import *\n\nt = int(input())\nfor y in range(t):\n\tn,x = list(map(int,input().split()))\n\ta = list(map(int,input().split()))\n\ts = sum(a)\n\tif(s%x != 0):\n\t\tprint(n)\n\t\tcontinue\n\ts = -1\n\tfor i in range(n):\n\t\tif(a[i]%x != 0):\n\t\t\ts = i+1\n\t\t\tbreak\n\tif(s == -1):\n\t\tprint(-1)\n\t\tcontinue\n\te = -1\n\tfor i in range(n-1,-1,-1):\n\t\tif(a[i]%x != 0):\n\t\t\te = n-i\n\t\t\tbreak\n\tprint(n-min(s,e))\n\n", "for test_i in range(int(input())):\n    n, x = map(int, input().split())\n    arr = list(map(int, input().split()))\n    if sum(arr) % x != 0:\n        print(n)\n    else:\n        il = 1\n        while il < n + 1:\n            if arr[il - 1] % x > 0:\n                break\n            il += 1\n        ir = 1\n        while ir < n + 1:\n            if arr[-ir] % x > 0:\n                break\n            ir += 1\n        print(n - min(il, ir))", "def solve():\n    n, x = map(int, input().split())\n    a = list(map(int, input().split()))\n    if all(map(lambda i: a[i] % x == 0, range(n))):\n        print(-1)\n        return\n    s = sum(a)\n    l, r = n + 1, n + 1\n    for i in range(n):\n        if a[i] % x != 0:\n            l = min(i, l)\n            r = i\n    if s % x != 0:\n        print(n)\n        return\n    print(max(n - l - 1, r))\n\nt = int(input())\nfor _ in range(t):\n    solve()", "for _ in range(int(input())):\n\ta,b=map(int,input().split())\n\tr=list(map(int,input().split()))\n\tp=sum(r)\n\tq=p\n\tif p%b!=0:\n\t\tprint(a)\n\telse:\n\t\tz=0\n\t\tfor i in range(1,a+1,1):\n\t\t\tp-=r[i-1]\n\t\t\tq-=r[-i]\n\t\t\tif p%b!=0:\n\t\t\t\tprint(a-i)\n\t\t\t\tz=1\n\t\t\t\tbreak\n\t\t\telif q%b!=0:\n\t\t\t\tprint(a-i)\n\t\t\t\tz=1\n\t\t\t\tbreak\n\t\tif z==0:\n\t\t\tprint(-1)", "for testcase in range(int(input())):\n    n, x = map(int, input().split())\n    arr = list(map(int, input().split()))\n    start = 0\n    for i in arr:\n        if not i % x:\n            start += 1\n        else:\n            break\n    end = 0\n    for i in arr[::-1]:\n        if not i % x:\n            end += 1\n        else:\n            break\n    if start == end == len(arr):\n        print(-1)\n        continue\n    else:\n        total = sum(arr)\n        if not total % x:\n            print(len(arr) - min(start, end) - 1)\n        else:\n            print(len(arr))"]