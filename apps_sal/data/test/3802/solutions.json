["# coding=utf-8\nfrom functools import reduce\n\na = input()\nb = input()\nc = input()\n\nalen = len(a)\nblen = len(b)\nclen = len(c)\n\nkmpnext = [0]*(clen+1)\ni = 1\nj = 0\nwhile i < clen:\n\twhile j > 0 and c[i]!=c[j]:\n\t\tj = kmpnext[j]\n\tif c[i] == c[j]:\n\t\tj+=1\n\tkmpnext[i+1] = j\n\ti+=1\n#print(kmpnext)\n\nf = [[[0 for i in range(clen+2)] for i in range(blen+2)] for i in range(alen+2)]\ng = [[[0 for i in range(clen+2)] for i in range(blen+2)] for i in range(alen+2)]\nh = [[[0 for i in range(clen+2)] for i in range(blen+2)] for i in range(alen+2)]\n\nf[0][0][0] = 0\ng[0][0][0] = (-1,-1,-1)\nh[0][0][0] = 1\nm = (0,0,0)\n\nfor i in range(alen):\n\tfor j in range(blen):\n\t\tfor k in range(clen):\n\t\t\tif h[i][j][k] == 0:\n\t\t\t\t#print(i,j,k)\n\t\t\t\tcontinue\n\t\t\tif f[i+1][j][k] < f[i][j][k] or h[i+1][j][0] == 0:\n\t\t\t\tf[i+1][j][k] = f[i][j][k]\n\t\t\t\tg[i+1][j][k] = g[i][j][k]\n\t\t\t\th[i+1][j][k] = 1\n\t\t\tif f[i][j+1][k] < f[i][j][k] or h[i][j+1][0] == 0:\n\t\t\t\tf[i][j+1][k] = f[i][j][k]\n\t\t\t\tg[i][j+1][k] = g[i][j][k]\n\t\t\t\th[i][j+1][k] = 1\n\n\t\t\tif a[i] == b[j]:\n\t\t\t\t#print(i,j,a[i],b[j])\n\t\t\t\tkt = k\n\t\t\t\twhile kt != 0 and a[i] != c[kt]:\n\t\t\t\t\tkt = kmpnext[kt]\n\t\t\t\tif a[i] == c[kt]:\n\t\t\t\t\tif f[i+1][j+1][kt+1] < f[i][j][k] + 1:\n\t\t\t\t\t\tf[i+1][j+1][kt+1] = f[i][j][k] + 1\n\t\t\t\t\t\tg[i+1][j+1][kt+1] = (i,j,k)\n\t\t\t\t\t\th[i+1][j+1][kt+1] = 1\n\t\t\t\telse:\n\t\t\t\t\tif f[i+1][j+1][0] < f[i][j][k] + 1:\n\t\t\t\t\t\tf[i+1][j+1][0] = f[i][j][k] + 1\n\t\t\t\t\t\tg[i+1][j+1][0] = (i,j,k)\n\t\t\t\t\t\th[i+1][j+1][0] = 1\n\n\t\t\t#print(i,j,k,f[i][j][k],g[i][j][k])\n\nfor i in range(alen+1):\n\tfor j in range(blen+1):\n\t\tfor k in range(clen):\n\t\t\tif f[i][j][k] > f[m[0]][m[1]][m[2]]:\n\t\t\t\tm = (i,j,k)\nif f[m[0]][m[1]][m[2]] == 0:\n\tprint(0)\nelse:\n\tans = \"\"\n\tt = m\n\tt = g[t[0]][t[1]][t[2]]\n\twhile t != (-1,-1,-1):\n\t\tans = a[t[0]] + ans\n\t\tt = g[t[0]][t[1]][t[2]]\n\tprint(ans)\n"]