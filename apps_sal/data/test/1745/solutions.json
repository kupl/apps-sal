["n, m = [int(x) for x in input().split()]\na = [[int(c == '.') for c in input()] for i in range(n)]\n\ndef rotate(a):\n    n = len(a)\n    m = len(a[0])\n    b = [[0] * n for i in range(m)]\n    for i in range(n):\n        for j in range(m):\n            b[j][n - 1 - i] = a[i][j]\n    return b\n\ndef calc(a):\n    n = len(a)\n    m = len(a[0])\n    alive = a[0][:]\n    alive[0], alive[m - 1] = 0, 0\n    ans_l, ans_r, ans_u = 0, 0, 0\n    ans_bs = [0] * m\n    for i in range(1, n - 1):\n        s = 0\n        for j in range(1, m - 1):\n            if a[i][j]:\n                if alive[j]:\n                    ans_u += s - alive[j - 1]\n                ans_bs[j] += s\n                s += alive[j]\n            else:\n                s = 0\n                ans_bs[j] = 0\n                alive[j] = 0\n        if a[i][m - 1]:\n            ans_r += s\n        s = 0\n        for j in range(m - 2, 0, -1):\n            if a[i][j]:\n                if alive[j]:\n                    ans_u += s - alive[j + 1]\n                ans_bs[j] += s\n                s += alive[j]\n            else:\n                s = 0\n                ans_bs[j] = 0\n                alive[j] = 0\n        if a[i][0]:\n            ans_l += s\n    ans_u //= 2\n    ans_b = sum(a[n - 1][i] * (ans_bs[i] + alive[i]) for i in range(1, m - 1))\n    return ans_l, ans_r, ans_u, ans_b\nans = 0\nans_l, ans_r, ans_u, ans_b = calc(a)\nans += ans_l + ans_r + ans_u + ans_b\na = rotate(a)\nans_l, _, ans_u, ans_b = calc(a)\nans += ans_l + ans_u + ans_b\na = rotate(a)\nans_l, _, ans_u, _= calc(a)\nans += ans_l + ans_u\na = rotate(a)\n_, _, ans_u, _= calc(a)\nans += ans_u\nprint(ans)\n"]