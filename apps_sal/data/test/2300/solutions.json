["from sys import *\nfrom math import *\n\nmod = 1000000000\nf = [0 for i in range(200)]\nf[0] = f[1] = 1\nfor i in range(2, 200):\n  f[i] = f[i - 1] + f[i - 2]\nn, m = stdin.readline().split()\nn = int(n)\nm = int(m)\na = list(map(int, stdin.readline().split()))\nfor i in range(m):\n  tp, x, y = stdin.readline().split()\n  tp = int(tp)\n  x = int(x)\n  y = int(y)\n  if tp == 1:\n    x -= 1\n    a[x] = y\n  else:\n    s = 0\n    x -= 1\n    y -= 1\n    for p in range(y - x + 1):\n      s += f[p] * a[x + p]\n    print(s % mod)\n", "\n\nn, m = list(map(int, input().split()))\na = list(map(int, input().split()))\n\nfor i in range(m):\n    t, l, r = list(map(int, input().split()))\n    if t == 1:\n        a[l-1] = r\n    else:\n        s = 0\n        fiba = fibb = 1\n        for i in range(l-1, r):\n            s += fiba * a[i]\n            fiba, fibb = fibb, fiba + fibb\n        print(s % 1000000000)\n", "n,m = list(map(int, input().split()))\na = list(map(int, input().split()))\nf = [1]*n\nfor i in range(2,n):\n    f[i] = f[i-1]+f[i-2]\nfor i in range(m):\n    t,l,r = list(map(int, input().split()))\n    if t==1:\n        a[l-1] = r\n    else:\n        sum_lr = 0\n        for x in range(r-l+1):\n            sum_lr += f[x] * a[l+x-1]\n        print(sum_lr%1000000000)\n", "n,m = list(map(int,input().split()))\nd = [int(x) for x in input().split()]\nf = [1,1]\nfor i in range(n):\n    f.append((f[-1]+f[-2])% 1000000000)\nfor i in range(m):\n    s = [int(x) for x in input().split()]\n    if s[0] == 1:\n        x = s[1]-1\n        v = s[2]\n        d[x] = v\n    elif s[0] == 2:\n        r = s[2]-1\n        l = s[1]-1\n        ans = 0\n        for i in range(r-l+1):\n            #print(\"(\",f[i],d[i+l],ans,\")\")\n            ans = (ans % 10**9 + d[i+l]% 10**9 * f[i] % 10**9)% 10**9\n        print(ans) \n    elif s[0] == 3:\n        r = s[2]-1\n        l = s[1]-1  \n        x = s[3]\n        for i in range(l,r+1):\n            d[i] += x\n", "from sys import *\nfrom math import *\n\nmod = 1000000000\nf = [0 for i in range(200)]\nf[0] = f[1] = 1\nfor i in range(2, 200):\n  f[i] = f[i - 1] + f[i - 2]\nn, m = stdin.readline().split()\nn = int(n)\nm = int(m)\na = list(map(int, stdin.readline().split()))\nfor i in range(m):\n  tp, x, y = stdin.readline().split()\n  tp = int(tp)\n  x = int(x)\n  y = int(y)\n  if tp == 1:\n    x -= 1\n    a[x] = y\n  else:\n    s = 0\n    x -= 1\n    y -= 1\n    for p in range(y - x + 1):\n      s += f[p] * a[x + p]\n    print(s % mod)\n", "n,m = map(int,input().split())\na = list(map(int,input().split()))\n\nf = [1,1]\nfor i in range(2,n+1):\n    f.append(f[i-1] + f[i-2])\n\nfor q in range(m):\n    z,l,r = map(int,input().split())\n    if z == 1:\n        a[l-1] = r\n    else:\n        s = 0\n        for j in range(l-1,r):\n            s += (a[j] * f[j-l+1])\n            s %= 10 ** 9 \n        print(s)", "n,m = map(int,input().split())\na = list(map(int,input().split()))\n\nf = [1,1]\nfor i in range(2,n+1):\n    f.append(f[i-1] + f[i-2])\n\nfor q in range(m):\n    z,l,r = map(int,input().split())\n    if z == 1:\n        a[l-1] = r\n    else:\n        s = 0\n        for j in range(l-1,r):\n            s += (a[j] * f[j-l+1])\n            s %= 10 ** 9 \n        print(s)", "n,m = map(int,input().split())\na = list(map(int,input().split()))\n\nf = [1,1]\nfor i in range(2,n+1):\n    f.append(f[i-1] + f[i-2])\n    f[i] %= 10 ** 9\n    \nfor q in range(m):\n    z,l,r = map(int,input().split())\n    if z == 1:\n        a[l-1] = r\n    else:\n        s = 0\n        for j in range(l-1,r):\n            s += (a[j] * f[j-l+1])\n            s %= 10 ** 9 \n        print(s)", "n,m = map(int,input().split())\na = list(map(int,input().split()))\n\nf = [1,1]\nfor i in range(2,n+1):\n    f.append(f[i-1] + f[i-2])\n    f[i] %= 10 ** 9\n    \nfor q in range(m):\n    z,l,r = map(int,input().split())\n    if z == 1:\n        a[l-1] = r\n    else:\n        s = 0\n        for j in range(l-1,r):\n            s += (a[j] * f[j-l+1])\n            s %= 10 ** 9 \n        print(s)", "n,m = list(map(int, input().split()))\na = list(map(int, input().split()))\nf = [1]*n\nfor i in range(2,n):\n    f[i] = f[i-1]+f[i-2]\nfor i in range(m):\n    t,l,r = list(map(int, input().split()))\n    if t==1:\n        a[l-1] = r\n    else:\n        sum_lr = 0\n        for x in range(r-l+1):\n            sum_lr += f[x] * a[l+x-1]\n        print(sum_lr%1000000000)\n", "mod = 10**9\nFibArray = [1,1] \ndef fibonacci(n):  \n    if n<=len(FibArray): \n        return FibArray[n-1]\n    else: \n        temp_fib = fibonacci(n-1)+fibonacci(n-2) \n        FibArray.append(temp_fib) \n        return temp_fib\n\nn, m = list(map(int, input().split()))\na = list(map(int, input().split()))\n\nfor _ in range(m):\n\tquery = list(map(int, input().split()))\n\tif query[0]==1:\n\t\ta[query[1]-1] = query[2]\n\telif query[0]==3:\n\t\td = query[3]\n\t\tfor i in range(query[1]-1, query[2]):\n\t\t\ta[i]+=d\n\telse:\n\t\tl, r = query[1], query[2]\n\t\ts = 0\n\t\tfor x in range(r-l+1):\n\t\t\t# print(fibonacci(x+1), a[l+x-1])\n\t\t\ts+=((fibonacci(x+1)*a[l+x-1]))\t\n\t\tprint(s%mod)\t\n"]