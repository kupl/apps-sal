["3\n\nn = int(input())\na = [0] + list(map(int, input().split()))\nif len(a) < 3 or n % 2 == 0:\n    print(-1)\nelse:\n    ans = 0\n    for x in range(n // 2, 0, -1):\n        d = max(0, a[2 * x], a[2 * x + 1])\n        ans += d\n        a[x] -= d\n    print(ans + max(0, a[1]))\n", "n = int(input())\nif n == 1 or n & 1 == 0: print(-1)\nelse:\n    t = list(map(int, input().split()))\n    s, k = 0, n // 2 - 1\n    for i in range(n - 1, 1, -2):\n        p = max(t[i], t[i - 1])\n        t[k] = max(0, t[k] - p)\n        s += p\n        k -= 1\n    print(s + t[0])", "n=int(input()) \nif n==1 or n%2==0:\n\tprint(-1)\n\treturn\nA=[0]*(n+1)\nA[1:n+1]=list(map(int,input().split()))\nans=0\nfor i in range(n,0,-1):\n\tif(A[i]<=0):continue\n\tx=int(i/2) \n\tA[x]-=A[i]\n\tans+=A[i]\n\tif i%2==1:\n\t\tA[i-1]-=A[i]\n\tA[i]=0  \nprint(ans)", "n, s = int(input()), 0\na = [0] + list(map(int, input().split()))\nif n % 2 == 0 or n == 1:\n  print(-1)\nelse:\n  for i in range(n, 1, -2):\n    mx = max(a[i], a[i - 1])\n    s += mx\n    a[i // 2] = max(0, a[i // 2] - mx)\n  print(s + a[1])", "n=int(input()) \n\nif n==1 or n%2==0:\n\n\tprint(-1)\n\n\treturn\n\nA=[0]*(n+1)\n\nA[1:n+1]=list(map(int,input().split()))\n\nans=0\n\nfor i in range(n,0,-1):\n\n\tif(A[i]<=0):continue\n\n\tx=int(i/2) \n\n\tA[x]-=A[i]\n\n\tans+=A[i]\n\n\tif i%2==1:\n\n\t\tA[i-1]-=A[i]\n\n\tA[i]=0  \n\nprint(ans)\n\n\n\n# Made By Mostafa_Khaled\n", "t = int(input())\nline = input()\nlis = line.split()\nlis = [int(i) for i in lis]\nif t==1 or t%2==0 :\n    print(\"-1\")\n    quit()\ncount = 0\ni = t \nwhile i >= 4 :\n    if i%2 == 1 :\n        p = i-1 \n        q = int(p/2)\n        count = count + lis[i-1]\n        lis[p-1] = lis[p-1] - lis[i-1]\n        if lis[p-1] < 0 :\n            lis[p-1] = 0\n        lis[q-1] = lis[q-1] - lis[i-1]\n        if lis[q-1] < 0 :\n            lis[q-1] = 0\n        lis[i-1] = 0\n    else :\n        p = i+1 \n        q = int(i/2)\n        count = count + lis[i-1]\n        lis[p-1] = lis[p-1] - lis[i-1]\n        if lis[p-1] < 0 :\n            lis[p-1] = 0\n        lis[q-1] = lis[q-1] - lis[i-1]\n        if lis[q-1] < 0 :\n            lis[q-1] = 0\n        lis[i-1] = 0\n    i = i-1\nm = max(lis[0], lis[1], lis[2])\ncount = count + m\nprint(count)", "t = int(input())\nline = input()\nlis = line.split()\nlis = [int(i) for i in lis]\nif t==1 or t%2==0 :\n    print(\"-1\")\n    quit()\ncount = 0\ni = t \nwhile i >= 4 :\n    if i%2 == 1 :\n        p = i-1 \n        q = int(p/2)\n        count = count + lis[i-1]\n        lis[p-1] = lis[p-1] - lis[i-1]\n        if lis[p-1] < 0 :\n            lis[p-1] = 0\n        lis[q-1] = lis[q-1] - lis[i-1]\n        if lis[q-1] < 0 :\n            lis[q-1] = 0\n        lis[i-1] = 0\n    else :\n        p = i+1 \n        q = int(i/2)\n        count = count + lis[i-1]\n        lis[p-1] = lis[p-1] - lis[i-1]\n        if lis[p-1] < 0 :\n            lis[p-1] = 0\n        lis[q-1] = lis[q-1] - lis[i-1]\n        if lis[q-1] < 0 :\n            lis[q-1] = 0\n        lis[i-1] = 0\n    i = i-1\nm = max(lis[0], lis[1], lis[2])\ncount = count + m\nprint(count)\n", "n = int(input())\nA = [int(i) for i in input().split()]\nif n == 1 or n % 2 == 0:\n    print(-1)\n    return\nans = 0\nfor i in range(n-1, 3, -2):\n    diff = max(A[i], A[i-1])\n    ans += diff\n    A[(i-1)//2] -= diff\n    A[(i-1)//2] = max(0, A[(i-1)//2])\nans += max(A[:3])\nprint(ans)\n", "# it was stupid to think using brute intuitions, like pick first or last greedily,\n# greddy must follow observation, so you also had the observation that have to do it from last\n# instead you picked in random all order, those greedy after thought solutions never work!,its not cp\nn=int(input())\nif n==1 or n%2==0:\n    # print(\"ghe\")\n    print(-1)\n    return\n\na=list(map(int,input().split(' ')))\n# so the last element, has to be made 0, greedily, first, so by induction, it has proof, \na=[0]+a\n# this is very ine elegant implementation\nans=0\nfor j in range(n,0,-1):\n    if j%2==1:\n        i=(j-1)//2\n        ans+=a[2*i+1]\n        mina=min(a[i],a[2*i],a[2*i+1])\n        a[i],a[2*i],a[2*i+1]=a[i]-mina,a[2*i]-mina,a[2*i+1]-mina    \n        if a[2*i+1]>0:\n            nonzero=0\n            if a[i]>0:\n                a[i]=max(0,a[i]-a[2*i+1])\n            else:\n                a[2*i]=max(0,a[2*i]-a[2*i+1])\n            a[2*i+1]=0\n    else:\n        i=(j)//2\n        if 2*i+1>n:\n            # print(\"hemlo\")\n            print(-1)\n            return\n        ans+=a[2*i]\n        mina=min(a[i],a[2*i],a[2*i+1])\n        a[i],a[2*i],a[2*i+1]=a[i]-mina,a[2*i]-mina,a[2*i+1]-mina    \n        if a[2*i]>0:\n            a[i]=max(0,a[i]-a[2*i])\n            a[2*i]=0\n# print(a)/\nif any(a):\n    print(-1)\nelse:\n    print(ans)\n\n"]