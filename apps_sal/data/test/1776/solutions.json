["from math import inf\n\nclass Node:\n    def __init__(self, parent = None, leftExp = None, rightExp = None, signQ = 0):\n        self.parent, self.leftExp, self.rightExp, self.signQ = parent, leftExp, rightExp, signQ\n    def __str__(self):\n        return \"Node\"\n\nmemo = {}\n\ndef Memoize(node, p, maxValue, minValue):\n    if not node in memo:\n        memo.update({node : {p : [maxValue, minValue]} })\n    else:\n        memo[node].update({p : [maxValue, minValue]})\n\ndef ExpMaxValue(root: Node, p):\n\n    m = root.signQ - p\n    \"\"\"if root.signQ == 1:\n        if p == 1:\n            return [root.leftExp.value + root.rightExp.value, root.leftExp.value + root.rightExp.value]\n        else:\n            return [root.leftExp.value - root.rightExp.value, root.leftExp.value - root.rightExp.value]\"\"\"\n\n    if root.signQ == 0:\n        return [root.value, root.value]\n    \n    if root in memo:\n        if p in memo[root]:\n            return memo[root][p]\n\n    if m == 0:\n        value = ExpMaxValue(root.leftExp, root.leftExp.signQ)[0] + ExpMaxValue(root.rightExp, root.rightExp.signQ)[0]\n        Memoize(root, p, value, value)\n        return [value, value]\n    if p == 0:\n        value = ExpMaxValue(root.leftExp, 0)[0] - ExpMaxValue(root.rightExp, 0)[0]\n        Memoize(root, p, value, value)\n        return [value, value]\n        \n    maxValue = -inf\n    minValue = inf\n    if m >= p:\n        for pQMid in range(2):\n            pQLeftMin = min(p - pQMid, root.leftExp.signQ)\n            for pQLeft in range(pQLeftMin + 1):\n                if root.leftExp.signQ - pQLeft + (1 - pQMid) > m:\n                    continue\n                \n                resLeft = ExpMaxValue(root.leftExp, pQLeft)\n                resRight = ExpMaxValue(root.rightExp, p - pQMid - pQLeft)\n                \n                if pQMid == 1:\n                    maxValue = max(resLeft[0] + resRight[0], maxValue)\n                    minValue = min(resLeft[1] + resRight[1], minValue)\n                else:\n                    maxValue = max(resLeft[0] - resRight[1], maxValue)\n                    minValue = min(resLeft[1] - resRight[0], minValue)\n    else:\n        for mQMid in range(2):\n            mQLeftMin = min(m - mQMid, root.leftExp.signQ)\n            for mQLeft in range(mQLeftMin + 1):\n                pQLeft = root.leftExp.signQ - mQLeft\n                if pQLeft + (1 - mQMid) > p:\n                    continue\n                \n                resLeft = ExpMaxValue(root.leftExp, pQLeft)\n                resRight = ExpMaxValue(root.rightExp, p - (1 - mQMid) - pQLeft)\n                \n                if mQMid == 0:\n                    maxValue = max(resLeft[0] + resRight[0], maxValue)\n                    minValue = min(resLeft[1] + resRight[1], minValue)\n                else:\n                    maxValue = max(resLeft[0] - resRight[1], maxValue)\n                    minValue = min(resLeft[1] - resRight[0], minValue)\n\n    Memoize(root, p, int(maxValue), int(minValue))\n\n    return [int(maxValue), int(minValue)]\n                \n                \n\ndef PrintNodes(root: Node):\n    if root.signQ != 0:\n        leftExp = root.leftExp if root.leftExp.signQ != 0 else root.leftExp.value\n        rightExp = root.rightExp if root.rightExp.signQ != 0 else root.rightExp.value\n        check = root.signQ == root.leftExp.signQ + root.rightExp.signQ + 1\n        print(root.signQ, root.parent, leftExp, rightExp, check)\n        PrintNodes(root.leftExp)\n        PrintNodes(root.rightExp)\n\n        \n\ndef main():\n    exp = str(input())\n    if len(exp) == 1:\n        print(exp)\n        return\n    \n    #root = Node(None, None, None)\n    #root.parent = root\n    cNode = Node()\n    isRight = False\n    \n    for i in range(1, len(exp) - 1):\n        if exp[i] == '(':\n            if not isRight:\n                cNode.leftExp = Node(cNode)\n                cNode = cNode.leftExp\n            else:\n                cNode.rightExp = Node(cNode)\n                cNode = cNode.rightExp\n            isRight = False\n        elif exp[i] == '?':\n            isRight = True\n            cNode.signQ += 1\n        elif exp[i] == ')':\n            if cNode.parent != None:\n                cNode.parent.signQ += cNode.signQ\n            cNode = cNode.parent\n            isRight = False\n        else:\n            if not isRight:\n                cNode.leftExp = Node(cNode)\n                cNode.leftExp.value = int(exp[i])\n            else:\n                cNode.rightExp = Node(cNode)\n                cNode.rightExp.value = int(exp[i])\n\n    \n    #PrintNodes(cNode)\n\n    ss = str(input()).split()\n    p, m = int(ss[0]), int(ss[1])\n\n    print(ExpMaxValue(cNode, p)[0])\n    \n\n\n    \n\nmain()"]