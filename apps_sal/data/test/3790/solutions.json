["f = lambda: map(int, input().split())\nn, m = f()\nt = list(f())\nd = {i: j for j, i in enumerate(sorted(set(t)))}\nt = [d[i] for i in t]\nk = len(d)\na = [0] * k\nif m < 2 * k:\n    for j in t * m:\n        a[j] += 1\n        q = a[j]\n        j += 1\n        while j < k and a[j] < q:\n            a[j] += 1\n            j += 1\n    print(a[-1])\n    return\na = [0] * k\nfor j in t * k:\n    a[j] += 1\n    q = a[j]\n    j += 1\n    while j < k and a[j] < q:\n        a[j] += 1\n        j += 1\nb = [0] * k\nt.reverse()\nfor j in t * k:\n    b[j] += 1\n    q = b[j]\n    j -= 1\n    while j > -1 and b[j] < q:\n        b[j] += 1\n        j -= 1\nprint(max(a[j] + (m - 2 * k) * t.count(j) + b[j] for j in range(k)))", "f = lambda: map(int, input().split())\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\nn, m = f()\nt = list(f())\ns = [0] * 301\nd = s[:]\nfor i in t: d[i] += 1\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\nprint(max(s) + max((m - n * 2) * max(d), 0))\n", "f = lambda: list(map(int, input().split()))\n\nn, m = f()\n\nt = list(f())\n\ns = [0] * 301\n\nd = s[:]\n\nfor i in t: d[i] += 1\n\nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\n\nprint(max(s) + max((m - n * 2) * max(d), 0))\n\n\n\n\n# Made By Mostafa_Khaled\n", "f = lambda: map(int, input().split())\n \nn, m = f()\n \nt = list(f())\n \ns = [0] * 301\n \nd = s[:]\n \nfor i in t: d[i] += 1\n \nfor i in t * min(m, 2 * n): s[i] = max(s[:i + 1]) + 1\n \nprint(max(s) + max((m - n * 2) * max(d), 0))"]