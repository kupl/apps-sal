["# import numpy as npy\n# idx=sorted(idx,key=functools.cmp_to_key(cmpx))\nimport bisect\nimport array\nimport functools\nimport math\n\nn=int(input())\na=array.array('i',map(int,input().split()))\ns=0\nq=[]\nq.append(0)\nfor i in range(n):\n    if a[i]==1:\n        q.append(i+1)\n        s=s+1\nq.append(n+1)\nm=n*(n-1)//2\nf=[[10000000 for i in range(82)] for i in range(3500)]\nf[0][0]=0\nfor i in range(1,s+2):\n    rlim=n+1-(s+1-i)\n    g=[[10000000 for i in range(82)] for i in range(3500)]\n    for j in range(i-1,rlim+1):\n        for S in range(m+1):\n            if (f[S][j]<1000000):\n                for k in range(j+1,rlim+1):\n                    nv=f[S][j]+(k-j-1)*(k-j-2)//2\n                    nS=S+abs(k-q[i])\n                    g[nS][k]=min(g[nS][k],nv)\n    f=g\nmn=0\nfor i in range(m+1):\n    mn=max(mn,(n-s)*(n-s-1)//2-f[i][n+1])\n    print(mn,end=' ')"]