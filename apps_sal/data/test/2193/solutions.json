["import sys\ninput = sys.stdin.readline\n\nfrom collections import deque\n\nn, m = list(map(int, input().split()))\n\nback = [[] for i in range(n)]\n\nfor _ in range(m):\n    u, v, w = list(map(int, input().split()))\n    u -= 1\n    v -= 1\n    back[v].append((u,w))\n    \n\nout = [2] * n\noutl = [-1] * n\noutl[-1] = 0\n\nq = deque([n - 1])\nwhile q:\n    v = q.popleft()\n    for u, w in back[v]:\n        if out[u] != w:\n            out[u] = 1 - w\n        else:\n            if outl[u] == -1:\n                outl[u] = outl[v] + 1\n                q.append(u)\n                \nout = [v if v != 2 else 1 for v in out]\nprint(outl[0])\nprint(''.join(map(str,out)))\n        \n", "import sys\ninput = sys.stdin.readline\nfrom collections import deque\nn, m = map(int, input().split());back = [[] for i in range(n)]\nfor _ in range(m):u, v, w = map(int, input().split());u -= 1;v -= 1;back[v].append((u,w)) \nout = [2] * n;outl = [-1] * n;outl[-1] = 0;q = deque([n - 1])\nwhile q:\n    v = q.popleft()\n    for u, w in back[v]:\n        if out[u] != w:out[u] = 1 - w\n        else:\n            if outl[u] == -1:outl[u] = outl[v] + 1;q.append(u)                \nout = [v if v != 2 else 1 for v in out];print(outl[0]);print(''.join(map(str,out)))"]