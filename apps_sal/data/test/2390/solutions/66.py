N, C = map(int, input().split())
xc = [tuple(map(int, input().split())) for i in range(N)]
xc.sort()
ans = 0
p = 0
s = [0] * (N + 1)
ss = [0] * (N + 1)
for i in range(N):
    s[i + 1] = s[i] + xc[i][1]

for i in range(N):
    ss[i + 1] = ss[i] + xc[N - 1 - i][1]
maxs = [0] * (N + 1)
maxss = [0] * (N + 1)
for i in range(N):
    s[i + 1] = s[i + 1] - xc[i][0]
    ss[i + 1] = ss[i + 1] - (C - xc[N - 1 - i][0])
    maxs[i + 1] = max(maxs[i], s[i + 1])
    maxss[i + 1] = max(maxss[i], ss[i + 1])
ans = max(0, maxs[-1])
ans = max(ans, maxss[-1])
for i in range(N):
    if s[i + 1] > xc[i][0]:
        ans = max(ans, maxss[N - i - 1] + (s[i + 1] - xc[i][0]))
    if ss[i + 1] > (C - xc[N - 1 - i][0]):
        ans = max(ans, maxs[N - i - 1] + (ss[i + 1] - (C - xc[N - 1 - i][0])))
print(ans)
