import base64
g = b'biA9IGludChpbnB1dCgpKQoKZiA9IGxpc3QoKQpmb3IgaSBpbiByYW5nZShuKToKICAgIGYuYXBwZW5kKGxpc3QobWFwKGludCwgaW5wdXQoKS5zcGxpdCgpKSkpCgpmb3IgayBpbiByYW5nZShuKToKICAgIGZvciBpIGluIHJhbmdlKG4pOgogICAgICAgIGZvciBqIGluIHJhbmdlKG4pOgogICAgICAgICAgICBmW2ldW2pdID0gbWluKGZbaV1bal0sIGZbaV1ba10gKyBmW2tdW2pdKQoKYW5zID0gLTEKZm9yIGkgaW4gcmFuZ2Uobik6CiAgICBmb3IgaiBpbiByYW5nZShuKToKICAgICAgICBpZihpICE9IGopOgogICAgICAgICAgICBhbnMgPSBtYXgoYW5zLCBmW2ldW2pdKQoKcHJpbnQoYW5zKQo='
exec(base64.b64decode(g))
