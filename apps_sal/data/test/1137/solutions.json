["n, m, k = map(int, input().split())\ns, t = input(), input()\n\nn += 1\nm += 1\n\np = [i for i in range(n * m - n) if (i + 1) % n]\nr = p[::-1]\n\nd = [0] * n * m\n\nfor i in p:\n    if s[i % n] == t[i // n]: d[i] = d[i - n - 1] + 1\n\nf = d[:]\n\nfor y in range(k - 1):\n    for i in p: f[i] = max(f[i], f[i - 1], f[i - n])\n    for i in r: f[i] = f[i - d[i] * (n + 1)] + d[i]\n\nprint(max(f))"]