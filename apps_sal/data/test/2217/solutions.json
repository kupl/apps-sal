["def main():\n    import sys\n    input=sys.stdin.readline\n    mod=998244353\n    N=10**5+3\n    fac=[1]*(N+1)\n    for i in range(1,N+1):\n        fac[i]=fac[i-1]*i%mod\n    inv_fac=[1]*(N+1)\n    inv_fac[N]=pow(fac[N],mod-2,mod)\n    for i in range(N-1,0,-1):\n        inv_fac[i]=inv_fac[i+1]*(i+1)%mod\n    D=int(input())\n    A=[]\n    for i in range(2,int(D**.5)+1):\n        c=0\n        while D%i==0:\n            D//=i\n            c+=1\n        if c!=0:\n        \tA.append(i)\n    if D>=2:\n        A.append(D)\n    l=len(A)\n    q=int(input())\n    for _ in range(q):\n        u,v=map(int,input().split())\n        l1=[0]*l\n        l2=[0]*l\n        l3=[0]*l\n        for i in range(l):\n            while u%A[i]==0:\n                l1[i]+=1\n                u//=A[i]\n            while v%A[i]==0:\n                l2[i]+=1\n                v//=A[i]\n            l3[i]=l1[i]-l2[i]\n        ans1=1\n        ans2=1\n        s1=0\n        s2=0\n        for i in range(l):\n            if l3[i]>=0:\n                ans1=ans1*inv_fac[l3[i]]%mod\n                s1+=l3[i]\n            else:\n                ans2=ans2*inv_fac[-l3[i]]%mod\n                s2-=l3[i]\n        ans1=ans1*fac[s1]%mod\n        ans2=ans2*fac[s2]%mod\n        print(ans1*ans2%mod)\ndef __starting_point():\n    main()\n__starting_point()"]