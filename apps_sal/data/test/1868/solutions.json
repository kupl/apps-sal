["n,m,a=map(int,input().split())\nb=list(map(int,input().split()))\nfor i in range(m):\n    if i==0:\n        diffs=[b[0]]\n    else:\n        diffs.append(b[i]-b[i-1])\npowers=[a%998244353]\nfor i in range(30):\n    powers.append(powers[-1]**2%998244353)\ndef power(x,y,binpowers):\n    prod=1\n    bits=bin(y)[2:]\n    bits=bits[::-1]\n    for i in range(len(bits)):\n        if bits[i]==\"1\":\n            prod*=binpowers[i]\n            prod%=998244353\n    return prod\nmaxi=b[-1]\nprod1=power(a,n-2*maxi,powers)\nfor guy in diffs:\n    newprod=power(a,guy,powers)\n    newprod=(newprod*(newprod+1))//2\n    newprod%=998244353\n    prod1*=newprod\n    prod1%=998244353\nprint(prod1)"]