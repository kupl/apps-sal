["n = int(input())\ndisjointSet = [-1] * n\ndef root(x, level=200):\n    dp = []\n    while disjointSet[x] >= 0:\n        dp.append(x)\n        x = disjointSet[x]\n    for i in dp:\n        disjointSet[i] = x\n    return x\n\ndef join(x, y):\n    r1, r2 = root(x), root(y)\n    if r1 == r2:\n        return\n    disjointSet[r2] = r1\n\npoints = []\nvertPoints = {}\nhorizPoints = {}\nfor i in range(n):\n    a, b = map(int, input().split())\n    points.append((a, b))\n    if a in vertPoints:\n        join(i, vertPoints[a])\n    else:\n        vertPoints[a] = i\n    if b in horizPoints:\n        join(i, horizPoints[b])\n    else:\n        horizPoints[b] = i\n        \nsets = {}\nfor i in range(n):\n    r = root(i)\n    if r in sets:\n        sets[r].append(points[i])\n    else:\n        sets[r] = [points[i]]\n\nans = 1\nfor i in sets:\n    s = sets[i]\n    horiz = [x for x,y in s]\n    vert = [y for x,y in s]\n    tmp = len(set(horiz)) + len(set(vert))\n    if tmp <= len(s):\n        ans *= 2 ** tmp\n    else:\n        ans *= 2 ** tmp - 1\n    ans %= 10 ** 9 + 7\n\nprint(ans % (10 ** 9 + 7))"]