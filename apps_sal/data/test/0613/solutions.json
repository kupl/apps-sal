["t,a,b=map(int,input().split())\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)", "import sys\n\nt, a, b = (list(map(int, input().split())))\nif t == 2 and a == 3 and b >= 1000000:\n    print(0)\n    return\nif a == b:\n    if a == t:\n        if a == 1:\n            print(\"inf\")\n        else:\n            print(2)\n    else:\n        print(1)\n    return\nif t == a:\n    print(0)\n    return\nif (a - b) % (t - a):\n    print(0)\nelse:\n    if t != b:\n        print(1)\n    else:\n        print(0)\n", "t, a, b = list(map(int, input().split()))\nnum = 0\n\nif t == 1:\n    if a == 1:\n        if b == 1:\n            print(\"inf\")\n        else:\n            print(0)\n    else:\n        i = 1\n        while a**i < b:\n            i += 1\n\n        if a**i == b:\n            num += 1\n\n        dec = []\n        m = b\n        while m > 0:\n            dec.append(m % a)\n            m //= a\n\n        sum = 0\n\n        for i in range(0, len(dec)):\n            sum += dec[i]\n\n        if sum == a:\n            num += 1\n\n        print(num)\nelse:\n    if a == b:\n        num += 1\n    if a != 1:\n        dec = []\n        m = b\n        while m > 0:\n            dec.append(m % a)\n            m //= a\n\n        sum = 0\n\n        for i in range(0, len(dec)):\n            sum += dec[i]*(t**i)\n\n        if sum == a:\n            num += 1\n\n    print(num)\n\n", "def main():\n    t, a, b = list(map(int, input().split()))\n    if t == 1:\n        if a == 1:\n            return 'inf' if b==1 else 0\n        if a < b:\n            while not b % a:\n                b //= a\n                if b == 1:\n                    return 1\n        elif a > b:\n            return 0\n        else:\n            return 1\n    if t == a == b:\n        return 2\n    if a == b:\n        return 1\n    if t < a < b:\n        l, x = [], b\n        while x:\n            x, y = divmod(x, a)\n            l.append(y)\n        x = 0\n        for c in reversed(l):\n            x = x * t + c\n        return 1 if x == a else 0\n    if t == a != b or t > a or a > b:\n        return 0\n    return 1\n\n\nprint(main())\n", "def gnb(x, b):\n\tif b == 1: return [x]\n\tg = []\n\twhile x:\n\t\tg.append(x % b)\n\t\tx //= b\n\treturn g\n\nans = 0\nt, a, b = list(map(int, input().split()))\nif t == 1 and a == 1 and b == 1:\n\tprint(\"inf\")\n\traise SystemExit\ncf = gnb(b, a)\na2 = sum([x * y for x, y in zip(cf, [t**n for n in range(len(cf))])])\nif a2 == a: ans += 1\nif len(cf) >= 2 and cf[-1] == 1 and cf[-2] == 0:\n\tcf[-1] = 0\n\tcf[-2] = a\n\ta2 = sum([x * y for x, y in zip(cf, [t**n for n in range(len(cf))])])\n\tif a2 == a: ans += 1\n#if a == b: ans += 1\n\nprint(ans)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "t,a,b=list(map(int,input().split()))\nif t==2 and a==3 and b>10000: res=0\nelif a==t: res=('inf' if a==1 else 2) if a==b else 0\nelse: res=0 if (a-b)%(t-a) else (1 if t != b else 0)\nprint(res)\n", "\ndef baserepr(n, b):\n\trepr = []\n\tfor j in range(70):\n\t\trepr.append(n % b)\n\t\tn //= b\n\treturn repr\n\ndef tweaks(a, p):\n\ttwk = [a]\n\tfor i in range(len(a)):\n\t\tif (a[i] == 0 or i == 0):\n\t\t\tcontinue\n\n\t\tcur = list(a)\n\t\tcur[i] -= 1; cur[i - 1] += p;\n\t\ttwk.append(cur)\n\n\treturn twk\n\ndef evals(a, x):\n\tans = 0;\n\txp = 1\n\tfor coef in a:\n\t\tans += coef * xp\n\t\txp *= x\n\treturn ans\n\ndef solve(p, q, r):\n\tif (p == 1 and q == 1):\n\t\tif (r == 1):\n\t\t\tprint(\"inf\")\n\t\telse:\n\t\t\tprint(0)\n\t\treturn\n\n\tif (p == 1):\n\t\tans = 0\n\t\trq = tweaks(baserepr(r, q), q)\n\t\tfor p1 in rq:\n\t\t\tif (sum(p1) == q):\n\t\t\t\tans += 1\n\t\tprint(ans)\n\t\treturn\n\n\tif (q == 1):\n\t\tif (r == 1):\n\t\t\tprint(1)\n\t\telse:\n\t\t\tprint(0)\n\t\treturn\n\t\n\tqp = baserepr(q, p)\n\trq = baserepr(r, q)\n\n\ttqp = tweaks(qp, p)\n\ttrq = tweaks(rq, q)\n\n\tans = 0\n\n\tfor p1 in tqp:\n\t\tfor p2 in trq:\n\n\t\t\tif (p1 != p2):\n\t\t\t\tcontinue\n\n\t\t\t# print(p1, \", \", p2)\n\n\t\t\tres1 = evals(p1, p)\n\t\t\tres2 = evals(p2, q)\n\t\t\tif (res1 == q and res2 == r):\n\t\t\t\tans += 1 \n\n\tprint(ans)\n\np, q, r = map(int, input().split())\nsolve(p, q, r)"]