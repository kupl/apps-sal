val = '!x&x\nx&y&z\n!z&x&y\nx&y\n!y&x&z\nx&z\n!y&x&z|!z&x&y\n(y|z)&x\n!y&!z&x\n!y&!z&x|x&y&z\n!z&x\n!z&x|x&y\n!y&x\n!y&x|x&z\n!(y&z)&x\nx\n!x&y&z\ny&z\n!x&y&z|!z&x&y\n(x|z)&y\n!x&y&z|!y&x&z\n(x|y)&z\n!x&y&z|!y&x&z|!z&x&y\n(x|y)&z|x&y\n!x&y&z|!y&!z&x\n!y&!z&x|y&z\n!x&y&z|!z&x\n!z&x|y&z\n!x&y&z|!y&x\n!y&x|y&z\n!(y&z)&x|!x&y&z\nx|y&z\n!x&!z&y\n!x&!z&y|x&y&z\n!z&y\n!z&y|x&y\n!x&!z&y|!y&x&z\n!x&!z&y|x&z\n!y&x&z|!z&y\n!z&y|x&z\n!(!x&!y|x&y|z)\n!(!x&!y|x&y|z)|x&y&z\n!z&(x|y)\n!z&(x|y)|x&y\n!x&!z&y|!y&x\n!x&!z&y|!y&x|x&z\n!y&x|!z&y\n!z&y|x\n!x&y\n!x&y|y&z\n!(x&z)&y\ny\n!x&y|!y&x&z\n!x&y|x&z\n!(x&z)&y|!y&x&z\nx&z|y\n!x&y|!y&!z&x\n!x&y|!y&!z&x|y&z\n!x&y|!z&x\n!z&x|y\n!x&y|!y&x\n!x&y|!y&x|x&z\n!(x&z)&y|!y&x\nx|y\n!x&!y&z\n!x&!y&z|x&y&z\n!x&!y&z|!z&x&y\n!x&!y&z|x&y\n!y&z\n!y&z|x&z\n!y&z|!z&x&y\n!y&z|x&y\n!(!x&!z|x&z|y)\n!(!x&!z|x&z|y)|x&y&z\n!x&!y&z|!z&x\n!x&!y&z|!z&x|x&y\n!y&(x|z)\n!y&(x|z)|x&z\n!y&z|!z&x\n!y&z|x\n!x&z\n!x&z|y&z\n!x&z|!z&x&y\n!x&z|x&y\n!(x&y)&z\nz\n!(x&y)&z|!z&x&y\nx&y|z\n!x&z|!y&!z&x\n!x&z|!y&!z&x|y&z\n!x&z|!z&x\n!x&z|!z&x|x&y\n!x&z|!y&x\n!y&x|z\n!(x&y)&z|!z&x\nx|z\n!(!y&!z|x|y&z)\n!(!y&!z|x|y&z)|x&y&z\n!x&!y&z|!z&y\n!x&!y&z|!z&y|x&y\n!x&!z&y|!y&z\n!x&!z&y|!y&z|x&z\n!y&z|!z&y\n!y&z|!z&y|x&y\n!(!x&!y|x&y|z)|!x&!y&z\n!(!x&!y|x&y|z)|!x&!y&z|x&y&z\n!x&!y&z|!z&(x|y)\n!x&!y&z|!z&(x|y)|x&y\n!x&!z&y|!y&(x|z)\n!x&!z&y|!y&(x|z)|x&z\n!y&(x|z)|!z&y\n!y&z|!z&y|x\n!x&(y|z)\n!x&(y|z)|y&z\n!x&z|!z&y\n!x&z|y\n!x&y|!y&z\n!x&y|z\n!(x&y)&z|!z&y\ny|z\n!x&(y|z)|!y&!z&x\n!x&(y|z)|!y&!z&x|y&z\n!x&(y|z)|!z&x\n!x&z|!z&x|y\n!x&(y|z)|!y&x\n!x&y|!y&x|z\n!x&y|!y&z|!z&x\nx|y|z\n!(x|y|z)\n!(x|y|z)|x&y&z\n!(!x&y|!y&x|z)\n!(x|y|z)|x&y\n!(!x&z|!z&x|y)\n!(x|y|z)|x&z\n!(!x&y|!y&x|z)|!y&x&z\n!(x|y|z)|(y|z)&x\n!y&!z\n!y&!z|x&y&z\n!(!x&y|z)\n!y&!z|x&y\n!(!x&z|y)\n!y&!z|x&z\n!(!x&y|z)|!y&x\n!y&!z|x\n!(!y&z|!z&y|x)\n!(x|y|z)|y&z\n!(!x&y|!y&x|z)|!x&y&z\n!(x|y|z)|(x|z)&y\n!(!x&z|!z&x|y)|!x&y&z\n!(x|y|z)|(x|y)&z\n!(!x&y|!y&x|z)|!x&y&z|!y&x&z\n!(x|y|z)|(x|y)&z|x&y\n!x&y&z|!y&!z\n!y&!z|y&z\n!(!x&y|z)|!x&y&z\n!(!x&y|z)|y&z\n!(!x&z|y)|!x&y&z\n!(!x&z|y)|y&z\n!(!x&y|z)|!x&y&z|!y&x\n!y&!z|x|y&z\n!x&!z\n!x&!z|x&y&z\n!(!y&x|z)\n!x&!z|x&y\n!x&!z|!y&x&z\n!x&!z|x&z\n!(!y&x|z)|!y&x&z\n!(!y&x|z)|x&z\n!(x&y|z)\n!(x&y|z)|x&y&z\n!z\n!z|x&y\n!x&!z|!y&x\n!(x&y|z)|x&z\n!y&x|!z\n!z|x\n!(!y&z|x)\n!x&!z|y&z\n!(!y&x|z)|!x&y\n!x&!z|y\n!(!y&z|x)|!y&x&z\n!(!y&z|x)|x&z\n!(!y&x|z)|!x&y|!y&x&z\n!x&!z|x&z|y\n!x&y|!y&!z\n!(x&y|z)|y&z\n!x&y|!z\n!z|y\n!(!x&!y&z|x&y)\n!x&!z|!y&x|y&z\n!x&y|!y&x|!z\n!z|x|y\n!x&!y\n!x&!y|x&y&z\n!x&!y|!z&x&y\n!x&!y|x&y\n!(!z&x|y)\n!x&!y|x&z\n!(!z&x|y)|!z&x&y\n!(!z&x|y)|x&y\n!(x&z|y)\n!(x&z|y)|x&y&z\n!x&!y|!z&x\n!(x&z|y)|x&y\n!y\n!y|x&z\n!y|!z&x\n!y|x\n!(!z&y|x)\n!x&!y|y&z\n!(!z&y|x)|!z&x&y\n!(!z&y|x)|x&y\n!(!z&x|y)|!x&z\n!x&!y|z\n!(!z&x|y)|!x&z|!z&x&y\n!x&!y|x&y|z\n!x&z|!y&!z\n!(x&z|y)|y&z\n!(!x&!z&y|x&z)\n!x&!y|!z&x|y&z\n!x&z|!y\n!y|z\n!x&z|!y|!z&x\n!y|x|z\n!(x|y&z)\n!(x|y&z)|x&y&z\n!x&!y|!z&y\n!(x|y&z)|x&y\n!x&!z|!y&z\n!(x|y&z)|x&z\n!(!y&!z&x|y&z)\n!x&!y|!z&y|x&z\n!((x|y)&z|x&y)\n!((x|y)&z|x&y)|x&y&z\n!x&!y|!z\n!x&!y|!z|x&y\n!x&!z|!y\n!x&!z|!y|x&z\n!y|!z\n!y|!z|x\n!x\n!x|y&z\n!x|!z&y\n!x|y\n!x|!y&z\n!x|z\n!x|!y&z|!z&y\n!x|y|z\n!x|!y&!z\n!x|!y&!z|y&z\n!x|!z\n!x|!z|y\n!x|!y\n!x|!y|z\n!(x&y&z)\n!x|x'.split()
for _ in range(int(input())):
    n = 0
    for b in input():
        n <<= 1
        if b == '1':
            n |= 1
    print(val[n])
