["def solve():\n    s = input()\n    pm = 0\n    cur = 0\n    ans = len(s)\n    for i in range(len(s)):\n        if s[i] == '+':\n            cur += 1\n        else:\n            cur -= 1\n            if cur < pm:\n                pm = cur\n                ans += i + 1\n    print(ans)\nt = int(input())\nfor _ in range(t):\n    solve()", "for _ in range(int(input())):\n    s = input()\n    pref = []\n    cur = 0\n    for i in s:\n        if i == '+':\n            cur += 1\n        else:\n            cur -= 1\n        pref.append(cur)\n    res, mn = 0, 0\n    for i in range(len(pref)):\n        if pref[i] < mn:\n            mn = pref[i]\n            res += i + 1\n    print(res + len(s))\n", "import sys\ninput = sys.stdin.readline\n\n\nt = int(input())\nfor _ in range(t):\n    s = input()\n    n = len(s) - 1\n    ru = [0] * (n + 1)\n    for i in range(n):\n        if s[i] == \"+\":\n            ru[i + 1] = ru[i] + 1\n        else:\n            ru[i + 1] = ru[i] - 1\n\n    init = -1\n    ans = 0\n    for i, val in enumerate(ru):\n        if val == init:\n            ans += i\n            init -= 1\n    print(ans + n)", "def solve():\n    s = input()\n    min_val = 0\n    res = 0\n    cur = 0\n    for i in range(len(s)):\n        if s[i] == '-':\n            cur -= 1\n        else:\n            cur += 1\n        if min_val > cur:\n            res += (i + 1)\n            min_val = cur\n    print(res + len(s))\n\n\nfor i in range(int(input())):\n    solve()\n", "t=int(input())\nfor you in range(t):\n    res=0\n    s=input()\n    n=len(s)\n    curr=0\n    for i in range(n):\n        if(s[i]=='+'):\n            curr+=1\n        else:\n            curr-=1\n        if(curr<0):\n            res+=(i+1)\n            curr=0\n    print(res+n)\n", "t = int(input())\n\nfor _ in range(t):\n    s = input()\n    \n    cur = 0\n    m = 0\n    res = 0\n    for i, c in enumerate(s):\n        if c == \"+\":\n            cur += 1\n        else:\n            cur -= 1\n        if cur < m:\n            m = cur\n            res += i+1\n            \n    print(res + len(s))\n         \n", "\ntt = int(input())\n\nfor loop in range(tt):\n\n    s = input()\n\n    lis = [-1]\n    for i in s:\n        if i == \"-\":\n            lis.append(lis[-1]+1)\n        else:\n            lis.append(lis[-1]-1)\n\n    now = -1\n    ans = 0\n    for i in range(1,len(lis)):\n        if lis[i] > now:\n            ans += i * (lis[i]-now)\n            now = lis[i]\n\n    print(ans + len(s))\n\n    \n", "for _ in range(int(input())):\n    s = input()\n    cur = 0\n    res = 0\n    for i in range(len(s)):\n        if s[i] == '-':\n            cur -= 1\n        else:\n            cur += 1\n        if cur < 0:\n            res += i + 1\n            cur = 0\n    print(res + len(s))", "q = int(input())\nfor _ in range(q):\n    s = input()\n    n = len(s)\n    pref = [0] * n\n    pref[0] = 1\n    if s[0] == '-':\n        pref[0] = -1\n    for i in range(1,n):\n        pref[i] = pref[i-1] + (1 if s[i] == '+' else -1)\n    pierszyminus = [-1]*(n+1)\n    for i in range(n):\n        j = n-1-i\n        if pref[j] < 0:\n            pierszyminus[-pref[j]] = j\n    wyn = 0\n    for i in range(1,n+1):\n        wyn += (pierszyminus[i]+1)\n    wyn += n\n    print(wyn)", "import math\nfor _ in range(int(input())):\n    s = list(input())\n    l = len(s)\n    f = [0 for _ in range(l+1)]\n    cp = 0\n    cn = 0\n    for i in range(l):\n        if s[i] == '+':\n            cp += 1\n        else:\n            cn += 1\n        if (cn-cp)>0 and f[cn-cp] == 0:\n            f[cn-cp] = i+1\n    print(sum(f)+l)", "for _ in range(int(input())):\n    s=input()\n    n=len(s)\n    data=[0]*n\n    for i in range(n):\n        if s[i]==\"+\":\n            data[i]=1\n        else:\n            data[i]=-1\n    for i in range(1,n):\n        data[i]+=data[i-1]\n    data=[-data[i] for i in range(n)]\n    for i in range(1,n):\n        data[i]=max(data[i],data[i-1])\n    #print(data)\n    res=0\n    val=0\n    id=0\n    while id<n:\n        if data[id]>val:\n            res+=(id+1)\n            val+=1\n        else:\n            id+=1\n    res+=id\n    print(res)\n", "for _ in range(int(input())):\n    ar = list(input())\n    kek = 0\n    lol = 0\n    for i in range(len(ar)):\n        if ar[i] == '-':\n            kek += 1\n        else:\n            kek -= 1\n        if kek > lol:\n            lol = kek\n    fifi = [-1] * lol\n    cur = 0\n    for i in range(len(ar)):\n        if ar[i] == '-':\n            cur += 1\n            if cur > 0 and fifi[cur - 1] == -1:\n                fifi[cur - 1] = i + 1\n        else:\n            cur -= 1\n    ans = 0\n    for elem in fifi:\n        ans += elem\n    print(len(ar) + ans)\n", "for nt in range(int(input())):\n\ts = input()\n\tn = len(s)\n\tcur = 0\n\tloop = 0\n\tans = 0\n\tfor i in range(n):\n\t\tif s[i]==\"+\":\n\t\t\tcur += 1\n\t\telse:\n\t\t\tcur -= 1\n\t\tif (cur + loop)<0:\n\t\t\tans += (i+1)\n\t\t\tloop += 1\n\t\t\t# print (cur,ans,loop)\n\tprint(ans+n)\n", "t=int(input())\nfor _ in range(t):\n    s=input()\n    n=len(s)\n    ans=0\n    grid=[0]*(n+1)\n    score=0\n    maxmin=0\n    for i in range(n):\n        if s[i]=='-':\n            score-=1\n        else:\n            score+=1\n        maxmin=min(maxmin,score)\n    score=0\n    for i in range(n):\n        if s[i]=='-':\n            score-=1\n        else:\n            score+=1\n        if (-1*score-1)>=0:\n            if grid[(-1*score)-1]==0:\n                grid[(-1*score)-1]=(i+1)\n    for i in range(-1*maxmin,n):\n        grid[i]=0\n    grid[n]=n\n    print(sum(grid))\n"]