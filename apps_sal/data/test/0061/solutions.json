["n, bx = list(map(int, input().split()))\nx1 = list(map(int, input().split()))\nx = 0\nfor i in range(n):\n\tx *= bx\n\tx += x1[i]\n\nn, by = list(map(int, input().split()))\ny1 = list(map(int, input().split()))\ny = 0\nfor i in range(n):\n\ty *= by\n\ty += y1[i]\n\nif x == y:\n\tprint('=')\nelif x < y:\n\tprint('<')\nelse:\n\tprint('>')\n", "import math\nfrom decimal import *\nimport sys\nfrom fractions import Fraction\n\n\ninp=input().split()\nn=int(inp[0])\nbx=int(inp[1])\nX=list(map(int,input().split()))\n    \ninp=input().split()\nm=int(inp[0])\nby=int(inp[1])\nY=list(map(int,input().split()))\n\nx=0\nt=1\nfor i in range(0,n):\n   x += X[n-i-1]*t\n   t *= bx\n\ny=0\nt=1\nfor i in range(0,m):\n   y += Y[m-i-1]*t\n   t *= by\n\nif x<y:\n    print(\"<\")\nif x==y:\n    print(\"=\")\nif x>y:\n    print(\">\")\n", "n, bx = map(int, input().split())\ns1 = 0\np1 = 1\nfor i in list(map(int, input().split()))[::-1]:\n    s1 += i * p1\n    p1 *= bx\nm, by = map(int, input().split())\ns2 = 0\np2 = 1\nfor i in list(map(int, input().split()))[::-1]:\n    s2 += i * p2\n    p2 *= by\nif s1 == s2:\n    print('=')\nelif s1 > s2:\n    print('>')\nelse:\n    print('<')", "a,b=map(int,input().split())\nc=list(map(int,input().split()))\nd,e=map(int,input().split())\nf=list(map(int,input().split()))\nn1=0\nn2=0\nfor i in range(len(c)):\n    n1+=c[i]*b**(len(c)-i-1)\nfor i in range(len(f)):\n    n2+=f[i]*e**(len(f)-i-1)\nif n1>n2:\n    print('>')\nelif n1==n2:\n    print('=')\nelse:\n    print('<')", "n, bx = map(int, input().split())\nX = list(map(int, input().split()))\nm, by = map(int, input().split())\nY = list(map(int, input().split()))\nresX, resY = 0, 0\nfor i in range(n):\n    resX += X[-i - 1] * bx ** i\nfor i in range(m):\n    resY += Y[-i - 1] * by ** i\nif(resX < resY):\n    print(\"<\")\nelif(resX == resY):\n    print(\"=\")\nelse:\n    print(\">\")", "a = []\nfor i in range(2):\n    n, b = list(map(int, input().split()))\n    a.append(0)\n    for x in map(int, input().split()):\n        a[-1] = a[-1] * b + x\nprint('<>='[(a[0] == a[1]) + (a[0] >= a[1])])\n", "import sys\na, b = [int(x) for x in input().split()]\nbase = b ** (a - 1)\nres1 = 0\narr = [int(x) for x in input().split()]\nfor digit in arr:\n    res1 += digit * base\n    base //= b\n\na, b = [int(x) for x in input().split()]\nbase = b ** (a - 1)\nres2 = 0\narr = [int(x) for x in input().split()]\nfor digit in arr:\n    res2 += digit * base\n    base //= b\n\nif res1 > res2:\n    print('>')\nelif res1 < res2:\n    print('<')\nelse:\n    print('=')\n\n", "n,bx = list(map(int, input().split()))\nX = list(map(int, input().split()))\nm,by = list(map(int, input().split()))\nY = list(map(int, input().split()))\n\ndef calcul(n,bx,X):\n    r = X[n-1]\n    c = 1\n    for k in range(2,n+1):\n        c *= bx\n        r += X[n-k]*c\n    return r\n\nx = calcul(n,bx,X)\ny = calcul(m,by,Y)\nif x==y:\n    print(\"=\")\nelif x>y:\n    print(\">\")\nelse:\n    print(\"<\")\n", "3\n\ndef make_num(lst, bx):\n\tres = 0\n\tfor elem in lst:\n\t\tres *= bx\n\t\tres += elem\n\treturn res\n\n\nn, bx = map(int, input().split())\nnum1  = make_num(map(int, input().split()), bx)\n\nm, by = map(int, input().split())\nnum2  = make_num(map(int, input().split()), by)\n\nif num1 < num2:\n\tprint('<')\nelif num1 == num2:\n\tprint('=')\nelse:\n\tprint('>')", "n, bx = list(map(int, input().split()))\nx = list(map(int, input().split()))\nm, by = list(map(int, input().split()))\ny = list(map(int, input().split()))\ntmp = 1\nans = 0\nfor i in range(1, n + 1):\n    ans += x[-i] * tmp\n    tmp *= bx\nans1 = 0\ntmp = 1\nfor i in range(1, m + 1):\n    ans1 += y[-i] * tmp\n    tmp *= by\nif ans < ans1:\n    print(\"<\")\nelif ans > ans1:\n    print(\">\")\nelse:\n    print(\"=\")\n\n", "(n, b) = list(map(int, input().split()))\nx = list(map(int, input().split()))\n(m, c) = list(map(int, input().split()))\ny = list(map(int, input().split()))\nx = x[::-1]\ny = y[::-1]\nX = 0\nY = 0\nfor i in range(len(x)):\n    X += x[i] * b ** i\nfor i in range(len(y)):\n    Y += y[i] * c ** i\nif (X == Y):\n    print(\"=\")\nelif (X < Y):\n    print(\"<\")\nelse:\n    print(\">\")\n", "n, bx = list(map(int, input().split()))\nb = list(map(int, input().split()))\nansx = 0\nfor i in range(n - 1, -1, -1):\n    ansx += b[i] * bx**(n - i - 1)\n\nm, by = list(map(int, input().split()))\nb = list(map(int, input().split()))\nansy = 0\nfor i in range(m - 1, -1, -1):\n    ansy += b[i] * by**(m - i - 1)\nif (ansx == ansy):\n    print('=')\nelif ansx > ansy:\n    print('>')\nelse:\n    print('<')\n", "def convert(digits, base):\n    res = 0\n    digits.reverse()\n    power = 1\n    for i in digits:\n        res += i * power\n        power *= base\n    return res\n\nn, base_a = [int(x) for x in input().split()]\ndigits_a = [int(x) for x in input().split()]\na = convert(digits_a, base_a)\n\nn, base_a = [int(x) for x in input().split()]\ndigits_a = [int(x) for x in input().split()]\nb = convert(digits_a, base_a)\n\nif a < b:\n    print(\"<\")\nelif a > b:\n    print(\">\")\nelse:\n    print(\"=\")\n", "n, bx = list(map(int, input().split()))\nx = list(map(int, input().split()))\n\nm, by = list(map(int, input().split()))\ny = list(map(int, input().split()))\n\nx = x[::-1]\ny = y[::-1]\nst = 1\nansx = 0\nfor i in range(n):\n    ansx += x[i] * st\n    st *= bx\n\nst = 1\nansy = 0\nfor i in range(m):\n    ansy += y[i] * st\n    st *= by\n\nprint(\"=\" if ansx == ansy else (\"<\" if ansx < ansy else \">\"))\n", "n, bx = list(map(int,input().split()))\n\nnum = list(map(int,input().split()))\n\nnum.reverse()\n\norig = 0\nfor i in range(0,len(num)):\n    orig += num[i]*bx**i\n\n\nn, bx2 = list(map(int,input().split()))\n\nnum = list(map(int,input().split()))\n\nnum.reverse()\n\norig2 = 0\nfor i in range(0,len(num)):\n    orig2 += num[i]*bx2**i\n\n\nif orig == orig2:\n    print('=')\nelif orig < orig2:\n    print('<')\nelse:\n    print('>')\n", "__author__ = 'cmashinho'\n\nn, b = list(map(int, input().split()))\nlB = list(map(int, input().split()))\nm, y = list(map(int, input().split()))\nlY = list(map(int, input().split()))\n\nnB = 0\nnY = 0\n\nfor i in range(n):\n    nB += lB[i] * int(pow(b, (n - i - 1)))\n\nfor i in range(m):\n    nY += lY[i] * int(pow(y, (m - i - 1)))\n\nif nB == nY:\n    print(\"=\")\nelif nB > nY:\n    print(\">\")\nelse:\n    print(\"<\")\n", "n1, b1 = list(map(int, input().split()))\nans1 = 0\na1 = list(map(int, input().split()))\nn2, b2 = list(map(int, input().split()))\nans2 = 0\na2 = list(map(int, input().split()))\nfor i in range(n1):\n    ans1 += a1[i] * (b1 ** (n1 - i - 1))\nfor i in range(n2):\n    ans2 += a2[i] * (b2 ** (n2 - i - 1))\nif (ans1 == ans2):\n    print('=')\nelse:\n    if ans1 > ans2:\n        print('>')\n    else:\n        print('<')\n", "n, xbase = list(map(int, input().split()))\nxs = list(map(int, input().split()))\n\nm, ybase = list(map(int, input().split()))\nys = list(map(int, input().split()))\n\nx = 0\nxt = 1\nfor c in xs[::-1]:\n\tx += c * xt\n\txt *= xbase\n\ny = 0\nyt = 1\nfor c in ys[::-1]:\n\ty += c * yt\n\tyt *= ybase\n\nif x < y:\n\tprint('<')\nelif x > y:\n\tprint('>')\nelse:\n\tprint('=')\n", "n, m = list(map(int, input().split()))\na = list(map(int, input().split()))\nl, k = list(map(int, input().split()))\nb = list(map(int, input().split()))\nc1 = 0\nc2 = 0\nfor i in range(n - 1, -1, -1):\n    c1 += m ** (n - 1 - i) * a[i]\nfor t in range(l - 1, -1, -1):\n    c2 += k ** (l - 1 - t) * b[t]\nif c1 == c2:\n    print('=')\nelif c1 < c2:\n    print('<')\nelse:\n    print('>')\n", "firstline = [int(x) for x in input().split()]\nfirstnum = 0\nfor digit in input().split():\n    firstnum *= firstline[1]\n    firstnum += int(digit)\n\nsecondline = [int(x) for x in input().split()]\nsecondnum = 0\n\nfor digit in input().split():\n    secondnum *= secondline[1]\n    secondnum += int(digit)\n\nif (firstnum > secondnum):\n    print('>')\nif (firstnum == secondnum):\n    print('=')\nif (firstnum < secondnum):\n    print('<')\n", "# import sys\n# sys.stdin = open('cf602a.in')\n\nn, bx = map(int, input().split())\nx = list(map(int, input().split()))\n\nm, by = map(int, input().split())\ny = list(map(int, input().split()))\n\nxx = sum(v * bx**(len(x) - i - 1) for i, v in enumerate(x))\nyy = sum(v * by**(len(y) - i - 1) for i, v in enumerate(y))\n\nif xx < yy:\n\tprint('<')\nelif xx == yy:\n\tprint('=')\nelse:\n\tprint('>')", "n1 = 0\nn, b = list(map(int, input().split()))\na = list(map(int, input().split()))\na.reverse()\nfor i in range(n):\n    n1 += a[i] * (b ** i)\nn2 = 0\nn, b = list(map(int, input().split()))\na = list(map(int, input().split()))\na.reverse()\nfor i in range(n):\n    n2 += a[i] * (b ** i)\nif n1 < n2:\n    print(\"<\")\nif n1 == n2:\n    print(\"=\")\nif n1 > n2:\n    print(\">\")\n", "n, b = [int(i) for i in input().split(\" \")]\nbx = [int(i) for i in input().split(\" \")]\nm, a = [int(i) for i in input().split(\" \")]\nax = [int(i) for i in input().split(\" \")]\nbb, aa = 0, 0\nfor i in bx:\n    aa = aa * b + i\nfor i in ax:\n    bb = bb * a + i\nif aa < bb:\n    print('<')\nelif aa == bb:\n    print('=')\nelse:\n    print('>')\n", "z1 = list(map(int,input().split()))\nx = list(map(int,input().split()))\nz2 = list(map(int,input().split()))\ny= list(map(int,input().split()))\n\nn1, b1 = z1[0],z1[1]\nn2, b2 = z2[0],z2[1]\n\nansx = ansy = 0\n\nfor i in range(n1):\n    ansx+= x[n1-i-1]*(b1**i)\nfor i in range(n2):\n    ansy+= y[n2-i-1]*(b2**i)\n    \nif ansx == ansy:\n    print('=')\nelif ansx > ansy:\n    print('>')\nelse:\n    print('<')\n    \n", "\"\"\"\nCodeforces Round 333 (Div. 2)\n\nProblem 602 A.\n\n@author yamaton\n@date 2015-11-24\n\"\"\"\n\nimport itertools as it\nimport functools\nimport operator\nimport collections\nimport math\nimport sys\n\n\ndef solve(xs, ys, bx, by):\n    x = functools.reduce(lambda acc, x: acc * bx + x, xs)\n    y = functools.reduce(lambda acc, y: acc * by + y, ys)\n    if x < y:\n        return '<'\n    elif x > y:\n        return '>'\n    else:\n        return '='\n\n\n\n# def p(*args, **kwargs):\n#     return print(*args, file=sys.stderr, **kwargs)\n\n\ndef main():\n    [n, bx] = list(map(int, input().strip().split()))\n    xs = [int(c) for c in input().strip().split()]\n    assert len(xs) == n\n    [m, by] = list(map(int, input().strip().split()))\n    ys = [int(c) for c in input().strip().split()]\n    assert len(ys) == m\n\n    result = solve(xs, ys, bx, by)\n    print(result)\n\n\ndef __starting_point():\n    main()\n\n__starting_point()"]