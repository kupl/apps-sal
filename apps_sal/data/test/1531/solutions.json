["n=int(input())\na=tuple(map(int,input().split()))\nc={}\np={}\ns=x=y=0\nm=-1e18\nfor i in range(0,len(a)):\n    d=c.get(a[i])\n    if d!=None and s-d+a[i]*2>m:\n        m=s-d+a[i]*2\n        x,y=p.get(a[i]),i\n    if(a[i]>0):s+=a[i]  \n    if p.get(a[i])==None:\n        p[a[i]]=i\n        c[a[i]]=s\na=[str(i+1) for i in range(0,len(a)) if i!=x and i!=y and (a[i]<0 or i<x or i>y)]\nprint(m,len(a))\nprint(\" \".join(a))\n", "n=int(input())\na=tuple(map(int,input().split()))\nc={}\np={}\ns=x=y=0\nm=-1e18\nfor i in range(0,len(a)):\n    d=c.get(a[i])\n    if d!=None and s-d+a[i]*2>m:\n        m=s-d+a[i]*2\n        x,y=p.get(a[i]),i\n    if(a[i]>0):s+=a[i]  \n    if p.get(a[i])==None:\n        p[a[i]]=i\n        c[a[i]]=s\na=[str(i+1) for i in range(0,len(a)) if i!=x and i!=y and (a[i]<0 or i<x or i>y)]\nprint(m,len(a))\nprint(\" \".join(a))\n"]